function ahsu(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b,d){function e(){window.requestAnimationFrame(f)}a.modalIdSelector="#"+d.id,a.$on("$destroy",function(){c.visibility(a.modalIdSelector),$(a.modalIdSelector).remove()}),c.visibility(a.modalIdSelector,"focus"),l(function(){var a=angular.element("#ahsu-content-drawer-header")[0],b=(angular.element(a),angular.element("#ahsu-form")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$("#ahsu-content-drawer-content").off("scroll",e).on("scroll",e)},0);var f=function(){var a=angular.element("#ahsu-content-drawer-header")[0],b=angular.element(a),c=angular.element("#ahsu-form")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e?b.addClass("scrolling"):b.removeClass("scrolling")}}function n(a){function b(){y.isProcessing=!1,y.perner=h.getUserSearch().perner,y.language=d,y.timeRanges=w,y.ahsuForm={},y.dateFormat="MM/dd/yyyy",y.datePlaceholder="mm/dd/yyyy",y.multipleDaysSelected=!1,y.status={start:{open:!1},end:{open:!1}},y.dateOptions={"year-format":"'yy'","show-weeks":!1},y.startDate=j(a.day.startsAt).format("MM/DD/YYYY"),y.endDate=j(a.day.startsAt).format("MM/DD/YYYY");var b=new Date;y.minDate=b.setDate(b.getDate()-1),y.isEdit="Blocked"!==a.day.additionalHoursDayState,y.newRequest=null===a.day.additionalHours,y.isMyLocation=o(a.day.additionalHours),y.locationOptions=g(),y.getLocationSummary=i,y.timeOptions=m(),y.getTimeSummary=n,y.timeRangeOptions=k(),y.getTimeRangeSummary=l,y.access=h.getSession().access;var c=p(a.day.additionalHours);y.time=c.time,y.timeRange=c.timeRange,y.daysOfWeek=f(),y.openDatePicker=t,y.dateRange={startDateChange:q,startDateHasError:!1,endDateChange:x,endDateHasError:!1,notInRange:!1},y.cancelModal=v,y.save=r,y.remove=s,y.setProcessingStatus=u,y.onLocationChange=function(a){y.isMyLocation=a},y.getDaysOfWeekSummary=e,y.showDeleteButton=y.isEdit&&!y.newRequest}function c(){y.timeRange===w.before?(y.time=a.day.defaultAvailabilityEndTime,a.$broadcast("event.checkOptionSelected","availability-time-drop-down")):y.timeRange===w.after&&(y.time=a.day.defaultAvailabilityStartTime,a.$broadcast("event.checkOptionSelected","availability-time-drop-down"))}function e(){var a="",b=y.daysOfWeek.filter(function(a){return!0===a.selected}),c=b.length;switch(c){case 0:a=d.getLocale("section.ahsu.days-of-week.none");break;case 1:a=d.getLocale("section.ahsu.days-of-week.single");break;case 2:case 3:case 4:case 5:case 6:a=d.getLocale("digits."+c)+" "+d.getLocale("section.ahsu.days-of-week.days");break;case 7:a=d.getLocale("section.ahsu.days-of-week.every")}return a}function f(){for(var a=[],b=j().day("Sunday"),c=1;c<=7;c++)a.push({label:b.format("dddd"),value:"Y",selected:!0,toggle:function(){if(!0===this.selected){y.daysOfWeek.filter(function(a){return!0===a.selected}).length>1&&(this.selected=!this.selected)}else this.selected=!this.selected}}),b.add(1,"d");return a}function g(){var a=[];return a.push({label:d.getLocale("section.ahsu.location.any"),value:"N",toggle:function(){y.isMyLocation=this.value}}),a.push({label:d.getLocale("section.ahsu.location.my"),value:"Y",toggle:function(){y.isMyLocation=this.value}}),a}function i(){return y.locationOptions.filter(function(a){return a.value===y.isMyLocation})[0].label}function k(){var a=[];return a.push({label:d.getLocale("section.ahsu.time-range.all"),value:w.allDay,toggle:function(){y.timeRange=this.value}}),a.push({label:d.getLocale("section.ahsu.time-range.before"),value:w.before,toggle:function(){y.timeRange=this.value,c()}}),a.push({label:d.getLocale("section.ahsu.time-range.after"),value:w.after,toggle:function(){y.timeRange=this.value,c()}}),a}function l(){return y.timeRangeOptions.filter(function(a){return a.value===y.timeRange})[0].label}function m(){for(var a=[],b=0;b<24;b++){var c=b<10?"0"+b:b;a.push({label:c+"00",value:c+":00:00",toggle:function(){y.time=this.value}})}return a}function n(){return y.timeOptions.filter(function(a){return a.value===y.time})[0].label}function v(){a.$destroy()}function x(a,b,c){if(a.dateRange.endDateHasError=!(c instanceof Date),b instanceof Date||(b=new Date(b)),a.dateRange.endDateHasError||(a.dateRange.endDateHasError=b>c||c>new Date("1/1/2019")),!a.dateRange.endDateHasError){var d=new Date(c);d.setDate(d.getDate()-49),a.dateRange.notInRange=d>b;var e=j(y.startDate),f=j(y.endDate);y.multipleDaysSelected=!f.isSame(e)}}var y=this;b()}function o(a){return a&&a.myLocationOnlyIndicator?a.myLocationOnlyIndicator:"Y"}function p(a){var b={time:"12:00:00",timeRange:w.allDay};return a&&a.availabilityStartTime?(b.time=a.availabilityStartTime,b.timeRange=w.after):a&&a.availabilityEndTime&&(b.time=a.availabilityEndTime,b.timeRange=w.before),b}function q(a,b,c){if(a.dateRange.startDateHasError=!(b instanceof Date),c instanceof Date||(c=new Date(c)),a.dateRange.startDateHasError||(a.dateRange.startDateHasError=a.minDate<=b==!1||b>c),!a.dateRange.startDateHasError){var d=c;d.setDate(d.getDate()-7),a.dateRange.notInRange=d>b}}function r(b){var c={perner:b.perner,startDate:j(b.startDate).format("MM/DD/YYYY"),endDate:j(b.endDate).format("MM/DD/YYYY"),weekdays:b.daysOfWeek.map(function(a){return!0===a.selected?a.value:"N"}),myLocationOnlyIndicator:b.isMyLocation};b.timeRange===w.before?c.availabilityEndTime=b.time:b.timeRange===w.after&&(c.availabilityStartTime=b.time),i.spin("spinner-2"),b.isProcessing=!0,g.save(c).then(function(e){var g=e.data.body;b.isProcessing=!1,g.hasError?f.error(g.message,d.getLocale("notifications.label.error"),{timeOut:4e3}):f.success(d.getLocale("toast.save.successful"),d.getLocale("notifications.label.success"),{timeOut:4e3}),b.cancelModal(),a.calendarChanged(null,new Date(c.startDate))}).catch(function(a){var b=a.message?a.message:a;f.error(b,d.getLocale("notifications.label.error"),{timeOut:4e3})}).finally(function(){i.stop("spinner-2")})}function s(c){function h(){var b={perner:c.perner,startDate:j(c.startDate).format("MM/DD/YYYY"),endDate:j(c.endDate).format("MM/DD/YYYY"),weekdays:c.daysOfWeek.map(function(a){return!0===a.selected?a.value:"N"})};i.spin("spinner-2"),g.remove(b).then(function(e){var g=e;g.hasError?f.error(g.message,d.getLocale("notifications.label.error"),{timeOut:4e3}):f.success(d.getLocale("toast.delete.successful"),d.getLocale("notifications.label.success"),{timeOut:4e3}),c.cancelModal(),a.calendarChanged(null,new Date(b.startDate))}).catch(function(a){var b=a.message?a.message:a;f.error(b,d.getLocale("notifications.label.error"),{timeOut:4e3})}).finally(function(){i.stop("spinner-2")})}e.create("app/features/modal/modal.confirm-delete.additionalHours.html","ModalController",{},{windowClass:"fullscreen",size:"sm"}).result.then(function(){h()},function(){b.defer().resolve()})}function t(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function u(a){this.isProcessing=a,a?i.spin("spinner-2"):i.stop("spinner-2")}var v={replace:!1,restrict:"A",templateUrl:"app/features/ahsu/ahsu.html",controller:n,controllerAs:"ahsuVm",link:m};n.$inject=["$scope"];var w={allDay:0,before:1,after:2};return v}function editSeniorityDateContainer(a,b,c){function d(d,e){b.$on("bid.castMemberClicked",function(f,g){if(g){b.modalId="#edit-seniority-date-modal";e.append(a('<div edit-seniority-date-form id="edit-seniority-date-modal" cast-member="bidVm.castMember" class="side-modal slide-animation"></div>')(d)),c.visibility(b.modalId,"focus")}})}return{replace:!1,restrict:"A",controller:editSeniorityDateContainer,controllerAs:"editSeniorityDateContainer",link:d}}function editSeniorityDateForm(a,b,c,d,e,f,g){function h(h){function i(a,b){c.closeModal(a,b)}function j(a){a.editSeniorityDateFormVm.processing=!0,a.$parent.bidVm.editSeniorityDate(m).then(function(){a.editSeniorityDateFormVm.processing=!1})}function k(a){a.preventDefault(),a.stopPropagation(),m.status.open=!0}function l(){g.create("app/features/modal/modal.confirm-delete.html","ModalDataController",{title:b.getLocale("modal.timeoff.title.delete.adjusted-seniority-date"),message:b.getLocale("modal.timeoff.message.delete.adjusted-seniority-date")},{windowClass:"fullscreen",size:"sm"}).result.then(function(b){return c.closeModal(),f.spin("spinner-1"),e.deleteAdjustmentDate(m.castMember).success(function(b){a.$emit("reloadCastMembers")}).error(function(a){}).finally(function(a){f.stop("spinner-1")})},function(){})}var m=this;m.language=b,m.form={},m.castMember=h.castMember,m.deleteAdjustedDate=l,m.employeePersonnelNumber=m.castMember.employeePersonnelNumber,m.dateFormat="MM/dd/yyyy",m.datePlaceholder="mm/dd/yyyy",m.dateOptions={"year-format":"'yy'","show-weeks":!1},m.status={open:!1},m.castMember.vacationBidOverrideDate?m.vacationBidOverrideDate=moment(m.castMember.vacationBidOverrideDate).format("MM/DD/YYYY"):m.vacationBidOverrideDate=null,m.minDate=moment("1940-01-01").format("MM/DD/YYYY"),m.maxDate=moment().format("MM/DD/YYYY");d.getSession();m.scope=h,m.cancelModal=i,m.submit=j,m.openDatePicker=k}var i={replace:!1,restrict:"A",templateUrl:"app/features/bid/partials/edit-seniority-date-form.html",scope:{castMember:"="},controller:h,controllerAs:"editSeniorityDateFormVm"};return h.$inject=["$scope"],i}function viewAllotmentContainer(a,b,c){function d(d,e){b.$on("calendar-maintenance.viewAllotment",function(f,g,h,i){b.modalId="#view-allotment-modal",d.allotments=g,d.header=h,d.lookups=i,e.append(a('<div view-allotment-form id="view-allotment-modal" class="side-modal slide-animation"></div>')(d)),c.visibility(b.modalId,"focus")})}return{replace:!1,restrict:"A",controller:viewAllotmentContainer,controllerAs:"viewAllotmentContainer",link:d}}function viewAllotmentForm(a,b,c,d,e){function f(f){var g=this;g.language=a,g.allotments=f.allotments,g.header=f.header,g.lookups=f.lookups,g.editForm={},g.title="Allotment screen title",g.cancelModal=function(a,c){b.closeModal(a,c)},g.isProcessing=!1,g.editAllotment=function(a){var b={vacationAllotmentRuleId:a.vacationAllotmentRuleId,vacationAllotmentRuleName:a.vacationAllotmentRuleName,vacationAllotmentRuleFloatingHolidayDayCount:a.vacationAllotmentRuleFloatingHolidayDayCount,vacationAllotmentRuleEmployeeBenefitBankInclusionIndicator:a.vacationAllotmentRuleEmployeeBenefitBankInclusionIndicator,vacationAccrualRules:[]};angular.forEach(a.vacationAccrualRules,function(a){b.vacationAccrualRules.push({vacationAccrualRuleId:a.vacationAccrualRuleId,timeOffCalendarVacationFromYearNumber:a.timeOffCalendarVacationFromYearNumber,timeOffCalendarVacationToYearNumber:a.timeOffCalendarVacationToYearNumber,vacationDayCount:a.vacationDayCount})}),g.allotment.setData(b)},g.allotment={data:null,setData:function(a){this.data=a},createAllotment:function(){this.data={vacationAllotmentRuleName:"",vacationAllotmentRuleFloatingHolidayDayCount:0,vacationAllotmentRuleEmployeeBenefitBankInclusionIndicator:"N",vacationAccrualRules:[]}},getNewAccrual:function(){return{vacationAccrualRuleId:0,timeOffCalendarVacationFromYearNumber:0,timeOffCalendarVacationToYearNumber:0,vacationDayCount:0,shouldDelete:!1}},addAccrual:function(){this.data.vacationAccrualRules.push(this.getNewAccrual())},setForm:function(a,b){var c=b.filter(function(a){return a.timeOffCalendarVacationFromYearNumber>a.timeOffCalendarVacationToYearNumber});a.$invalid=a.$invalid||c.length>0},save:function(){d.spin("spinner-1"),this.data.vacationAccrualRules=this.data.vacationAccrualRules.filter(function(a){return!(0===a.vacationAccrualRuleId&&a.shouldDelete)}),g.isProcessing=!0;var b=this;return c.saveAllotment(this.data).success(function(c){if(g.isProcessing=!1,c.body.hasError)return void e.error(c.body.message,a.getLocale("notifications.label.error"),{timeOut:6e3});e.success(a.getLocale("section.calendar-maintenance.calendar.savemessage"),a.getLocale("notifications.label.success"),{timeOut:4e3}),b.setData(null),b.updateAllotmentList()}).error(function(a){}).finally(function(){d.stop("spinner-1")})},updateAllotmentList:function(){return d.spin("spinner-1"),g.isProcessing=!0,c.getAllotments().success(function(a){g.allotments=a.body.data,g.isProcessing=!1,g.lookups.allotment.getAllotments(g.header)}).error(function(a){}).finally(function(){d.stop("spinner-1")})}}}var g={replace:!1,restrict:"A",templateUrl:"app/features/calendar-maintenance/calendar-maintenance.directive.view-allotment-form.html",controller:f,controllerAs:"viewAllotmentFormVm"};return f.$inject=["$scope"],g}function timeOffRequest(a,b,c,d,e,f,g,h,i,j,k){function l(a,b,d){function e(){window.requestAnimationFrame(f)}a.modalIdSelector="#"+d.id,a.$on("$destroy",function(){c.visibility(a.modalIdSelector),$(a.modalIdSelector).remove()}),c.visibility(a.modalIdSelector,"focus"),k(function(){var a=angular.element("#time-off-request-content-drawer-header")[0],b=(angular.element(a),angular.element("#time-off-request-form")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$("#time-off-request-content-drawer-content").off("scroll",e).on("scroll",e)},0);var f=function(){var a=angular.element("#time-off-request-content-drawer-header")[0],b=angular.element(a),c=angular.element("#time-off-request-form")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e?b.addClass("scrolling"):b.removeClass("scrolling")}}function m(k){function l(){v.isOverride=!v.isOverride}function m(a){if(!c.hasValue(a))return[];var b=[];return a.forEach(function(a){b.push({label:a.name,value:a.code,toggle:function(){v.currentPayType=this.value}})}),b}function s(c,l){function m(b,c,e){return j.spin("spinner-1"),i.submitTimeoff(t).success(function(g){!1===g.body.hasError?(f.success(d.getLocale("toast.save.successful"),d.getLocale("notifications.label.success"),{timeOut:4e3}),c&&c(800,e),k.$destroy(),a.calendarChanged(b)):(o.processing=!1,f.error(g.body.message,d.getLocale("notifications.label.error"),{timeOut:6e3})),n.resolve()}).error(function(a){return o.processing=!1,n.reject(a.body.data)}).finally(function(){j.stop("spinner-1")})}var n=b.defer(),o=v.calDayForm;o.processing=!0;var p=h.getUserSearch();p.perner=p.perner||null,a.calRequestDate=v.startDate;var r=null;v.isOverride||(r=v.currentPayType);var s=q(v.startDate,v.endDate,r),t={perner:p.perner,dates:s};if(v.isOverride){g.setVm({day:this.day});e.create("app/features/modal/modal.confirm-leader-override.html","ModalController",{},{size:"sm"}).result.then(function(a){t.leaderOverride={isOverride:v.isOverride,comment:a.comment},m(c,l,new Date(t.dates[0].date))},function(){o.processing=!1,n.resolve()})}else m(c,l,new Date(t.dates[0].date));return n.promise}function t(c,g){function l(b,c,e){j.spin("spinner-1"),i.deleteTimeoff(p).success(function(g){!1===g.body.hasError?(f.success(d.getLocale("toast.delete.successful"),d.getLocale("notifications.label.success"),{timeOut:4e3}),c&&c(800,e),k.$destroy(),a.calendarChanged(b)):f.error(g.body.message,d.getLocale("notifications.label.error"),{timeOut:6e3}),m.resolve()}).error(function(a){return m.resolve(a.body.data)}).finally(function(){j.stop("spinner-1")})}var m=b.defer(),n=h.getUserSearch();n.perner=n.perner||null,a.calRequestDate=v.startDate;var o=q(v.startDate,v.endDate,null),p={perner:n.perner,dates:o};return e.create("app/features/modal/modal.confirm-delete.html","ModalDataController",{title:d.getLocale("modal.timeoff.title.delete"),message:d.getLocale("modal.timeoff.message.delete")},{windowClass:"fullscreen",size:"sm"}).result.then(function(){l(c,g,new Date(p.dates[0].date))},function(){m.resolve()}),m.promise}function u(){k.$destroy()}var v=this;v.language=d,v.calDayForm={processing:!1},v.dateFormat="MM/dd/yyyy",v.datePlaceholder="mm/dd/yyyy",v.refreshMonthlyCalendar=k.refreshMonthlyCalendar,v.status={start:{open:!1},end:{open:!1}},v.payTypesLoaded=!1,v.dateOptions={"year-format":"'yy'","show-weeks":!1},v.startDate=moment(k.day.startsAt).format("MM/DD/YYYY"),v.endDate=moment(k.day.startsAt).format("MM/DD/YYYY");var w=new Date;v.minDate=w.setDate(w.getDate()-1),v.isOverride=!1,v.toggleIsOverride=l,v.day=k.day,v.payTypeOptions=[],v.dayStates=i.getDayStates();h.getSession();v.scope=k,j.spin("spinner-1"),p(v.day.startsAt,v.day.timeOffDayState).then(function(a){if(v.payTypeOptions=m(a.data.body.data),v.payTypeOptions.length>0&&k.day.timeoff.hasTimeoff){var b=-1;v.payTypeOptions.filter(function(a,c){a.label===k.day.timeoff.ebType.name&&a.value===k.day.timeoff.ebType.symbol&&(b=c)}),-1===b&&(b=v.payTypeOptions.length,v.payTypeOptions.push({label:k.day.timeoff.ebType.name,value:k.day.timeoff.ebType.symbol,toggle:function(){v.currentPayType=this.value}})),v.currentPayType=v.payTypeOptions[b].value}else v.payTypeOptions.length>0&&(v.currentPayType=v.payTypeOptions[0].value);v.payTypesLoaded=!0,j.stop("spinner-1")}),v.getPayTypeSummary=function(){return v.payTypeOptions.filter(function(a){return a.value===v.currentPayType})[0].label},v.editModal=k.day.timeoff.hasTimeoff||k.day.timeoff.isPending,v.cancelModal=u,v.submitTimeoff=s,v.deleteTimeoff=t,v.openDatePicker=r,v.dateRange={startDateChange:n,startDateHasError:!1,endDateChange:o,endDateHasError:!1,notInRange:!1},v.showDeleteButton=v.editModal&&!1!==v.day.timeoff.canDelete}function n(a,b,c){if(a.dateRange.startDateHasError=!(b instanceof Date),c instanceof Date||(c=new Date(c)),a.dateRange.startDateHasError||(a.dateRange.startDateHasError=a.minDate<=b==!1||b>c),!a.dateRange.startDateHasError){var d=c;d.setDate(d.getDate()-7),a.dateRange.notInRange=d>b}}function o(a,b,c){if(a.dateRange.endDateHasError=!(c instanceof Date),b instanceof Date||(b=new Date(b)),a.dateRange.endDateHasError||(a.dateRange.endDateHasError=b>c),!a.dateRange.endDateHasError){var d=new Date(a.endDate.valueOf());d.setDate(d.getDate()-7),a.dateRange.notInRange=d>b}}function p(a,c){var e=h.getUserSearch();e.perner=e.perner||null;var g={perner:e.perner,effectiveDate:moment(a).format("MM/DD/YYYY"),timeOffDayState:c};return i.getPayTypes(g).success(function(a){return!0===a.body.hasError&&f.error(a.body.message,d.getLocale("notifications.label.error"),{timeOut:6e3}),b.defer().resolve()}).error(function(a){return b.defer().reject()})}function q(a,b,c){for(var d=a instanceof Date?a:new Date(a),e=b instanceof Date?b:new Date(b),f=[],g=[],h=0,i=moment(d).format("MM/DD/YYYY");;){if(g[h]=new Date(i),g[h].setDate(g[h].getDate()+h),f.push({date:moment(g[h]).format("MM/DD/YYYY"),code:c}),g[h]>=e)break;h++}return f}function r(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}var s={replace:!1,restrict:"A",templateUrl:"app/features/calendar/partials/time-off-request.html",controller:m,controllerAs:"timeOffRequestVm",link:l};return m.$inject=["$scope"],s}function viewFutureRequestsContainer(a,b,c){function d(d,e){b.$on("calendar.viewFutureRequests",function(f,g,h){b.modalId="#view-future-requests-modal",d.futureRequests=g,d.calendarChanged=h,e.append(a('<div view-future-requests-form id="view-future-requests-modal" class="side-modal slide-animation view-future-requests-container"></div>')(d)),c.visibility(b.modalId,"focus")})}return{replace:!1,restrict:"A",controller:viewFutureRequestsContainer,controllerAs:"viewFutureRequestsContainer",link:d}}function viewFutureRequestsForm(a,b,c,d,e){function f(b,c,d){function f(){window.requestAnimationFrame(g)}h="#"+d.id,e.visibility(h,"focus",!1),b.$on("$destroy",function(){i=!1,$(h).remove()}),a(function(){$(h).toggleClass("pocket-panel-active");var a=angular.element(".pocket-panel-header")[0],b=(angular.element(a),angular.element(".pocket-panel-body")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$(".pocket-panel-content").off("scroll",f).on("scroll",f)},0);var g=function(){var a=($(h),angular.element(".pocket-panel-header")[0]),b=angular.element(a),c=angular.element(".pocket-panel-body")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e-20?b.addClass("scrolling"):b.removeClass("scrolling")}}function g(a){var d=this;d.language=b,d.form={},d.futureRequests=a.futureRequests,d.calendarChanged=a.calendarChanged,d.open=function(a){d.cancelModal(),d.calendarChanged("month",a,null,!0)},d.cancelModal=function(){c.closeModal("#view-future-requests-modal",!1)}}var h="",i=!1,j={replace:!1,restrict:"A",templateUrl:"app/features/calendar/partials/view-future-requests-form.html",controller:g,controllerAs:"viewFutureRequestsFormVm",link:f};return g.$inject=["$scope"],j}function calendarYearOption(a,b){function c(a,b,c){a.dropDownId=c.id}function d(c,d,e){function f(){l.year--}function g(){l.year++}function h(){l.toggle(),l.wasMonthSelected=!1,l.calendarChanged("month",l.targetMonthYear)}function i(a){var b=a+"/01/"+l.year;l.targetMonthYear=new Date(b),l.wasMonthSelected=!0}function j(){!1===l.dropDownOpen?($("#"+c.dropDownId+" .calendar-year-options-container").addClass("calendar-year-options-container-open"),b(function(){l.dropDownOpen=!l.dropDownOpen,document.addEventListener("click",k)})):(l.dropDownOpen=!l.dropDownOpen,b(function(){$("#"+c.dropDownId+" .calendar-year-options-container").removeClass("calendar-year-options-container-open"),document.removeEventListener("click",k)},500))}function k(a){$(a.target).closest("#"+c.dropDownId).length||(a.stopPropagation(),a.preventDefault(),j())}var l=this;l.targetMonthYear=c.startDate,l.calendarChanged=c.calendarChanged,l.placeHolder=c.placeHolder,l.wasMonthSelected=!1,l.year=e(l.targetMonthYear).year(),l.language=a,l.dropDownOpen=!1,l.toggle=j,l.previousYear=f,l.nextYear=g,l.monthSelected=i,l.submit=h,c.$watch("placeHolder",function(){l.placeHolder=c.placeHolder})}var e={replace:!1,restrict:"A",templateUrl:"app/features/calendar/partials/calendar-year-option.html",scope:{startDate:"=",calendarChanged:"=",placeHolder:"="},controller:d,controllerAs:"calendarYearOptionVm",link:c};return d.$inject=["$scope","utilities","moment"],e}function ehhSearch(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b,c){r="#"+c.id,a.$on("$destroy",function(){$(r).remove(),$("body").removeClass("hide-scrollbar")})}function q(p){function q(){d(A.searchDate).isValid()&&(A.searchDateFormatted=d(A.searchDate).format("dddd, MMM DD"),m.params.afterOnBehalfOfParams.ehhSearch.searchDate=A.searchDate,y())}function r(){var a=[];return a.push({label:b.getLocale("section.ehh.search.location.all"),value:!1,toggle:function(){A.isMyLocation=this.value,m.params.afterOnBehalfOfParams.ehhSearch.isMyLocation=this.value,y()}}),a.push({label:b.getLocale("section.ehh.search.location.recent"),value:!0,toggle:function(){A.isMyLocation=this.value,m.params.afterOnBehalfOfParams.ehhSearch.isMyLocation=this.value,y()}}),a}function s(){return A.locationOptions.filter(function(a){return a.value===A.isMyLocation})[0].label}function t(a){a.preventDefault(),a.stopPropagation(),A.status.open=!0}function u(){var a=[];return a.push({label:b.getLocale("section.ehh.search.eligibility.eligible"),value:!0,toggle:function(){A.isEligible=this.value,m.params.afterOnBehalfOfParams.ehhSearch.isEligible=this.value,y()}}),a.push({label:b.getLocale("section.ehh.search.eligibility.ineligible"),value:!1,toggle:function(){A.isEligible=this.value,m.params.afterOnBehalfOfParams.ehhSearch.isEligible=this.value,y()}}),a}function v(){return A.eligibilityOptions.filter(function(a){return a.value===A.isEligible})[0].label}function w(b){var c=d(),e=c;return!0===a.hasValue(b)&&!0===d(b).isValid()&&(e=d(b)),e.format("MM/DD/YYYY")}function x(a){var b=!1;return a=a||[],a.forEach(function(a){a.indexOf("Shift is no longer available.")>=0&&(b=!0)}),b}function y(){A.searchResultsReady=!1,c.spin("spinner-1");var a=d(A.searchDate).format("YYYY-MM-DD"),g={date:a,perner:A.searchPerner,isEligible:A.isEligible,isMyLocation:A.isMyLocation};e.search(g).success(function(a){var c=a.body;!0===a.body.isSearchBlocked?j.launchAlertModal({alertModalId:"search-blocked-alert-modal",headline:b.getLocale("section.ehh.search.high-volume"),onAcknowledge:function(){location.reload()}}):!0===c.hasError&&A.toasts.length<1?(A.toasts.push("error"),f.error(c.message,b.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){A.toasts.pop()}})):A.searchResults=z(c.shifts)}).error(function(a){A.toasts.length<1&&(A.toasts.push("error"),f.error(a.body.message+" "+a.body.messageDetail,b.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){A.toasts.pop()}}))}).finally(function(){c.stop("spinner-1"),A.searchResultsReady=!0})}function z(a){return a.map(function(a){return{id:a.id,start:d(a.startTime),end:d(a.endTime),positionDescription:a.positionDescription}})}var A=this,B=i.getUserSearch(),C=!1;A.language=b,A.searchDate=w(p.searchDate),A.searchPerner=p.searchPerner,A.isEligible=p.isEligible,A.isMyLocation=p.isMyLocation,A.searchDateFormatted=d(A.searchDate).format("dddd, MMM DD"),A.searchResults=[],A.searchResultsReady=!1,A.onSearchDateChange=q,A.toasts=[],A.eligibilityOptions=u(),A.locationOptions=r(),A.getLocationSummary=s,A.getEligibilitySummary=v,A.userSession=i.getSession(),A.accessStates=l.getAccessStates(),A.status={open:!1},A.dateFormat="MM/dd/yyyy",A.datePlaceholder="mm/dd/yyyy",A.dateOptions={"year-format":"'yy'","show-weeks":!1},A.openDatePicker=t,A.minDate=d().format("MM/DD/YYYY"),A.maxDate=p.maxDate?p.maxDate:d().add(1,"M").format("MM/DD/YYYY"),p.$on("setEhhMaxSearchDate",function(a,b){A.maxDate=b}),m.params.afterOnBehalfOfParams={ehhSearch:{searchDate:A.searchDate,isEligible:A.isEligible,isMyLocation:A.isMyLocation}},y();var D=n.getHelpContainerId("KB0010091","KB0010091");A.helpUrl=n.getHelpUrl(D),A.shiftSelected=function(a){if(!0!==C)return C=!0,c.spin("spinner-1"),e.getShift(a.id,!1,A.isEligible,B.perner,!0).success(function(c){if(!1===c.body.hasError){var d=c.body.shiftDetail,e=c.body.ineligbleReasons,i=c.body.ineligibleTrainingPackages,l=k.parseIneligibleReasons(e);if(d.id=a.id,d.ehhPositionDescription=d.positionDescription,d.positionDescription=a.positionDescription,x(c.body.ineligbleReasons)){var m=h.getErrorCodes(),n=h.getError(m.ehhShiftUnavailable);j.launchAlertModal({alertModalId:"shift-unavailable-alert-modal",headline:b.getLocale(n.headline),explanation:b.getLocale(n.explanation),onAcknowledge:y()})}else if(d){var o="shift-detail-pocket-panel",q='<div shift-detail class="pocket-panel" id="'+o+'"> </div>';$("body").append(q);var r=p.$root.$new(!0);r.shift=d,r.openShift=!0,r.recommended=!1,r.dismissSecondaryPage=!0,r.secondaryPageScope=p,r.isIneligible=!A.isEligible,r.ineligibleReasons=l,r.swapBackStatus=c.body.swapBackStatus,r.swapBackShifts=c.body.swapBackShifts,r.ineligibleTrainingDetails=i,r.onAlertAcknowledge=function(){r.$destroy(),y()},g($("#"+o)[0])(r)}}else{var s=h.getError(c.body.errorCode);null!==s?j.launchAlertModal({alertModalId:"shift-unavailable-alert-modal",headline:b.getLocale(s.headline),explanation:b.getLocale(s.explanation),onAcknowledge:y()}):(f.error(c.body.message,b.getLocale("section.shiftdetail.error.notfound.title"),{timeOut:6e3}),y())}}).error(function(a){A.toasts.length<1&&(A.toasts.push("error"),f.error(a.body.message+" "+a.body.messageDetail,b.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){A.toasts.pop()}}))}).finally(function(){c.stop("spinner-1"),o(function(){C=!1},600)})}}var r="",s={replace:!1,restrict:"A",templateUrl:"app/features/ehh-search/ehh-search.html",controller:q,controllerAs:"ehhSearchVm",link:p};return q.$inject=["$scope"],s}function shiftMaintenanceEdit(a,b,c,d,e,f,g){function h(a,b,e){function f(){window.requestAnimationFrame(g)}a.modalIdSelector="#"+e.id,a.$on("$destroy",function(){c.visibility(a.modalIdSelector),$(a.modalIdSelector).remove()}),c.visibility(a.modalIdSelector,"focus"),d(function(){var a=angular.element("#edit-shifts-content-drawer-header")[0],b=(angular.element(a),angular.element("#edit-shifts-form")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$("#edit-shifts-content-drawer-content").off("scroll",f).on("scroll",f)},0);var g=function(){var a=angular.element("#edit-shifts-content-drawer-header")[0],b=angular.element(a),c=angular.element("#edit-shifts-form")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e?b.addClass("scrolling"):b.removeClass("scrolling")}}function i(d){function h(){x.language=a,x.singleDaySelected=d.singleDaySelected,x.shiftCount=d.shiftIds.length,x.cancel=function(){d.$destroy()},x.numberOfShiftsMessages=a.getLocale("section.shift-maintenance.edit.number-of-shifts").split("###"),x.getRuleSets=i,x.getRuleSetSummary=j,x.getRuleSetRequired=k,x.ruleSet=null,x.clearRuleSet=function(){x.ruleSet=null},x.getPositions=l,x.getPositionRequired=n,x.getPositionSummary=m,x.position=null,x.clearPosition=function(){x.position=null},x.shiftStatus=null,x.shiftStatuses=o(),x.getShiftStatusSummary=p,x.toasts=[],x.dateFormat="MM/dd/yyyy",x.datePlaceholder="mm/dd/yyyy",x.status={start:{open:!1},end:{open:!1}},x.dateOptions={"year-format":"'yy'","show-weeks":!1},x.minDate=b().format("MM/DD/YYYY"),x.openDatePicker=q,x.startDate=null,x.dateRange={startDateChange:r,startDateHasError:!1,endDateChange:r,endDateHasError:!1,notInRange:!1},x.timeRange={startTimeChange:s,startTimeHasError:!1,endTimeChange:u,endTimeHasError:!1},x.startTime=null,x.endTime=null,x.submit=w}function i(a){var b=[],d=c.hasValue(a)?a.toLowerCase():null;if(c.hasValue(y))for(var e=y.filter(function(a){var b=!1;if(c.hasValue(d)){var e=c.hasValue(a.name)?a.name.toLowerCase():null;c.hasValue(e)&&(b=null!==d&&e.indexOf(d)>=0)}else b=!0;return b}),f=0;f<100&&f+1<=e.length;f++){var g=e[f];b.push({label:g.name,value:g.id,toggle:function(){x.ruleSet=this.value}})}return b}function j(){if(!c.hasValue(y))return null;var a=y.filter(function(a){return a.id===x.ruleSet});return a.length>0?a[0].name:null}function k(){return!1}function l(a){var b=[],d=c.hasValue(a)?a.toLowerCase():null;if(c.hasValue(z))for(var e=z.filter(function(a){var b=!1;if(c.hasValue(d)){var e=c.hasValue(a.name)?a.name.toLowerCase():null;c.hasValue(e)&&(b=null!==d&&e.indexOf(d)>=0)}else b=!0;return b}),f=0;f<100&&f+1<=e.length;f++){var g=e[f];b.push({label:g.name,value:g.id,toggle:function(){x.position=this.value}})}return b}function m(){if(!c.hasValue(z))return null;var a=z.filter(function(a){return a.id===x.position});return a.length>0?a[0].name:null}function n(){return!1}function o(){var b=[];return b.push({label:"",value:null,toggle:function(){x.shiftStatus=this.value}}),b.push({label:a.getLocale("section.shift-maintenance.shift-status.open"),value:a.getLocale("section.shift-maintenance.shift-status.open.value"),toggle:function(){x.shiftStatus=this.value}}),b.push({label:a.getLocale("section.shift-maintenance.shift-status.pending"),value:a.getLocale("section.shift-maintenance.shift-status.pending.value"),toggle:function(){x.shiftStatus=this.value}}),b}function p(){var a=x.shiftStatuses.filter(function(a){return a.value===x.shiftStatus})[0],b="";return c.hasValue(a)&&(b=a.label),b}function q(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function r(){if(!c.hasValue(x.startDate))return void(x.dateRange.startDateHasError=!1);x.dateRange.startDateHasError=!(x.startDate instanceof Date)}function s(){if(x.sameTimes&&(x.timeRange.endTimeHasError=!1),x.sameTimes=!1,!c.hasValue(x.startTime))return void(x.timeRange.startTimeHasError=!1);var a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(x.startTime),b=/([0-1][0-9]|2[0-3])[0-5][0-9]/.test(x.startTime);!a&&b&&(x.startTime=x.startTime.substr(0,2)+":"+x.startTime.substr(2,2),a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(x.startTime)),x.timeRange.startTimeHasError=!a,t()}function t(){x.timeRange.startTimeHasError||x.timeRange.endTimeHasError||(x.sameTimes=x.startTime===x.endTime,x.timeRange.startTimeHasError=x.sameTimes,x.timeRange.endTimeHasError=x.sameTimes)}function u(){if(x.sameTimes&&(x.timeRange.startTimeHasError=!1),x.sameTimes=!1,!c.hasValue(x.endTime))return void(x.timeRange.endTimeHasError=!1)
;var a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(x.endTime),b=/([0-1][0-9]|2[0-3])[0-5][0-9]/.test(x.endTime);!a&&b&&(x.endTime=x.endTime.substr(0,2)+":"+x.endTime.substr(2,2),a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(x.endTime)),x.timeRange.endTimeHasError=!a,t()}function v(){return x.dateRange.startDateHasError||x.timeRange.startTimeHasError||x.timeRange.endTimeHasError}function w(){!0!==v()&&!0!==A&&(A=!0,g.spin("spinner-1"),e.save({shiftDate:c.hasValue(x.startDate)?b(x.startDate).format("MM/DD/YYYY"):null,startTime:c.hasValue(x.startTime)?x.startTime+":00":null,endTime:c.hasValue(x.endTime)?x.endTime+":00":null,positionId:x.position,eligibilityRuleId:x.ruleSet,shiftStatusName:x.shiftStatus,shiftIds:d.shiftIds}).success(function(b){var c=b.body;!0===c.hasError&&x.toasts.length<1?f.error(c.message,a.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){x.toasts.pop()}}):f.success(a.getLocale("section.shift-maintenance.modify.success"),a.getLocale("notifications.label.success"),{timeOut:4e3})}).error(function(b){x.toasts.length<1&&f.error(b.body.message+" "+b.body.messageDetail,a.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){x.toasts.pop()}})}).finally(function(){d.searchShifts(),d.$destroy()}))}var x=this,y=d.allRuleSets,z=d.allPositions,A=!1;h()}var j={replace:!1,restrict:"A",templateUrl:"app/features/shift-maintenance/partials/shift-maintenance-edit.html",controller:i,controllerAs:"shiftMaintenanceEditVm",link:h};return i.$inject=["$scope"],j}function shiftMaintenanceShift(a,b,c,d,e,f,g,h,i){function j(j){function k(){p.shiftStatusPending=a.getLocale("section.shift-maintenance.shift-status.pending.value")===p.shift.shiftStatusName,p.shiftStatusOpen=a.getLocale("section.shift-maintenance.shift-status.open.value")===p.shift.shiftStatusName,p.shiftStatusFilled=a.getLocale("section.shift-maintenance.shift-status.filled.value")===p.shift.shiftStatusName,p.shiftStatusName=o(p.shift.shiftStatusName),p.filledDayLabel=b(p.shift.filledShiftDate).format("ddd"),p.filledDate=b(p.shift.filledShiftDate).format("MMM DD, YYYY HH:mm:ss"),p.shiftDayLabel=b(p.shift.shiftDate).format("ddd"),p.shiftDate=b(p.shift.shiftDate).format("MMM DD, YYYY"),p.timeFrame=b(p.shift.shiftStartTime).format("HH:mm")+" - "+b(p.shift.shiftEndTime).format("HH:mm"),p.shiftLength=n(p.shift)}function l(){!0!==p.shift.locked&&(p.shift.selected=!p.shift.selected)}function m(){d(function(){var a=b(p.shift.shiftLockExpiration),c=e.getEasternTimeZoneMoment(b()),d=a.diff(c);p.formattedTimeToLockExpiration=b(d).format("mm:ss"),!1===q||(d>0?m():p.shift.locked=!1)},1e3)}function n(c){var d=new Date(c.shiftStartTime),e=new Date(c.shiftEndTime),f=d<e?e-d:d-e;return b.duration(f).hours()+" "+a.getLocale("label.hours")+" "+a.getLocale("label.and")+" "+b.duration(f).minutes()+" "+a.getLocale("label.minutes")}function o(b){var c=a.getLocale("section.shift-maintenance.shift-status.open.value"),d=a.getLocale("section.shift-maintenance.shift-status.closed.value"),e=a.getLocale("section.shift-maintenance.shift-status.pending.value"),f=a.getLocale("section.shift-maintenance.shift-status.filled.value"),g="";switch(b){case c:g=a.getLocale("section.shift-maintenance.shift-status.open");break;case d:g=a.getLocale("section.shift-maintenance.shift-status.closed");break;case e:g=a.getLocale("section.shift-maintenance.shift-status.pending");break;case f:g=a.getLocale("section.shift-maintenance.shift-status.filled")}return g}var p=this,q=!0;if(j.$on("$destroy",function(){q=!1}),j.$watch("assignToCastSelected",function(){p.assignToCast.showPopup=p.assignToCast.shift===j.assignToCastSelected}),p.language=a,p.toggleSelected=l,p.shift=j.shift,p.setShift=k,p.updateShift=j.updateShift,p.setShift(),p.assignToCast={shift:p.shift,show:!j.isAssignToCastRequest&&"Open"===p.shift.shiftStatusName&&!p.shift.locked,title:p.language.getLocale("section.shift-maintenance.assign-to-cast"),selectedAssignToCast:function(){this.selectedPerner="",j.assignToCastSelected=j.assignToCastSelected===p.shift?null:p.shift},showPopup:!1,closePopup:function(){this.showPopup=!1},selectedPerner:null,submit:function(){var b={perner:this.selectedPerner,shiftId:this.shift.shiftId,recommended:!1,swapBackShiftId:0};h.spin("spinner-1"),f.signUp(b.perner,b.shiftId,b.recommended,b.swapBackShiftId).success(function(c){var d=c.body;if(!0===d.hasError)i.error(d.errorMessage,a.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){p.toasts.pop()}});else{var e=b.shiftId;g.getShift(e).success(function(b){var c=b.body;!0===c.hasError?i.error(c.errorMessage,a.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){p.toasts.pop()}}):(p.shift=c.data,p.assignToCast.show=!1,p.shift.selected=!1,p.shift.filledShiftDate=new Date,j.assignToCastSelected=null,p.setShift(),p.assignToCast.shift=p.shift,p.updateShift(p.shift),i.success(a.getLocale("notifications.shift-maintenance.assign-to-cast"),a.getLocale("notifications.label.success"),{timeOut:4e3}))}).error(function(b){p.toasts.length<1&&i.error(b.body.message+" "+b.body.messageDetail,a.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){p.toasts.pop()}})}).finally(function(){h.stop("spinner-1")})}}).error(function(b){p.toasts.length<1&&i.error(b.body.message+" "+b.body.messageDetail,a.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){p.toasts.pop()}})}).finally(function(){h.stop("spinner-1")})}},c.hasValue(p.shift.shiftLockExpiration)){p.shift.locked=!0;var r=b(p.shift.shiftLockExpiration),s=e.getEasternTimeZoneMoment(b()),t=r.diff(s);p.formattedTimeToLockExpiration=b(t).format("mm:ss"),m()}}var k={replace:!1,restrict:"A",templateUrl:"app/features/shift-maintenance/partials/shift-maintenance-shift.html",scope:{shift:"=",updateShift:"=",assignToCastSelected:"=",isAssignToCastRequest:"="},controller:j,controllerAs:"shiftMaintenanceShiftVm"};return j.$inject=["$scope"],k}function shiftDetailsContainer(a,b,c){function d(d,e){b.$on("event.shiftDetailsClicked",function(f,g){if(g){b.modalId="#shift-details-modal",d.shift=g;e.append(a('<div shift-details-form id="shift-details-modal"class="side-modal slide-animation"></div>')(d)),c.visibility(b.modalId,"focus")}})}return{replace:!1,restrict:"A",controller:shiftDetailsContainer,controllerAs:"shiftDetailsContainer",link:d}}function shiftDetailsForm(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){var b=this;b.language=d,b.shiftDetailsForm={},b.dateFormat="MM/dd/yyyy",b.datePlaceholder="mm/dd/yyyy",b.title="shift details",b.shift=o(a.shift),b.cancelModal=n}function n(a,b){g.closeModal(a,b)}function o(a){return a.shiftDate=p(a),a.shiftLength=q(a),a.timeFrame=r(a),a.extraHoursPositionCostume=s(a.extraHoursPositionCostume),a.extraHoursPositionComments=s(a.extraHoursPositionComments),a}function p(a){var b=new Date(a.shiftStartTime);return k(b).format("dddd, MMMM Do YYYY")}function q(a){var b=new Date(a.shiftStartTime),c=new Date(a.shiftEndTime),d=b<c?c-b:b-c;return k.duration(d).hours()+" hours and "+k.duration(d).minutes()+" minutes"}function r(a){var b=new Date(a.shiftStartTime),c=new Date(a.shiftEndTime);return k(b).format("HH:mm")+" - "+k(c).format("HH:mm")}function s(a){var b=t(),d=["https://","http://"],e=" ",f=0;if(!a)return b;a=a.trim();for(var g=0;g<d.length&&-1===(f=a.indexOf(d[g]));g++);if(b.hasHyperlink=-1!==f,b.hasHyperlink){b.textBody=a.substring(0,f),b.textBody=c.removeSpace(b.textBody);var h=a.indexOf(e,f);if(-1!==h){b.textHyperlink=a.substring(f,h);var i=a.substring(h+e.length);i=c.removeSpace(i);var j=i.indexOf(" ");-1!==j?(b.textHyperlinkName=i.substring(0,j),b.textBodyEnd=i.substring(j)):b.textHyperlinkName=i}else b.textHyperlink=a.substring(f),b.textHyperlinkName=a.substring(f);b.textHyperlink=c.removeSpace(b.textHyperlink),b.textHyperlinkName=c.removeSpace(b.textHyperlinkName),b.textBodyEnd=c.removeSpace(b.textBodyEnd)}else b.textBody=a;return b}function t(){return{hasHyperlink:!1,textBody:null,textHyperlink:null,textHyperlinkName:null,textBodyEnd:null}}var u={replace:!1,restrict:"A",templateUrl:"app/features/shift/shift-details-form.html",controller:m,controllerAs:"shiftDetailsVm"};return m.$inject=["$scope"],u}function alertModal(a,b){function c(c,e){function f(){c.$destroy()}var g=this;g.language=b,g.cancelModal=f,e(function(){$(d).toggleClass("alert-modal"),a.visibility(d,"focus")},0)}var d="",e={replace:!1,restrict:"A",templateUrl:"app/directives/partials/alertModal.html",link:function(b,c,e){d="#"+e.id,b.$on("$destroy",function(){a.visibility(d),$(d).remove(),b.onAcknowledge&&b.onAcknowledge()})},controller:c,controllerAs:"alertModalVm"};return c.$inject=["$scope","$timeout"],e}function confirmDialog(a,b){function c(c,e){var f=this;f.language=b,f.cancel=c.cancel,f.confirm=c.confirm,f.message=c.message,f.confirmQuestion=c.confirmQuestion,f.confirmButtonText=c.confirmButtonText,f.cancelButtonText=c.cancelButtonText,e(function(){$(d).toggleClass("alert-modal"),a.visibility(d,"focus")},0)}var d="",e={replace:!1,restrict:"A",templateUrl:"app/directives/partials/confirmDialog.html",link:function(b,c,e){d="#"+e.id,b.$on("$destroy",function(){a.visibility(d),$(d).remove()})},controller:c,controllerAs:"confirmDialogVm"};return c.$inject=["$scope","$timeout"],e}function dropDown(a,b){function c(a,b,c){a.dropDownId=c.id}function d(c,d){function e(){if(!0!==i.disabled)if(!1===i.dropDownOpen){var a=c.options.length>8?8:c.options.length,d=30,e=d+1+20+40*a+"px";$("#"+c.dropDownId+" .drop-down-options-container").css("height",e),$("#"+c.dropDownId+" .drop-down-options-container").addClass("drop-down-options-container-open"),b(function(){i.dropDownOpen=!i.dropDownOpen,document.addEventListener("click",g)})}else i.dropDownOpen=!i.dropDownOpen,b(function(){$("#"+c.dropDownId+" .drop-down-options-container").removeClass("drop-down-options-container-open"),document.removeEventListener("click",g)},500)}function f(a){a.toggle(),i.optionSummary=c.getOptionSummary(),!1===i.multiple&&e()}function g(a){$(a.target).closest("#"+c.dropDownId).length||(a.stopPropagation(),a.preventDefault(),e())}function h(a){return a.label===i.optionSummary}var i=this;i.language=a,i.label=c.label,i.options=c.options,i.required=c.required,i.multiple=c.multiple,i.header=!1|c.header,i.dropDownOpen=!1,i.optionSummary=c.getOptionSummary(),i.toggle=e,i.toggleOption=f,i.optionSelected=h,i.disabled=!!d.hasValue(c.disabled)&&c.disabled,c.$on("event.checkOptionSelected",function(a,b){b===c.dropDownId&&(i.optionSummary=c.getOptionSummary())})}var e={replace:!1,restrict:"A",templateUrl:"app/directives/partials/drop-down.html",scope:{label:"=",options:"=",required:"=",multiple:"=",getOptionSummary:"&",disabled:"=",header:"="},controller:d,controllerAs:"dropDownVm",link:c};return d.$inject=["$scope","utilities"],e}function informationalModal(a,b,c){function d(d){function f(){d.$destroy()}var g=this;g.language=b,g.cancelModal=f,c(function(){a.visibility(e,"focus")},0)}var e="",f={replace:!1,restrict:"A",templateUrl:"app/directives/partials/informational-modal.html",link:function(a,b,d){a.$on("$destroy",function(){a.onAcknowledge&&a.onAcknowledge(),$(e).remove()}),c(function(){e="#"+d.id;var a=angular.element("#informational-modal-header")[0],b=(angular.element(a),angular.element("#informational-modal-body p")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+10+"px");var f=function(){var a=angular.element("#informational-modal-header")[0],b=angular.element(a),c=angular.element("#informational-modal-body p")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e?b.addClass("scrolling"):b.removeClass("scrolling")},g=function(){window.requestAnimationFrame(f)};$(".informational-modal-content").off("scroll",g).on("scroll",g)},0)},controller:d,controllerAs:"informationalModalVm"};return d.$inject=["$scope"],f}function mainMenu(a,b,c,d){function e(e,g,h){function i(){localStorage.removeItem("userSearch"),localStorage.removeItem("userSession"),c.destroySession().then(function(a){window.location.href="https://myid.disney.com/services/ssoReset?msgId=101"}).catch(function(a){console.error(a)})}function j(){e.$destroy()}function k(a){-1!==a.indexOf("http")?l(a):m(a)}function l(a){e.$destroy();var b=a.split(";");1===b.length?location.href=a:2===b.length&&window.open(b[0],b[1])}function m(a){e.$destroy(),g.go(a)}function n(){$("#custom-backdrop").off("click",j).on("click",j);var d=c.getSession();if(p.firstName=d.firstName,a.hasValue(d)){p.scheduleSection=o("Schedule",[{name:b.getLocale("section.main-menu.schedule-view.link.name"),route:"cast.schedule",security:[1]},{name:b.getLocale("section.main-menu.shift-maintenance.link.name"),route:"cast.shift-maintenance",security:[d.access.canMaintainShift?1:0]},{name:b.getLocale("section.main-menu.past-day-worked"),route:"https://wb5timerecording.disney.com/etm/time/timesheet/dsnyEtmTnsWeek.jsp?todaysDate="+h().format("MM.DD.YYYY")+";_blank",security:[1]}]),p.callOutSection=o("Call Out",[{name:b.getLocale("section.main-menu.out.link.name"),route:"cast.out",security:[d.access.callOutAccessLevel]},{name:b.getLocale("section.main-menu.late.link.name"),route:"cast.late",security:[d.access.callLateAccessLevel]},{name:b.getLocale("section.main-menu.back.link.name"),route:"cast.leader",security:[d.access.callBackMyLeader,d.access.callBackAccessLevel]}]);var e=[];d.access.canRequestTimeOff?e.push(d.access.calendarAccessLevel):e.push(0);var f=[];d.access.canRequestAdditionalHours?f.push(d.access.calendarAccessLevel):f.push(0),p.timeOffSection=o("Time Off",[{name:b.getLocale("section.main-menu.time-off.link.name"),route:"cast.calendar",security:e},{name:b.getLocale("section.main-menu.ahsu.link.name"),route:"cast.calendar",security:f}]),p.adminSection=o("Admin",[{name:b.getLocale("section.main-menu.thresholds.link.name"),route:"cast.threshold",security:[d.access.thresholdAccessLevel]},{name:b.getLocale("section.main-menu.bid.link.name"),route:"cast.bid.cast-member-list",security:[d.access.bidScreenAccessLevel]},{name:b.getLocale("section.main-menu.transfer.link.name"),route:"cast.transfer",security:[d.access.transferAccessLevel]},{name:b.getLocale("section.main-menu.pool.link.name"),route:"cast.pool",security:[d.access.schedulePoolAccessLevel]},{name:b.getLocale("section.main-menu.calendar-maintenance.link.name"),route:"cast.calendar-maintenance",security:[d.access.calendarAdminAccessLevel]}]),p.shiftTradeSection=o("Shift Trade",[{name:b.getLocale("section.main-menu.shift-trade.link.name"),route:"cast.trade.schedule-list",security:[d.access.shiftTradeAccessLevel,d.access.canGiveShiftAway]}]),p.externalLinks=o("External Links",[{name:b.getLocale("section.main-menu.reports.link.name"),route:"http://wmnavigator/;_blank",security:[d.access.bidScreenAccessLevel,d.access.calendarAccessLevel,d.access.calendarAdminAccessLevel,d.access.callBackAccessLevel,d.access.callLateAccessLevel,d.access.callOutAccessLevel,d.access.schedulePoolAccessLevel,d.access.shiftTradeAccessLevel,d.access.thresholdAccessLevel,d.access.transferAccessLevel],permissionLevel:2},{name:b.getLocale("section.main-menu.lsc-rsvp.reports.link.name"),route:"https://wdpr.service-now.com/wdprls?id=lsc_user_requests;_blank",security:[1]}])}}function o(a,b){var c={header:a,items:[],hasItems:!1,init:function(a){this.items=a.filter(function(a){var b=a.security.filter(function(a){return a>0});return a.permissionLevel&&(b=a.security.filter(function(b){return b>=a.permissionLevel})),b.length>0}),this.hasItems=this.items&&this.items.length>0}};return c.init(b),c}var p=this;p.language=b,p.cancelModal=j,p.onNavigate=k,p.onLinkClick=m,p.onExternalLinkClick=l,p.logout=i,d(function(){n(),$(f).toggleClass("main-menu-panel-active"),a.visibility(f,"focus")},0)}var f="",g={replace:!1,restrict:"A",templateUrl:"app/directives/partials/main-menu.html",link:function(b,c,e,g){f="#"+e.id,b.$on("$destroy",function(){$("#custom-backdrop").off("click",g.cancelModal),b.onCloseMenu(),$(f).toggleClass("main-menu-panel-active"),d(function(){a.visibility(f),$(f).remove()},400)})},controller:e,controllerAs:"mainMenuVm"};return e.$inject=["$scope","$state","moment"],g}function typeAhead(a,b,c){function d(a,b,c){a.typeAheadId=c.id}function e(c,d){function e(){if(d.hasValue(l.searchString)&&0!==l.searchString.length){l.options=c.getOptionList({searchString:l.searchString});var a=l.options.length>8?8:l.options.length,e=21+40*a+"px";b(function(){$("#"+c.typeAheadId+" .type-ahead-options-container").css("height",e),f()})}else j()}function f(){!1===l.typeAheadOpen&&($("#"+c.typeAheadId+" .type-ahead-options-container").addClass("type-ahead-options-container-open"),b(function(){l.typeAheadOpen=!l.typeAheadOpen,document.addEventListener("click",i)}))}function g(){b(function(){$("#"+c.typeAheadId+" .type-ahead-options-container").removeClass("type-ahead-options-container-open"),document.removeEventListener("click",i),l.typeAheadOpen=!1},500)}function h(a){a.toggle(),l.optionSummary=c.getOptionSummary(),l.searchString=l.optionSummary,g()}function i(a){$(a.target).closest("#"+c.typeAheadId).length||(a.stopPropagation(),a.preventDefault(),l.optionSummary!==l.searchString&&(l.searchString=l.optionSummary),g())}function j(){c.clear(),l.optionSummary=c.getOptionSummary(),l.searchString="",g()}function k(){return l.searchString&&l.searchString.length>0&&!l.disableUpdating}var l=this;l.language=a,l.label=c.label,l.options=c.getOptionList({searchString:l.searchString}),l.getIsRequired=c.getIsRequired,l.typeAheadOpen=!1,l.optionSummary=c.getOptionSummary(),l.toggleOption=h,l.onOptionListChange=e,l.searchString="",l.placeholder=c.placeholder,l.optionSummary&&(l.searchString=l.optionSummary),l.clear=j,l.showClearButton=k,l.disableUpdating=c.disableUpdating,c.$on("event.checkOptionSelected",function(a,b){b===c.typeAheadId&&(l.optionSummary=c.getOptionSummary(),l.searchString=l.optionSummary)}),c.$on("event.typeAheadDisabled",function(a,b){b===c.typeAheadId&&(l.disableUpdating=!0)}),c.$on("event.typeAheadEnabled",function(a,b){b===c.typeAheadId&&(l.disableUpdating=!1)})}var f={replace:!1,restrict:"A",templateUrl:"app/directives/partials/type-ahead.html",scope:{label:"=",getOptionList:"&",getIsRequired:"&",getOptionSummary:"&",clear:"&",disableUpdating:"=",placeholder:"="},controller:e,controllerAs:"typeAheadVm",link:d};return e.$inject=["$scope","utilities"],f}function wfmNgRepeatComplete(a){function b(a,b,c){a.afterNgRepeat()}function c(){}var d={replace:!1,restrict:"A",template:" ",scope:{afterNgRepeat:"&"},controller:c,controllerAs:"focusVm",link:b};return c.$inject=[],d}function calendarHelper(a,b,c){function d(d,e){return"angular"===c.dateFormatter?a(b(d).toDate(),e):"moment"===c.dateFormatter?b(d).format(e):void 0}function e(a,c,d){if(!d)return d;var e=b(c).diff(b(a));return b(d).add(e)}function f(a,c,d){var f=b(a.start),g=b(a.end),h=b(d);if(angular.isDefined(c)){switch(c){case"year":f.set({year:h.year()});break;case"month":f.set({year:h.year(),month:h.month()});break;default:throw new Error("Invalid value ("+c+") given for recurs on. Can only be year or month.")}g=e(a.start,f,g)}return{start:f,end:g}}function g(a,c,d){c=b(c),d=b(d);var e=f({start:a.startsAt,end:a.endsAt||a.startsAt},a.recursOn,c),g=e.start,h=e.end;return g.isAfter(c)&&g.isBefore(d)||h.isAfter(c)&&h.isBefore(d)||g.isBefore(c)&&h.isAfter(d)||g.isSame(c)||h.isSame(d)}function h(a,b,c){return a.filter(function(a){return g(a,b,c)})}function i(a,c,d){return h(d,b(a).startOf(c),b(a).endOf(c))}function j(a){return a.filter(function(a){return!1!==a.incrementsBadgeTotal}).length}function k(a,e){var f=[],g=0;for(a=a||c.dateFormats.weekDay;g<7;){var h=d(b().weekday(g++),a);e&&(h=h.substr(0,e)),f.push(h)}return f}function l(a,e,f){for(var g=[],k=i(e,"year",a),l=b(e).startOf("year"),m=0;m<12;){var n=l.clone(),o=n.clone().endOf("month"),p=h(k,n,o),q={label:d(n,c.dateFormats.month),isToday:n.isSame(b().startOf("month")),events:p,date:n,badgeTotal:j(p)};f({calendarCell:q}),g.push(q),l.add(1,"month"),m++}return g}function m(a,b){return a.year()===b.year()?a.format("MMM D")+" - "+b.format("MMM D")+", "+a.format("YYYY"):a.format("MMM D, YYYY")+" - "+b.format("MMM D, YYYY")}function n(a){var c=b().startOf("day"),d=b(a.date).startOf("week");if(a.date.isSame(c)){a.showHeader=!0;var e=b(a.date).endOf("week");a.weekLabel=m(c,e)}else if(a.date.isSame(d)){a.showHeader=!0;var f=b(d).endOf("week");a.weekLabel=m(d,f)}else a.showHeader=!1;return a}function o(a){var c=b(a).format("ddd"),d=b().startOf("day"),e=d.clone().add(1,"day");return a.isSame(d)?c="Today":a.isSame(e)&&(c="Tomorrow"),c}function p(a,c){var d=a.filter(function(a){return c.isSame(b(a.date))}),e={};return d.length>0&&(e=d[0]),e}function q(a,c){for(var d=b(c).startOf("week"),e=(b(c).endOf("week"),d.clone()),f=[],g=b().startOf("day"),h=0;h<7;h++){var i=b(e),j={date:i,dayLabel:b(e).format("MMMM D, YYYY"),event:p(a,i)};j.weekDayLabel=o(j.date),j=n(j),(e.isSame(g)||e.isAfter(g))&&f.push(j),e.add(1,"days")}return f}function r(a,c,d,e,f){var i=b(d||"00:00","HH:mm").hours(),j=b(e||"23:00","HH:mm").hours(),k=60/f*30,l=b(c).startOf("day").add(i,"hours"),m=b(c).startOf("day").add(j,"hours"),n=(j-i+1)*k,o=k/60,p=[];return h(a,b(c).startOf("day").toDate(),b(c).endOf("day").toDate()).map(function(a){if(b(a.startsAt).isBefore(l)?a.top=0:a.top=b(a.startsAt).startOf("minute").diff(l.startOf("minute"),"minutes")*o-2,b(a.endsAt||a.startsAt).isAfter(m))a.height=n-a.top;else{var c=a.startsAt;b(a.startsAt).isBefore(l)&&(c=l.toDate()),a.endsAt?a.height=b(a.endsAt||a.startsAt).diff(c,"minutes")*o:a.height=30}return a.top-a.height>n&&(a.height=0),a.left=0,a}).filter(function(a){return a.height>0}).map(function(a){var b=!0;return p.forEach(function(c,d){var e=!0;c.forEach(function(b){(g(a,b.startsAt,b.endsAt||b.startsAt)||g(b,a.startsAt,a.endsAt||a.startsAt))&&(e=!1)}),e&&b&&(b=!1,a.left=150*d,p[d].push(a))}),b&&(a.left=150*p.length,p.push([a])),a})}function s(a,c,d,e,f){var g=q(a,c),h=[];return g.days.forEach(function(a){var c=g.events.filter(function(c){return b(c.startsAt).startOf("day").isSame(b(a.date).startOf("day"))}),i=r(c,a.date,d,e,f);h=h.concat(i)}),g.events=h,g}function t(a,c,d){var e=b(a||"00:00","HH:mm"),f=b(c||"23:00","HH:mm"),g=60/d*30;return(f.diff(e,"hours")+1)*g+2}return{getWeekDayNames:k,getYearView:l,getWeekView:q,getDayView:r,getWeekViewWithTimes:s,getDayViewHeight:t,adjustEndDateFromStartDiff:e,formatDate:d,filterEventsInPeriod:h,getBadgeTotal:j,eventIsInPeriod:g}}function calendarTitle(a,b,c){function d(a){return c.formatDate(a,b.titleFormats.day)}function e(c){return b.titleFormats.week.replace("{week}",a(c).isoWeek()).replace("{year}",a(c).format("YYYY"))}function f(a){return c.formatDate(a,b.titleFormats.month)}function g(a){return c.formatDate(a,b.titleFormats.year)}return{day:d,week:e,month:f,year:g}}function MwlCalendarCtrl(a,b,c,d){var e=this;e.events=e.events||[],e.today=new Date,e.inWeeklyView="week"===e.view,e.changeView=function(a,b){e.view=a,e.viewDate=b,e.inWeeklyView="week"===e.view},e.dateClicked=function(a){var b="View date info for:"+a.toDate();alert(b)},e.viewShiftDetails=function(a){d.getShiftDetails(a.id,a.perner)},e.editTimeoff=function(a,b){d.editTimeoff(a,b)},e.navigateToWorkBrain=function(a){location.href="https://wb5timerecording.disney.com/etm/time/timesheet/dsnyEtmTnsDetail.jsp?date="+c(a.date).format("MM.DD.YYYY")},e.toggleActionOptions=function(a,b){a.showActions=!a.showActions};c(e.viewDate),e.view}function MwlCalendarDayCtrl(a,b,c,d,e){function f(){g.dayViewSplit=g.dayViewSplit||30,g.dayViewHeight=d.getDayViewHeight(g.dayViewStart,g.dayViewEnd,g.dayViewSplit),g.view=d.getDayView(g.events,g.viewDate,g.dayViewStart,g.dayViewEnd,g.dayViewSplit)}var g=this;g.calendarConfig=e,g.$sce=b,a.refreshDayView=f,g.eventDragComplete=function(a,b){var d=b*g.dayViewSplit,e=c(a.startsAt).add(d,"minutes"),f=c(a.endsAt).add(d,"minutes");delete a.tempStartsAt,g.onEventTimesChanged({calendarEvent:a,calendarNewEventStart:e.toDate(),calendarNewEventEnd:a.endsAt?f.toDate():null})},g.eventDragged=function(a,b){var d=b*g.dayViewSplit;a.tempStartsAt=c(a.startsAt).add(d,"minutes").toDate()},g.eventResizeComplete=function(a,b,d){var e=d*g.dayViewSplit,f=c(a.startsAt),h=c(a.endsAt);"start"===b?f.add(e,"minutes"):h.add(e,"minutes"),delete a.tempStartsAt,g.onEventTimesChanged({calendarEvent:a,calendarNewEventStart:f.toDate(),calendarNewEventEnd:h.toDate()})},g.eventResized=function(a,b,d){var e=d*g.dayViewSplit;"start"===b&&(a.tempStartsAt=c(a.startsAt).add(e,"minutes").toDate())}}function MwlCalendarHourListCtrl(a,b,c,d){function e(){f=b(h.dayViewStart||"00:00","HH:mm"),g=b(h.dayViewEnd||"23:00","HH:mm"),h.dayViewSplit=parseInt(h.dayViewSplit),h.hours=[];for(var a=b(h.viewDate).clone().hours(f.hours()).minutes(f.minutes()).seconds(f.seconds()),e=0;e<=g.diff(f,"hours");e++)h.hours.push({label:c.formatDate(a,d.dateFormats.hour),date:a.clone()}),a.add(1,"hour")}var f,g,h=this,i=b.locale();a.$on("calendar.refreshView",function(){i!==b.locale()&&(i=b.locale(),e())}),a.$watchGroup(["vm.dayViewStart","vm.dayViewEnd","vm.dayViewSplit","vm.viewDate"],function(){e()})}function MwlCalendarMonthCtrl(a,b,c,d,e,f,g,h){function i(a,b){n.viewDay=null,k(!0),n.calendarVm.calendarTitle=f.formatDate(n.viewDate,g.titleFormats.month),n.view=m(a,n.viewDate,n.cellModifier);var d=Math.floor(n.view.length/7);n.monthOffsets=[];for(var h=0;h<d;h++)n.monthOffsets.push(7*h);n.cellIsOpen=!1,n.openRowIndex=null,n.openDayIndex=null,n.openDayIndex=null,n.view.forEach(function(a){c(n.viewDate).startOf("day").isSame(a.date)&&(j(),n.dayClicked(a,!0,void 0,b))}),e.stop("spinner-1")}function j(){n.view.forEach(function(a){a.events[0].userSelectedDay=!1})}function k(a){(a||1===n.mobile)&&window.innerWidth<=768&&(n.mobile=0,n.weekDays=f.getWeekDayNames("dddd",1)),(a||0===n.mobile)&&window.innerWidth>768&&(n.mobile=1,n.weekDays=f.getWeekDayNames()),b.$$phase||b.$apply()}function l(a){n.openRowIndex=null;var b=n.view.indexOf(a);b===n.openDayIndex?(n.openDayIndex=null,n.cellIsOpen=!1):(n.openDayIndex=b,n.openRowIndex=Math.floor(b/7),n.cellIsOpen=!0)}function m(a,b,d){var e,h=c(b).startOf("month"),i=h.clone().startOf("week"),j=c(b).endOf("month").endOf("week");e=g.displayAllMonthEvents?f.filterEventsInPeriod(a,i,j):f.filterEventsInPeriod(a,h,h.clone().endOf("month"));for(var k=[],l=c().startOf("day");i.isBefore(j);){var m=i.month()===c(b).month(),n=[];(m||g.displayAllMonthEvents)&&(n=f.filterEventsInPeriod(e,i,i.clone().endOf("day")));var o={label:i.date(),date:i.clone(),inMonth:m,isPast:l.isAfter(i),isToday:l.isSame(i),isFuture:l.isBefore(i),isWeekend:[0,6].indexOf(i.day())>-1,events:n,badgeTotal:f.getBadgeTotal(n)};d({calendarCell:o}),k.push(o),i.add(1,"day")}return k}var n=this;n.openAhsu=function(){h.launch({day:new Date})},n.calendarConfig=g,n.openRowIndex=null,n.mobile=0,n.dayStates=d.getDayStates(),b.refreshMonthView=i,b.$on("closeSlideBoxTray",function(a,b){if(b){var c=n.view.filter(function(a){return a.date.toDate().getTime()===b.getTime()});0===c.length&&l(b);l(c[0])}}),angular.element(window).on("resize",_.debounce(function(){k()},400)),n.dayClicked=function(a,b,c,d){!b&&(n.onTimespanClick({calendarDate:a.date.toDate(),$event:c}),c&&c.defaultPrevented)||(n.viewDate=a.date.toDate(),j(),d&&(a.events[0].userSelectedDay=d),n.viewDay=a)},n.highlightEvent=function(a,b){n.view.forEach(function(c){if(delete c.highlightClass,b){c.events.indexOf(a)>-1&&(c.highlightClass="day-highlight dh-event-"+a.type)}})},n.handleEventDrop=function(a,b,d){var e=c(a.startsAt).date(c(b).date()).month(c(b).month()),g=f.adjustEndDateFromStartDiff(a.startsAt,e,a.endsAt);n.onEventTimesChanged({calendarEvent:a,calendarDate:b,calendarNewEventStart:e.toDate(),calendarNewEventEnd:g?g.toDate():null,calendarDraggedFromDate:d})}}function MwlCalendarSlideBoxCtrl(a,b,c,d,e,f){var g=this;g.$sce=a,g.calendarConfig=d,g.language=f,g.dayStates=e.getDayStates(),b.$watch("vm.events",function(){g.allotmentBalance=e.getAllotmentBalance()},!0),g.isCollapsed=!0,b.$watch("vm.isOpen",function(a){c(function(){g.isCollapsed=!a})})}function MwlCalendarWeekCtrl(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(){var a=t();o.hasValue(a)&&q(function(){var b=$("#"+a);$("body, html").animate({scrollTop:b.offset().top-50})},0),x.focusDate=null}function t(){var a=x.focusDate,b=null;return o.hasValue(a)&&c(a).isValid()&&(b="schedule-day-"+x.focusDate.format("YYYYMMDD")),b}function u(a,b,c){c=!o.hasValue(c)||c,b=!o.hasValue(b)||b,m.launch({$scope:k.$parent.$parent.$parent,searchDate:a,searchPerner:z.perner,isMyLocation:c,isEligible:b,maxDate:B})}function v(){a.calendarChanged("week",new Date)}function w(a,b){o.hasValue(b)&&(x.focusDate=b),x.view={days:[]};for(var c=Math.ceil(a.length/7),e=[],f=0;f<c;f++)e=d.getWeekView(a,a[7*f].date),angular.forEach(e,function(a,b){a.event.schedule.shifts&&x.view.days.push(a)});B=e.length<1?null:e[e.length-1].date.toDate(),k.$root.$broadcast("setEhhMaxSearchDate",B)}var x=this,y=o.getSession(),z=n.getUserSearch(),A=!1,B=c();x.showTimes=e.showTimesOnWeekView,x.$sce=b,x.language=f,x.launchEhhSearch=u,x.printableScheduleHref=window.location.protocol+"//"+window.location.host+"/printableSchedule/"+z.perner,x.canEhh=y.access.canEhh,x.afterScheduleDayFocus=s,a.refreshWeekView=w,x.weekDragged=function(a,b,d){var e=c(a.startsAt).add(b,"days"),f=c(a.endsAt).add(b,"days");if(d){var g=d*x.dayViewSplit;e=e.add(g,"minutes"),f=f.add(g,"minutes")}delete a.tempStartsAt,x.onEventTimesChanged({calendarEvent:a,calendarNewEventStart:e.toDate(),calendarNewEventEnd:a.endsAt?f.toDate():null})},x.weekResized=function(a,b,d){var e=c(a.startsAt),f=c(a.endsAt);"start"===b?e.add(d,"days"):f.add(d,"days"),x.onEventTimesChanged({calendarEvent:a,calendarNewEventStart:e.toDate(),calendarNewEventEnd:f.toDate()})},x.tempTimeChanged=function(a,b){var d=b*x.dayViewSplit;a.tempStartsAt=c(a.startsAt).add(d,"minutes").toDate()},x.shiftSelected=function(b,c){if(!0!==A)return A=!0,i.spin("spinner-1"),g.getShift(b.id,c,!0,z.perner,c).success(function(d){if(!1===d.body.hasError){var e=d.body.shiftDetail;if(e.id=b.id,e.ehhPositionDescription=e.positionDescription,e.positionDescription=b.positionDescription,b){var g="shift-detail-pocket-panel",i='<div shift-detail class="pocket-panel" id="'+g+'"> </div>';$("body").append(i);var k=a.$new(!0);k.shift=e,k.openShift=c,k.recommended=c,k.dismissSecondaryPage=!1,k.isIneligible=!1,k.swapBackStatus=d.body.swapBackStatus,k.swapBackShifts=d.body.swapBackShifts,k.onAlertAcknowledge=function(){k.$destroy(),a.calendarChanged("week",new Date)},j($("#"+g)[0])(k)}}else{var m=l.getError(d.body.errorCode);null!==m?p.launchAlertModal({alertModalId:"shift-unavailable-alert-modal",headline:f.getLocale(m.headline),explanation:f.getLocale(m.explanation),onAcknowledge:v}):(h.error(d.body.message,f.getLocale("section.shiftdetail.error.notfound.title"),{timeOut:6e3}),v())}}).error(function(a){return $q.defer().reject(a.body.data)}).finally(function(){i.stop("spinner-1"),q(function(){A=!1},600)})}}function MwlCalendarYearCtrl(a,b,c,d){function e(){f.view=d.getYearView(f.events,f.viewDate,f.cellModifier),f.calendarCtrl.calendarVm.calendarTitle=d.formatDate(f.viewDate,c.titleFormats.year),f.cellIsOpen&&null===f.openMonthIndex&&(f.openMonthIndex=null,f.view.forEach(function(a){b(f.viewDate).startOf("month").isSame(a.date)&&f.monthClicked(a,!0)}))}var f=this;f.openMonthIndex=null,a.refreshYearView=e,f.monthClicked=function(a,b,c){if(b||(f.onTimespanClick({calendarDate:a.date.toDate(),$event:c}),!c||!c.defaultPrevented)){f.openRowIndex=null;var d=f.view.indexOf(a);d===f.openMonthIndex?(f.openMonthIndex=null,f.cellIsOpen=!1):(f.openMonthIndex=d,f.openRowIndex=Math.floor(d/4),f.cellIsOpen=!0)}},f.handleEventDrop=function(a,c){var e=b(a.startsAt).month(b(c).month()),g=d.adjustEndDateFromStartDiff(a.startsAt,e,a.endsAt);f.onEventTimesChanged({calendarEvent:a,calendarDate:c,calendarNewEventStart:e.toDate(),calendarNewEventEnd:g?g.toDate():null})}}function MwlCollapseFallbackCtrl(a,b,c){a.$watch(b.mwlCollapseFallback,function(a){
a?c.addClass("ng-hide"):c.removeClass("ng-hide")})}function MwlDateModifierCtrl(a,b,c,d){function e(){angular.isDefined(b.setToToday)?f.date=new Date:angular.isDefined(b.increment)?f.date=d(f.date).add(1,f.increment).toDate():angular.isDefined(b.decrement)&&(f.date=d(f.date).subtract(1,f.decrement).toDate()),c.$apply()}var f=this;a.bind("click",e),c.$on("$destroy",function(){a.unbind("click",e)})}function MwlDraggableCtrl(a,b,c,d,e,f,g){function h(a,b){return a.css("-ms-transform",b).css("-webkit-transform",b).css("transform",b)}function i(){return d(e.mwlDraggable)(b)}function j(a,b,c){var d={x:a,y:b};return c&&c.x&&(d.x/=c.x),c&&c.y&&(d.y/=c.y),d}if(g){var k,l;e.snapGrid&&(l=d(e.snapGrid)(b),k={targets:[g.createSnapGrid(l)]}),g(a[0]).draggable({snap:k,onstart:function(a){i()&&(angular.element(a.target).addClass("dragging-active"),a.target.dropData=d(e.dropData)(b),a.target.style.pointerEvents="none",e.onDragStart&&(d(e.onDragStart)(b),b.$apply()))},onmove:function(a){if(i()){var f=angular.element(a.target),g=(parseFloat(f.attr("data-x"))||0)+(a.dx||0),k=(parseFloat(f.attr("data-y"))||0)+(a.dy||0);switch(d(e.axis)(b)){case"x":k=0;break;case"y":g=0}"static"===c.getComputedStyle(f[0]).position&&f.css("position","relative"),h(f,"translate("+g+"px, "+k+"px)").css("z-index",1e3).attr("data-x",g).attr("data-y",k),e.onDrag&&(d(e.onDrag)(b,j(g,k,l)),b.$apply())}},onend:function(a){if(i()){var c=angular.element(a.target),g=c.attr("data-x"),k=c.attr("data-y");a.target.style.pointerEvents="auto",e.onDragEnd&&(d(e.onDragEnd)(b,j(g,k,l)),b.$apply()),f(function(){h(c,"").css("z-index","auto").removeAttr("data-x").removeAttr("data-y").removeClass("dragging-active")})}}}),b.$on("$destroy",function(){g(a[0]).unset()})}}function MwlDroppableCtrl(a,b,c,d,e){e&&(e(a[0]).dropzone({ondragenter:function(a){angular.element(a.target).addClass("drop-active")},ondragleave:function(a){angular.element(a.target).removeClass("drop-active")},ondropdeactivate:function(a){angular.element(a.target).removeClass("drop-active")},ondrop:function(a){a.relatedTarget.dropData&&(c(d.onDrop)(b,{dropData:a.relatedTarget.dropData}),b.$apply())}}),b.$on("$destroy",function(){e(a[0]).unset()}))}function MwlElementDimensionsCtrl(a,b,c,d){c(d.mwlElementDimensions).assign(b,{width:a[0].offsetWidth,height:a[0].offsetHeight})}function MwlResizableCtrl(a,b,c,d,e,f){function g(){return c(d.mwlResizable)(b)}function h(a,b,c){var d={};return d.edge=a,"start"===a?(d.x=b.data("x"),d.y=b.data("y")):"end"===a&&(d.x=parseFloat(b.css("width").replace("px",""))-l.width,d.y=parseFloat(b.css("height").replace("px",""))-l.height),c&&c.x&&(d.x=Math.round(d.x/c.x)),c&&c.y&&(d.y=Math.round(d.y/c.y)),d}if(f){var i,j;d.snapGrid&&(j=c(d.snapGrid)(b),i={targets:[f.createSnapGrid(j)]});var k,l={},m={};f(a[0]).resizable({edges:c(d.resizeEdges)(b),snap:i,onstart:function(a){if(g()){k="end";var b=angular.element(a.target);l.height=b[0].offsetHeight,l.width=b[0].offsetWidth,m.height=b.css("height"),m.width=b.css("width")}},onmove:function(a){if(g()){var e=angular.element(a.target),f=parseFloat(e.data("x")||0),i=parseFloat(e.data("y")||0);e.css({width:a.rect.width+"px",height:a.rect.height+"px"}),f+=a.deltaRect.left,i+=a.deltaRect.top,e.css("transform","translate("+f+"px,"+i+"px)"),e.data("x",f),e.data("y",i),0===a.deltaRect.left&&0===a.deltaRect.top||(k="start"),d.onResize&&(c(d.onResize)(b,h(k,e,j)),b.$apply())}},onend:function(a){if(g()){var f=angular.element(a.target),i=h(k,f,j);e(function(){f.data("x",null).data("y",null).css({transform:"",width:m.width,height:m.height})}),d.onResizeEnd&&(c(d.onResizeEnd)(b,i),b.$apply())}}}),b.$on("$destroy",function(){f(a[0]).unset()})}}function reopenEhhShift(a,b,c,d,e,f,g,h,i){function j(a,b,d){function e(){window.requestAnimationFrame(f)}l="#"+d.id,a.$on("$destroy",function(){$(l).remove()}),h(function(){c.visibility(l,"focus");var a=angular.element("#reopen-ehh-shift-content-drawer-header")[0],b=(angular.element(a),angular.element("#reopen-ehh-shift-instructions")[0]),d=angular.element(b);d.data("pos",a.clientHeight),d.css("margin-top",a.clientHeight+10+"px"),$("#reopen-ehh-shift-content-drawer-content").off("scroll",e).on("scroll",e)},0);var f=function(){var a=angular.element("#reopen-ehh-shift-content-drawer-header")[0],b=angular.element(a),c=angular.element("#reopen-ehh-shift-instructions")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e?b.addClass("scrolling"):b.removeClass("scrolling")}}function k(a){function b(){a.$destroy(),$("#shift-detail-pocket-panel").addClass("pocket-panel-active")}function c(){var b=g.shift.shiftId;!1!==g.acknowledgeComplete&&f.reopen(b).success(function(a){var b=a.body;!0===b.hasError&&g.toasts.length<1&&(g.toasts.push("error"),e.error(b.message,d.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){g.toasts.pop()}}))}).error(function(a){g.toasts.length<1&&(g.toasts.push("error"),e.error(a.body.message+" "+a.body.messageDetail,d.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){g.toasts.pop()}}))}).finally(function(){a.afterReopen(i(g.shift.shiftDate,"MMMM Do YYYY"))})}var g=this;g.language=d,g.shift=a.shift,g.cancelReopenEhhShift=b,g.reopen=c,g.toasts=[]}var l="",m={replace:!1,restrict:"A",templateUrl:"mwl/templates/reopenEhhShift.html",controller:k,controllerAs:"reopenEhhShiftVm",link:j};return k.$inject=["$scope"],m}function shiftDetail(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a,b,d){function e(){window.requestAnimationFrame(f)}E="#"+d.id,c.visibility(E,"focus",!1),a.$on("$destroy",function(){F=!1,$(E).remove()}),m(function(){$(E).toggleClass("pocket-panel-active");var a=angular.element(".pocket-panel-header")[0],b=(angular.element(a),angular.element(".pocket-panel-body")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$(".pocket-panel-content").off("scroll",e).on("scroll",e)},0);var f=function(){var a=($(E),angular.element(".pocket-panel-header")[0]),b=angular.element(a),c=angular.element(".pocket-panel-body")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e-20?b.addClass("scrolling"):b.removeClass("scrolling")}}function r(b){function e(){z.language=d,z.shiftDetailsForm={},z.dateFormat="MM/dd/yyyy",z.datePlaceholder="mm/dd/yyyy",z.title="shift details",z.shift=t(b.shift),z.openShift=b.openShift,z.isIneligible=b.isIneligible,z.ineligibleReasons=b.ineligibleReasons,z.ineligibleTrainingDetails=b.ineligibleTrainingDetails,z.cancelModal=v,F=z.openShift&&!1===z.isIneligible,z.toggleShowComments=g,z.toggleShowNotes=i,z.signUp=o,z.swapBack=j,z.reopen=u;var a=b.shift.cancellationStatus;z.showSwapBackButton=D(b.swapBackStatus),z.showReopen=y(a),z.reopenDisabled=C(a),z.showReopenMessage=B(a),z.reopenMessage=A(a),z.showCloseButton=w(),z.showSignUpButton=x()}function f(){F=!0;var a=k(z.shift.shiftLockExpiration),b=h.getEasternTimeZoneMoment(k()),c=a.diff(b);z.formattedTimeToLockExpiration=k(c).format("mm:ss"),q()}function g(a){a.showComments=!a.showComments}function i(a){a.showNotes=!a.showNotes}function j(){if(c.hasValue(H)&&1===H.length)o(!0);else if(c.hasValue(H)&&H.length>1){var a=$(E),d="swap-back-select-content-drawer";a.removeClass("pocket-panel-active");var e='<div id="'+d+'" class="content-drawer" swap-back-select></div>';$("body").append(e);var g=b.$root.$new(!1);g.shift=z.shift,g.shiftDetailActive=f,g.onAlertAcknowledge=function(){b.onAlertAcknowledge(),g.$destroy()},g.swapBackShifts=H,g.afterSignUp=function(a){!0===b.dismissSecondaryPage&&(b.$emit("event.leaveSecondaryPage"),b.secondaryPageScope.$destroy()),b.$destroy(),c.visibility(E),l.params.focusDate=a,l.params.afterOnBehalfOfParams=null,l.go(l.current,l.params,{reload:!0,inherit:!1})},n($("#"+d)[0])(g),F=!1}}function o(a){var d=$(E),e="sign-up-content-drawer";d.removeClass("pocket-panel-active");var g='<div id="'+e+'" class="content-drawer" sign-up></div>';$("body").append(g);var h=b.$root.$new(!1);h.shift=z.shift,h.shiftDetailActive=f,h.onAlertAcknowledge=b.onAlertAcknowledge,h.isSwapBack=a,h.recommended=b.recommended,!0===a&&(h.swapBackShift=H[0]),h.afterSignUp=function(a){!0===b.dismissSecondaryPage&&(b.$emit("event.leaveSecondaryPage"),b.secondaryPageScope.$destroy()),b.$destroy(),h.$destroy(),c.visibility(E),l.params.focusDate=a,l.params.afterOnBehalfOfParams=null,l.go(l.current,l.params,{reload:!0,inherit:!1})},n($("#"+e)[0])(h),F=!1}function q(){m(function(){var a=k(z.shift.shiftLockExpiration),b=h.getEasternTimeZoneMoment(k()),c=a.diff(b);z.formattedTimeToLockExpiration=k(c).format("mm:ss"),!1===F||(c>0?q():(F=!1,r()))},1e3)}function r(){p.launchAlertModal({alertModalId:"lock-expiration-alert-modal",headline:d.getLocale("section.shiftdetail.lockexpired.headline"),explanation:d.getLocale("section.shiftdetail.lockexpired.explanation"),onAcknowledge:b.onAlertAcknowledge}),$(E).removeClass("pocket-panel-active")}function u(){var d=$(E),e="reopen-ehh-shift-content-drawer";d.removeClass("pocket-panel-active");var f='<div id="'+e+'" class="content-drawer" reopen-ehh-shift></div>';$("body").append(f);var g=b.$root.$new(!1);g.shift=z.shift,g.afterReopen=function(d){b.$destroy(),g.$destroy(),c.visibility(E),a.calendarChanged("week",new Date,d)},n($("#"+e)[0])(g)}function v(a,d){F=!1,$(a).removeClass("pocket-panel-active"),m(function(){c.visibility(a),!0===b.dismissSecondaryPage&&$("body").addClass("hide-scrollbar"),b.$destroy()},500)}function w(){return(!1===z.openShift||!0===z.isIneligible||!1===G.access.canEhh)&&!1===z.showReopen&&!1===z.showSwapBackButton}function x(){return z.openShift&&!1===z.isIneligible&&G.access.canEhh}function y(a){return G.access.canEhh&&(0===a||3===a)}var z=this,G=c.getSession(),H=s(b.swapBackShifts);if(e(),!0===z.openShift&&!1===z.isIneligible){var I=k(z.shift.shiftLockExpiration),J=h.getEasternTimeZoneMoment(k()),K=I.diff(J);z.formattedTimeToLockExpiration=k(K).format("mm:ss"),q()}}function s(a){if(!1===c.hasValue(a))return[];var b=[];return a.forEach(function(a){var c=new Date(a.startTime),d=new Date(a.endTime),e=c<d?d-c:c-d,f=k.duration(e).hours()+" hours and "+k.duration(e).minutes()+" minutes";b.push({id:a.id,positionDescription:a.positionDescription,shiftDayLabel:k(c).format("dddd"),shiftDate:k(c).format("MMMM Do YYYY"),timeFrame:k(c).format("HH:mm")+" - "+k(d).format("HH:mm"),shiftLength:f,start:k(c),end:k(d)})}),b}function t(a){return a.shiftDate=v(a),a.shiftDayLabel=u(a),a.shiftLength=w(a),a.timeFrame=x(a),a.extraHoursPositionCostume=y(a.extraHoursPositionCostume),a.extraHoursPositionComments=y(a.extraHoursPositionComments),a.showComments=null!==a.extraHoursPositionComments.textBody,a.showNotes=null!==a.shiftNoteText,a}function u(a){var b=new Date(a.shiftStartTime);return k(b).format("dddd")}function v(a){var b=new Date(a.shiftStartTime);return k(b).format("MMMM Do YYYY")}function w(a){var b=new Date(a.shiftStartTime),c=new Date(a.shiftEndTime),d=b<c?c-b:b-c;return k.duration(d).hours()+" hours and "+k.duration(d).minutes()+" minutes"}function x(a){var b=new Date(a.shiftStartTime),c=new Date(a.shiftEndTime);return k(b).format("HH:mm")+" - "+k(c).format("HH:mm")}function y(a){var b=z(),d=["https://","http://"],e=" ",f=0;if(!a)return b;a=a.trim();for(var g=0;g<d.length&&-1===(f=a.indexOf(d[g]));g++);if(b.hasHyperlink=-1!==f,b.hasHyperlink){b.textBody=a.substring(0,f),b.textBody=c.removeSpace(b.textBody);var h=a.indexOf(e,f);if(-1!==h){b.textHyperlink=a.substring(f,h);var i=a.substring(h+e.length);i=c.removeSpace(i);var j=i.indexOf(" ");-1!==j?(b.textHyperlinkName=i.substring(0,j),b.textBodyEnd=i.substring(j)):b.textHyperlinkName=i}else b.textHyperlink=a.substring(f),b.textHyperlinkName=a.substring(f);b.textHyperlink=c.removeSpace(b.textHyperlink),b.textHyperlinkName=c.removeSpace(b.textHyperlinkName),b.textBodyEnd=c.removeSpace(b.textBodyEnd)}else b.textBody=a;return b}function z(){return{hasHyperlink:!1,textBody:null,textHyperlink:null,textHyperlinkName:null,textBodyEnd:null}}function A(a){var b="";switch(a){case 1:b=d.getLocale("section.reopen.denied.lob");break;case 2:b=d.getLocale("section.reopen.denied.too.late");break;case 3:b=d.getLocale("section.reopen.denied.processing");break;case 4:b=d.getLocale("section.reopen.denied.traded")}return b}function B(a){return a>=1&&a<=4}function C(a){return 3===a}function D(a){var b=!1;return"AllowsSwapBack"===a&&(b=!0),b}var E="",F=!1,G={replace:!1,restrict:"A",templateUrl:"mwl/templates/shiftDetail.html",controller:r,controllerAs:"shiftDetailVm",link:q};return r.$inject=["$scope"],G}function signUp(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b,d){function e(){window.requestAnimationFrame(f)}r="#"+d.id,s=!0,a.$on("$destroy",function(){s=!1,$(r).remove()}),c.visibility(r,"focus"),m(function(){var a=angular.element("#sign-up-content-drawer-header")[0],b=(angular.element(a),angular.element("#sign-up-instructions")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$("#sign-up-content-drawer-content").off("scroll",e).on("scroll",e)},0);var f=function(){var a=angular.element("#sign-up-content-drawer-header")[0],b=angular.element(a),c=angular.element("#sign-up-instructions")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e-20?b.addClass("scrolling"):b.removeClass("scrolling")}}function q(a){function b(){return!0===t.isSwapBack?l.getHelpUrl("KB0010089"):l.getHelpUrl("KB0010090")}function c(){t.acknowledgeCertification=!t.acknowledgeCertification,t.acknowledgeComplete=t.acknowledgeCertification&&t.acknowledgeTerms}function e(){t.acknowledgeTerms=!t.acknowledgeTerms,t.acknowledgeComplete=t.acknowledgeCertification&&t.acknowledgeTerms}function g(){m(function(){var a=k(t.shift.shiftLockExpiration),b=h.getEasternTimeZoneMoment(k()),c=a.diff(b);t.formattedTimeToLockExpiration=k(c).format("mm:ss"),!1===s||(c>0?g():n())},1e3)}function n(){o.launchAlertModal({alertModalId:"lock-expiration-alert-modal",headline:d.getLocale("section.shiftdetail.lockexpired.headline"),explanation:d.getLocale("section.shiftdetail.lockexpired.explanation"),onAcknowledge:a.onAlertAcknowledge}),$(r).removeClass("content-drawer")}function p(){$("#shift-detail-pocket-panel").addClass("pocket-panel-active"),a.shiftDetailActive(),a.$destroy()}function q(){var b=t.userSearch.perner,c=t.shift.shiftId,e=null,g=a.recommended;!1!==t.acknowledgeComplete&&(!0===t.isSwapBack&&(e=t.swapBackShift.id),j.spin("spinner-1"),i.signUp(b,c,g,e).success(function(a){var b=a.body;!0===b.hasError&&t.toasts.length<1&&f.error(b.errorMessage,d.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){t.toasts.pop()}})}).error(function(a){t.toasts.length<1&&f.error(a.body.message+" "+a.body.messageDetail,d.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){t.toasts.pop()}})}).finally(function(){j.stop("spinner-1"),a.afterSignUp(k(t.shift.shiftDate,"MMMM Do YYYY"))}))}var t=this;t.language=d,t.shift=a.shift,t.isSwapBack=a.isSwapBack,t.swapBackShift=a.swapBackShift,t.acknowledgeCertification=!1,t.acknowledgeTerms=!1,t.acknowledgeComplete=!1,t.toggleCertification=c,t.toggleTerms=e,t.cancelSignUp=p,t.signUp=q,t.userSearch=h.getUserSearch(),t.toasts=[],t.termsUrl=b(),t.certification=d.getLocale("section.signup.acknowledge.certification").replace("***",t.userSearch.portalId);var u=k(t.shift.shiftLockExpiration),v=h.getEasternTimeZoneMoment(k()),w=u.diff(v);t.formattedTimeToLockExpiration=k(w).format("mm:ss"),g()}var r="",s=!0,t={replace:!1,restrict:"A",templateUrl:"mwl/templates/signUp.html",controller:q,controllerAs:"signUpVm",link:p};return q.$inject=["$scope"],t}function swapBackSelect(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b,d){function e(){window.requestAnimationFrame(f)}r="#"+d.id,s=!0,a.$on("$destroy",function(){s=!1,$(r).remove()}),c.visibility(r,"focus"),m(function(){var a=angular.element("#swap-back-select-content-drawer-header")[0],b=(angular.element(a),angular.element("#swap-back-select-instructions")[0]),c=angular.element(b);c.data("pos",a.clientHeight),c.css("margin-top",a.clientHeight+"px"),$("#swap-back-select-content-drawer-content").off("scroll",e).on("scroll",e)},0);var f=function(){var a=angular.element("#swap-back-select-content-drawer-header")[0],b=angular.element(a),c=angular.element("#swap-back-select-instructions")[0],d=angular.element(c),e=d.data("pos");c.getBoundingClientRect().top<e-20?b.addClass("scrolling"):b.removeClass("scrolling")}}function q(a){function b(){m(function(){var a=k(i.shift.shiftLockExpiration),d=h.getEasternTimeZoneMoment(k()),e=a.diff(d);i.formattedTimeToLockExpiration=k(e).format("mm:ss"),!1===s||(e>0?b():c())},1e3)}function c(){o.launchAlertModal({alertModalId:"lock-expiration-alert-modal",headline:d.getLocale("section.shiftdetail.lockexpired.headline"),explanation:d.getLocale("section.shiftdetail.lockexpired.explanation"),onAcknowledge:a.onAlertAcknowledge}),$(r).removeClass("content-drawer")}function e(){$("#shift-detail-pocket-panel").addClass("pocket-panel-active"),a.shiftDetailActive(),a.$destroy()}function f(){var b="sign-up-content-drawer",c='<div id="'+b+'" class="content-drawer sign-up-swap-back" sign-up></div>';$("body").append(c);var d=a.$root.$new(!1);d.shift=i.shift,d.shiftDetailActive=a.shiftDetailActive,d.onAlertAcknowledge=function(){a.onAlertAcknowledge(),d.$destroy()},d.isSwapBack=!0,d.swapBackShift=i.selectedShift,d.afterSignUp=function(b){a.afterSignUp(b),d.$destroy()},a.$signUpScope=d,n($("#"+b)[0])(d),s=!1,a.$destroy()}function g(a){a.selected=!0,i.selectionComplete=!0,i.swapBackShifts.forEach(function(b){b.selected=b.id===a.id}),i.selectedShift=a}var i=this;i.language=d,i.shift=a.shift,i.swapBackShifts=a.swapBackShifts,i.cancelSwapBackSelect=e,i.signUp=f,i.userSearch=h.getUserSearch(),i.swapDate=k(new Date(i.shift.shiftStartTime)).format("MMMM Do"),i.shiftSelected=g,i.selectionComplete=!1,i.swapBackShifts.forEach(function(a){a.selected=!1});var j=k(i.shift.shiftLockExpiration),l=h.getEasternTimeZoneMoment(k()),p=j.diff(l);i.formattedTimeToLockExpiration=k(p).format("mm:ss"),b()}var r="",s=!0,t={replace:!1,restrict:"A",templateUrl:"mwl/templates/swapBackSelect.html",controller:q,controllerAs:"swapBackSelectVm",link:p};return q.$inject=["$scope"],t}function calendarLimitTo(a){return angular.version.minor>=4?a:function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):parseInt(b),isNaN(b)?a:(angular.isNumber(a)&&(a=a.toString()),angular.isArray(a)||angular.isString(a)?(c=!c||isNaN(c)?0:parseInt(c),c=c<0&&c>=-a.length?a.length+c:c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function calendarTruncateEventTitle(){return function(a,b,c){return a?a.length>=b&&a.length/20>c/30?a.substr(0,b)+"...":a:""}}var HOST,API_HOST,MOBILE_RETURN,PORTAL_RETURN,PORTAL_ID,VIEW_AVAILABLE_URL,MY_ID_BASE_URL,HELP_URL,PORTAL_NOTIFICATION_URL;!function(){"use strict";function a(a,b,c){function d(){return g.get(HOST+"init").success(function(a){API_HOST=HOST+a.api,MOBILE_RETURN=a.mobile,PORTAL_RETURN=a.mobile,VIEW_AVAILABLE_URL=a.viewAvailableUrl,HELP_URL=a.helpSource,MY_ID_BASE_URL="https://efs.disney.com:9031/idp/startSSO.ping?PartnerSpId="+a.api,PORTAL_NOTIFICATION_URL=a.portalNotificationUrl})}function e(){return g.get(API_HOST+"/api/v1/authz/portalId").success(function(a){PORTAL_ID=a})}function f(a){if(a&&a.data&&!a.data.valid&&401===a.status){var b=window.location.href;window.location.href=MY_ID_BASE_URL+"&TargetResource="+b}else console.log(a)}var g=a.get("$http");a.get("$q");HOST=document.location.protocol+"//"+document.location.host+"/",d().then(e).then(b).catch(f)}angular.module("app",["ngTouch","ngSanitize","ngAria","ngLocale","angularMoment","angular.filter","wdpr.wdpr-angular-cdn","wdpr.angular-router","wdpr.angular-logger","wdpr.angular-error-handler","ui.bootstrap","dialogs.main","pascalprecht.translate","toastr","mwl","app.core","app.layout","app.services","app.directives","app.filters","app.unauth","app.modal","app.cast","app.help","app.out","app.late","app.leader","app.giveaway","app.calendar","app.help","app.threshold","app.pool","app.transfer","app.bid","app.calendar-maintenance","app.ahsu","app.ehh-search","app.shift-maintenance","app.printable-schedule"]);var b={preloadModules:[],mainModule:"app",targetModule:"app",delegate:a,targetResultName:"name",targetResultType:"value"};wdprRA.manualBootstrap(b)}(),function(){"use strict";angular.module("app.core",[])}(),function(){"use strict";angular.module("app.directives",["app.core"])}(),function(){"use strict";angular.module("app.ahsu",["app.core"])}(),function(){"use strict";angular.module("app.bid",["app.core"])}(),function(){"use strict";angular.module("app.calendar-maintenance",["app.core"])}(),function(){"use strict";angular.module("app.calendar",["app.core"])}(),function(){"use strict";angular.module("app.cast",["app.core"])}(),function(){"use strict";angular.module("app.ehh-search",["app.core"])}(),function(){"use strict";angular.module("app.giveaway",["app.core"])}(),function(){"use strict";angular.module("app.help",["app.core"])}(),function(){"use strict";angular.module("app.late",["app.core"])}(),function(){"use strict";angular.module("app.leader",[])}(),function(){"use strict";angular.module("app.modal",["app.core"])}(),function(){"use strict";angular.module("app.out",["app.core"])}(),function(){"use strict";angular.module("app.pool",["app.core"])}(),function(){"use strict";angular.module("app.printable-schedule",["app.core"])}(),function(){"use strict";angular.module("app.shift-maintenance",["app.core"])}(),function(){"use strict";angular.module("app.threshold",["app.core"])}(),function(){"use strict";angular.module("app.transfer",["app.core"])}(),function(){"use strict";angular.module("app.unauth",["app.core"])}(),function(){"use strict";angular.module("app.filters",[])}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";angular.module("app.services",["app.core"])}(),function(){"use strict";angular.module("mwl.calendar",[])}(),function(){"use strict";angular.module("mwl",["mwl.calendar","app.services"])}(),function(){"use strict";function a(a){a.configure({docTitle:"wdpr.angular-router",resolveAlways:{ready:b}})}function b(a){}angular.module("app.core").config(a),a.$inject=["routerHelperProvider"],b.$inject=["$log"]}(),function(){"use strict";function a(){}angular.module("app.ahsu").config(a)}(),angular.module("app.ahsu").directive("ahsu",ahsu),ahsu.$inject=["$rootScope","$q","utilities","language","dialogs","toastr","ahsuService","castService","spinnerService","moment","$window","$timeout"],function(){"use strict";function a(a,b,c,d,e,f){function g(a){var b=e.$new(!1,e),c="ahsu-content-drawer";b.day=a.day;var d='<div ahsu id="'+c+'" class="content-drawer"> </div>';$("body").append(d),f($("#"+c)[0])(b),$("body").addClass("hide-scrollbar")}function h(){var e=c.getEnvPath("ahsu/get/");return a.get(e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(e){var f=c.getEnvPath("ahsu/save/");return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){return a.body}).error(function(a){return b.defer().reject(a.body)})}function j(e){var f=c.getEnvPath("ahsu/remove/"),g=b.defer();return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}return{get:h,save:i,remove:j,launch:g}}angular.module("app.services").factory("ahsuService",a),a.$inject=["$http","$q","utilities","timeout","$rootScope","$compile"]}(),function(){"use strict";function a(){}angular.module("app.bid").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){J.accessStates=h.getAccessStates(),J.editMode=!1,u(),J.title=q.getLocale("section.bid.page.title"),J.language=q,J.toasts=[],J.$state=b,J.searchPool=r.hasValue(b.params.data)?b.params.data:null,J.isObject=y,J.getCastMembersByPool=B,J.refreshCastMember=H,J.handleCancelClick=v,J.handleContinueClick=w,J.processCastMember=z,J.userMsgType=null,J.castMembers=new Array(0),J.bidStates=h.getBidStates(),J.castMembersLoaded=!1,J.castMemberLoaded=!0,J.castMember={},J.castMemberEdited=x,J.editSeniorityDate=A,J.filterChanged=F,J.processingBidComplete=!1,J.searchForm={},J.session=r.getSession();var c=s.getHelpContainerId("KB0010081","KB0010080");J.helpUrl=s.getHelpUrl(c),"function"==typeof a.reloadCastMembers&&a.reloadCastMembers(),a.reloadCastMembers=a.$on("reloadCastMembers",B),"function"==typeof a.reloadCastMember&&a.reloadCastMember(),a.reloadCastMember=a.$on("reloadBidCastMember",H),I()}function u(){var a=k.getSession();switch(r.hasValue(a.access.bidScreenAccessLevel)||(l.setStatus(401),b.go("unauth")),a.access.bidScreenAccessLevel){case J.accessStates.unauthorized:l.setStatus(401),b.go("unauth");break;case J.accessStates.edit:J.editMode=!0}}function v(){r.redirectToOrigin(k)}function w(){J.bidStates.readyToBeCompleted===J.bidState?(J.processingBidComplete=!0,h.completeBid({bidPoolId:J.searchPool.id}).success(function(b){!1===b.body.hasError?a.$emit("reloadCastMembers"):J.toasts.length<1&&(J.toasts.push("error"),n.error(b.body.message,q.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){J.toasts.pop()}})),J.processingBidComplete=!1}).error(function(a){return f.stop(K),c.defer().reject(a.body.data)})):b.go("cast.bid.cast-member-detail")}function x(b){J.castMember=b,a.$emit("bid.castMemberClicked",b)}function y(a){return angular.isObject(a)}function z(){return f.spin(K),J.processingCastMember=!0,h.processCastMember(J.castMember).success(function(a){!1===a.body.hasError?(!1===r.hasValue(a.body.data)&&b.go("cast.bid.cast-member-list"),J.castMember=G(a.body.data)):J.toasts.length<1&&(J.toasts.push("error"),n.error(a.body.message,q.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){J.toasts.pop()}})),J.processingCastMember=!1,f.stop(K)}).error(function(a){return f.stop(K),c.defer().reject(a.body.data)})}function A(a){return f.spin(K),h.editSeniorityDate({employeePersonnelNumber:a.employeePersonnelNumber,vacationBidOverrideDate:a.vacationBidOverrideDate,bidPoolId:J.searchPool.id}).success(function(a){j.closeModal(),!1===a.body.hasError?B():J.toasts.length<1&&(J.toasts.push("error"),n.error(a.body.message,q.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){J.toasts.pop()}}))}).error(function(a){return j.closeModal(),f.stop(K),c.defer().reject(a.body.data)})}function B(a){if(a){angular.element("#bid-virtual-list").scrollTop(0)}if(!1!==r.hasValue(J.searchPool)&&!1!==r.hasValue(J.searchPool.id))return f.spin(K),J.castMembersLoaded=!1,J.filterByProcessed=!1,J.filterByName=void 0,h.getCastMembersByPool(J.searchPool.id).success(function(a){!1===a.body.hasError?(J.allCastMembers=a.body.data.castMembers,angular.forEach(J.allCastMembers,function(a){a=G(a)}),J.bidState=a.body.data.state,J.bidPoolHasAppointments="Vacation Bid With Appointment"===a.body.data.vacationBidTypeDescription,E(J.allCastMembers),C(),D()):J.toasts.length<1&&(J.toasts.push("error"),n.error(a.body.message,q.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){J.toasts.pop()}})),J.castMembersLoaded=!0,f.stop(K)}).error(function(a){return f.stop(K),c.defer().reject(a.body.data)})}function C(){var a=[J.bidStates.empty,J.bidStates.notReadyToStart,J.bidStates.completed];J.bidListContinueDisabled=a.filter(function(a){return a===J.bidState}).length>0}function D(){var a="";[J.bidStates.empty,J.bidStates.notReadyToStart,J.bidStates.readyToStart].filter(function(a){return a===J.bidState}).length>0?a=q.getLocale("button.bid.startbid"):J.bidStates.started===J.bidState?a=q.getLocale("button.bid.continuebid"):J.bidStates.readyToBeCompleted!==J.bidState&&J.bidStates.completed!==J.bidState||(a=q.getLocale("button.bid.completebid")),J.bidListContinueLabel=a}function E(){var a=angular.copy(J.allCastMembers);if(!J.filterByName&&J.filterByProcessed)return void(J.filteredCastMembers=a);J.filterByName&&(a=a.filter(function(a){var b=a.name.toLowerCase(),c=J.filterByName.toLowerCase();return a.employeePersonnelNumber.indexOf(c)>-1?a:b.indexOf(c)>-1?a:void 0})),J.filterByProcessed||(a=a.filter(function(a){if(!1===a.isProcessed)return a})),J.filteredCastMembers=a}function F(){f.spin("filter-spinner"),E(),d(function(){f.stop("filter-spinner")},500)}function G(a){var b=a;return b.name=a.personFirstName+" "+a.personLastName,r.hasValue(a.appointment)&&(b.noAnswer=!r.hasValue(a.appointment.hasAppointment),b.noAppointment=!1===a.appointment.hasAppointment),b}function H(){return f.spin(K),J.castMemberLoaded=!1,h.getNextCastMemberByPool(J.searchPool.id).success(function(a){!1===a.body.hasError?J.castMember=G(a.body.data):J.toasts.length<1&&(J.toasts.push("error"),n.error(a.body.message,q.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){J.toasts.pop()}})),J.castMemberLoaded=!0,f.stop(K)}).error(function(a){return f.stop(K),c.defer().reject(a.body.data)})}function I(){return f.spin(K),i.getPools().success(function(a){if(!1===a.body.hasError){var b=a.body.data;p(new Date).startOf("day");J.pools=b.filter(function(a){if(!a.hasExpired)return a})}else J.toasts.length<1&&(J.toasts.push("error"),n.error(a.body.message,q.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){J.toasts.pop()}}));f.stop(K)}).error(function(a){return f.stop(K),c.defer().reject(a.body.data)})}var J=this,K=(g.scheduleDateFormat,"spinner-1");t()}angular.module("app.bid").controller("BidController",a),a.$inject=["$rootScope","$state","$q","$timeout","$location","spinnerService","shiftService","bidService","poolService","modalService","castService","unauthService","dialogs","toastr","timeout","moment","language","utilities","helpService"]}(),angular.module("app.directives").directive("editSeniorityDateContainer",editSeniorityDateContainer),editSeniorityDateContainer.$inject=["$compile","$rootScope","utilities"],angular.module("app.directives").directive("editSeniorityDateForm",editSeniorityDateForm),editSeniorityDateForm.$inject=["$rootScope","language","modalService","castService","bidService","spinnerService","dialogs"],function(){"use strict";function a(a){a.configureStates(b())}function b(){return[{state:"cast.bid",config:{url:"/timeoff/bid",params:{data:null},templateUrl:"app/features/bid/bid.html",controller:"BidController",controllerAs:"bidVm",abstract:!0}},{state:"cast.bid.cast-member-list",config:{url:"",views:{viewMain:{templateUrl:"app/features/bid/cast-member-list.html",controller:["$rootScope",function(a){a.$emit("reloadCastMembers")}],controllerAs:"bidCastMemberListVm"}}}},{state:"cast.bid.cast-member-detail",config:{url:"/castMember",views:{viewMain:{templateUrl:"app/features/bid/cast-member-detail.html",resolve:{previousState:["$state",function(a){return{name:a.current.name,params:a.params,url:a.href(a.current.name,a.params)}}]},controller:["$state","previousState","$rootScope",function(a,b,c){"cast.bid.cast-member-list"!==b.name&&a.go("cast.bid.cast-member-list"),c.$emit("reloadBidCastMember")}],controllerAs:"bidCastMemberDetailVm"}}}}]}angular.module("app.bid").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{unauthorized:0,view:1,edit:2}}function f(){var e=c.getEnvPath("bid/getBidTypes/");return a.get(e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function g(e){var f=c.getEnvPath("bid/getNextCastMember/"+e);return a.get(f,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function h(e){var f=c.getEnvPath("bid/get/"+e);return a.get(f,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(e){var f=c.getEnvPath("bid/processCastMember/");return a.post(f,e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){
return b.defer().reject(a.body.data)})}function j(e){var f=c.getEnvPath("bid/editSeniorityDate/");return a.post(f,e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function k(){return{empty:"Empty",notReadyToStart:"NotReadyToStart",readyToStart:"ReadyToStart",started:"Started",readyToBeCompleted:"ReadyToBeCompleted",completed:"Completed"}}function l(e){var f=c.getEnvPath("bid/completeBid/");return a.post(f,e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function m(e){var f=c.getEnvPath("bid/deleteAdjustmentDate/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}return{getBidTypes:f,getCastMembersByPool:h,editSeniorityDate:j,getBidStates:k,getNextCastMemberByPool:g,processCastMember:i,completeBid:l,getAccessStates:e,deleteAdjustmentDate:m}}angular.module("app.bid").factory("bidService",a),a.$inject=["$http","$q","utilities","timeout"]}(),function(){"use strict";function a(){}angular.module("app.calendar-maintenance").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){E.title="Calendar Maintenance",E.language=k,E.toasts=[],E.userMsgType=null,E.searchForm={},E.searchWaitListSortTypeForm={},E.userSearchResult=e.getUserSearch(),E.userSession=e.getSession(),E.calendar=null,E.calendars=[],E.hasCalendars=!1,E.filteredCalendars=[],E.getCalendar=r,E.getCalendars=q,E.set=t,E.setAll=u,E.filter=v,E.change=w,E.clear=x,E.createCalendar=s,E.isRequestPeriodDirty=!1,E.isProcessing=!1,E.waitListSortTypes=[],E.getWaitListSortTypes=y,E.setWaitListSortType=p,E.editMode=!1,E.canSaveForm=B,E.saveCalendar=A,E.saveCalendar.title=k.getLocale("section.calendar-maintenance.calendar.save"),E.cancel=C,E.landingPage=D,E.isFormDirty=!1,E.getWaitListSortTypes(),E.requestPeriodUpdated=function(a){E.isRequestPeriodDirty=a},E.help=o,E.help(),q()}function o(){var a=m.getHelpContainerId("KB0010069","KB0010069");E.helpUrl=m.getHelpUrl(a)}function p(){for(var a=E.waitListSortTypes,b=0;b<a.length;b++)if(a[b].waitListSortTypeId===E.calendar.waitListSortType.waitListSortTypeId){E.calendar.waitListSortType=a[b];break}}function q(){return f.spin("spinner-1"),h.getAllSummary().success(function(a){!1===a.body.hasError&&(E.set(a.body.data),l.hasValue(E.helpData)&&l.hasValue(E.helpData.calendar)&&(E.calendar=E.helpData.calendar),E.calendar&&E.filter())}).error(function(a){}).finally(function(){f.stop("spinner-1")})}function r(a){return f.spin("spinner-1"),h.getCalendar(a).success(function(a){!1===a.body.hasError&&(E.calendar=a.body.data,p(),E.editMode=!0,E.isRequestPeriodDirty=!1)}).error(function(a){}).finally(function(){f.stop("spinner-1")})}function s(){E.editMode=!0,E.saveCalendar.title=k.getLocale("section.calendar-maintenance.calendar.addCalendar"),E.calendar={casualRegularParticipationIndicator:"N"}}function t(a){E.clear(),l.hasValue(a)&&(E.calendars=a,E.setAll())}function u(){E.filteredCalendars=[],angular.forEach(E.calendars,function(a){E.filteredCalendars.push(a)}),E.hasCalendars=E.calendars.length>0}function v(){E.filteredCalendars=[],l.hasValue(E.calendar)?l.hasValue(E.calendar)&&angular.forEach(E.calendars,function(a){a.name===E.calendar.name&&E.filteredCalendars.push(a)}):E.setAll()}function w(){""===E.calendar&&E.setAll()}function x(){E.calendar=null,E.calendars=[],E.hasCalendars=!1,E.filteredCalendars=[]}function y(){return f.spin("spinner-1"),h.getWaitListSortTypes().success(function(a){!1===a.body.hasError&&z(a.body.data)}).error(function(a){}).finally(function(){f.stop("spinner-1")})}function z(a){E.waitListSortTypes=[],l.hasValue(a)&&angular.forEach(a,function(a){E.waitListSortTypes.push(a)})}function A(a){if(B()){f.spin("spinner-1"),E.isProcessing=!0;var b=!l.hasValue(E.calendar.id);if(E.calendar.isDirty=a,E.calendar.timeOffCalendarRequestPeriodDtos){angular.forEach(E.calendar.timeOffCalendarRequestPeriodDtos,function(a){var b=function(a){return moment(a).format("MM/DD/YYYY")};a.timeOffCalendarRequestPeriodStartDate=b(a.timeOffCalendarRequestPeriodStartDate),a.timeOffCalendarRequestPeriodEndDate=b(a.timeOffCalendarRequestPeriodEndDate),a.timeOffCalendarRequestPeriodAdHocStartDate=b(a.timeOffCalendarRequestPeriodAdHocStartDate),a.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessStartDate=b(a.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessStartDate),a.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate=b(a.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate),a.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate=b(a.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate),a.vacationBidWithAppointment.vacationBidWithAppointmentCollectionStartDate=b(a.vacationBidWithAppointment.vacationBidWithAppointmentCollectionStartDate),a.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate=b(a.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate),a.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate=b(a.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate),a.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate=b(a.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate),a.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate=b(a.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate),a.vacationBidWithoutAppointment.vacationBidWithoutAppointmentEvaluationDate=b(a.vacationBidWithoutAppointment.vacationBidWithoutAppointmentEvaluationDate),a.adHocTimeOffCyclicalSchedule&&a.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount&&(a.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount=parseFloat(a.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount))});var c=E.calendar.timeOffCalendarRequestPeriodDtos.filter(function(a){return!(a.shouldDelete&&0===a.timeOffCalendarRequestPeriodId)});E.calendar.timeOffCalendarRequestPeriodDtos=c}return h.saveCalendar(E.calendar).success(function(a){if(E.isProcessing=!1,a.body.hasError)return void j.error(a.body.message,k.getLocale("notifications.label.error"),{timeOut:6e3});j.success(k.getLocale("section.calendar-maintenance.calendar.savemessage"),k.getLocale("notifications.label.success"),{timeOut:4e3}),E.calendar=a.body.data,E.setWaitListSortType(),E.isRequestPeriodDirty=!1,E.helpData=null,b&&(E.saveCalendar.title=k.getLocale("section.calendar-maintenance.calendar.save")),E.updateRequestPeriodInfo(E.calendar)}).error(function(a){}).finally(function(){f.stop("spinner-1")})}}function B(){return l.hasValue(E.calendar)&&l.hasValue(E.calendar.name)}function C(){i.create("app/features/modal/modal.cancel.html","ModalController",{},{windowClass:"fullscreen",size:"sm"}).result.then(function(a){j.info("Changes have been canceled","Confirm Cancellation"),g.closeModal(),E.editMode=!1,E.helpData=null,E.getCalendars()})}function D(){E.editMode=!1,E.helpData=null,E.getCalendars()}var E=this;n()}angular.module("app.calendar-maintenance").controller("CalendarMaintenanceController",a),a.$inject=["$state","$rootScope","$q","$timeout","castService","spinnerService","modalService","calendarMaintenanceService","dialogs","toastr","language","utilities","helpService"]}(),angular.module("app.directives").directive("viewAllotmentContainer",viewAllotmentContainer),viewAllotmentContainer.$inject=["$compile","$rootScope","utilities"],angular.module("app.directives").directive("viewAllotmentForm",viewAllotmentForm),viewAllotmentForm.$inject=["language","modalService","calendarMaintenanceService","spinnerService","toastr"],function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.calendar-maintenance",config:{url:"/timeoff/calendar",params:{data:null},templateUrl:"app/features/calendar-maintenance/calendar-maintenance.html",controller:"CalendarMaintenanceController",controllerAs:"calendarMaintenanceVm"}}]}angular.module("app.calendar-maintenance").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){var e=d.getEnvPath("calendar/getAll");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function f(){var e=d.getEnvPath("calendar/getAllSummary");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function g(e){var f=d.getEnvPath("calendar/getCalendar/");return a.get(f+e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function h(e){var f=d.getEnvPath("calendar/getPastRequestPeriods/");return a.get(f+e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(){var e=d.getEnvPath("calendar/getWaitListSortTypes");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function j(){var e=d.getEnvPath("calendar/getAllotments");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function k(e){var f=d.getEnvPath("calendar/saveAllotment/");return a.post(f,e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function l(){var e=d.getEnvPath("calendar/getSeniorityTypes");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function m(){var e=d.getEnvPath("calendar/getVacationBidTypes");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function n(){var e=d.getEnvPath("calendar/getAdHocTypes");return a.get(e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function o(e){var f=d.getEnvPath("calendar/saveCalendar/");return a.post(f,e,{timeout:c.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}return{getAll:e,getAllSummary:f,getCalendar:g,getPastRequestPeriods:h,getWaitListSortTypes:i,getAllotments:j,saveAllotment:k,getSeniorityTypes:l,getVacationBidTypes:m,getAdHocTypes:n,saveCalendar:o}}angular.module("app.calendar-maintenance").factory("calendarMaintenanceService",a),a.$inject=["$http","$q","timeout","utilities"]}(),function(){"use strict";function a(){}angular.module("app.calendar").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(){ca.language=o,ca.portalUrl=VIEW_AVAILABLE_URL,ca.shifts=null,ca.calendarForm={},ca.toasts=[],ca.userMsgType=null,ca.$state=a,a.$current.locals["@cast"]&&(ca.session=a.$current.locals["@cast"].session,ca.session.requestPerner=JSON.parse(localStorage.getItem("userSession")).perner),b.getShiftDetails=G,b.editTimeoff=S,b.calendarChanged=K,u.$on("$viewContentLoaded",function(a){y()}),a.params.data&&a.params.data.view?(ca.calendarView=a.params.data.view,b.calendarView=ca.calendarView):b.calendarView?ca.calendarView=b.calendarView:ca.calendarView="week",ca.inWeeklyView="week"===ca.calendarView;var d=b.calRequestDate?new Date(b.calRequestDate):new Date;ca.viewDate=d,ca.calendarReady=!1,ca.eventEdited=T,ca.eventEditAhsu=U,ca.submitTimeoff=H,ca.deleteTimeoff=I,ca.isDefined=W,ca.toggle=V,ca.showBidAppt=B,ca.calendarChanged=K,ca.navigateToFutureRequests=M,ca.editTimeoff=S,ca.monthChanged=O,ca.yearChanged=P,ca.yearSelected=!1,ca.weeklyView=N,ca.showAllFutureRequests=A,ca.futureRequests=[],ca.dayStates=i.getDayStates(),ca.userSession=f.getSession(),ca.accessStates=i.getAccessStates();var e=p.getSession();ca.hasMonthlyAccess=z(),!1===ca.hasMonthlyAccess&&"cast.calendar"===a.$current.name?a.go("cast.schedule"):e&&J(e);var h=q.getData();p.hasValue(h)&&p.hasValue(h.viewDate)&&(ca.viewDate=h.viewDate),ca.futureRequests={perner:ca.session.member.perner,display:!0,hasItems:function(){return 0!==this.timeoff.data.length||0!==this.additionalHours.data.length},update:function(a){this.clear();for(var b=0;b<a.length;b++){var c=s(a[b].date).toDate();if(a[b].timeOff){var d=a[b].timeOff;d.date=c,this.timeoff.data.push(d)}else if(a[b].additionalHours){var d=a[b].additionalHours;d.date=c,this.additionalHours.data.push(d)}}},timeoff:{data:[],openEdit:function(a,b){var d={perner:a,startDateTime:s(b).startOf("day").format("MM/DD/YYYY"),endDateTime:s(b).startOf("day").format("MM/DD/YYYY"),hasWaitListInfo:!0};return g.spin("spinner-1"),i.getFutureRequests(d).success(function(a){if(!1===a.body.hasError){ca.defaultAvailabilityStartTime=a.body.data.defaultAvailabilityStartTime,ca.defaultAvailabilityEndTime=a.body.data.defaultAvailabilityEndTime;var b=Z(a.body.data.days);ca.eventEdited(b[0])}}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-1")})}},additionalHours:{data:[],openEdit:function(a,b){var d={perner:a,startDateTime:s(b.date).startOf("day").format("MM/DD/YYYY"),endDateTime:s(b.date).startOf("day").format("MM/DD/YYYY"),hasWaitListInfo:!0};return g.spin("spinner-1"),i.getFutureRequests(d).success(function(a){if(!1===a.body.hasError){ca.defaultAvailabilityStartTime=a.body.data.defaultAvailabilityStartTime,ca.defaultAvailabilityEndTime=a.body.data.defaultAvailabilityEndTime;var c=Z(a.body.data.days);ca.eventEditAhsu({additionalHours:b,startsAt:b.date,timeOffDayState:c[0].timeOffDayState})}}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-1")})}},clear:function(){this.noOfRequests=0,this.timeoff.data=[],this.additionalHours.data=[]},init:function(a){this.display=a}},ca.futureRequests.init(0!=e.access.calendarAccessLevel),ca.openTimeoffEdit=R,K(ca.calendarView,null,a.params.focusDate),a.params.focusDate=null}function y(){var b=a.params.afterOnBehalfOfParams;if(b&&b.ehhSearch){var c=f.getUserSearch(),d=b.ehhSearch.isMyLocation,e=b.ehhSearch.searchDate,g=b.ehhSearch.isEligible;t.launch({$scope:u,searchDate:e,searchPerner:c.perner,isMyLocation:d,isEligible:g}),a.params.afterOnBehalfOfParams=null}}function z(){return p.hasValue(ca.userSession.access.calendarAccessLevel)&&(ca.userSession.access.calendarAccessLevel===ca.accessStates.self||ca.userSession.access.calendarAccessLevel===ca.accessStates.onBehalfOf)}function A(){return g.spin("spinner-1"),ca.futureRequests.perner=ca.session.member.perner,i.getAllFutureRequests(ca.futureRequests.perner).success(function(a){a.body.hasError||(ca.futureRequests.update(a.body.data),b.$emit("calendar.viewFutureRequests",ca.futureRequests,ca.calendarChanged))}).error(function(a){}).finally(function(){g.stop("spinner-1")})}function B(a){if(void 0!==a&&(ca.userSession||(ca.userSession={perner:ca.session.member.perner}),ca.session.member.appointment&&(null===ca.session.member.appointment.hasAppointment||a)&&(ca.userSession.perner===ca.session.member.perner||a))){var b=(c.defer(),!1);ca.userSession.perner===ca.session.member.perner&&null===ca.session.member.appointment.hasAppointment||(b=!0),h.setVm({appt:ca.session.member.appointment,submitBidAppt:C,canCancel:b}),ca.apptDialog=m.create("app/features/modal/modal.calendar.bidappt.html","ModalController",{},{windowClass:"fullscreen",size:"lg",backdrop:"static",keyboard:!1})}}function C(a){function b(a){!1===a.hasError&&a.perner?(ca.session.member.appointment=a.appointment,ca.apptDialog.close()):c()}function c(){n.error(o.getLocale("notifications.message.wrong"),o.getLocale("notifications.label.error"),{timeOut:6e3})}a.processing=!0;var d=angular.copy(a.choice);if(!d)return a.processing=!1,void ca.apptDialog.close();d="yes"===d;var e={employeePersonnelNumber:ca.session.member.perner,appointment:{hasAppointment:d}};g.spin("spinner-2"),i.submitBidAppt(e).then(D).then(b).catch(c).finally(function(){g.stop("spinner-2"),a.processing=!1})}function D(){return f.getCastByPerner(ca.session.member.perner)}function E(){g.spin("spinner-1");var a=ca.session.member.perner;return i.getSchedule(a).success(function(a){!1===a.body.hasError?ca.events=Y(a.body.schedule):"noSchedulePool"===a.body.name?(ca.events=[],ca.userMsgType=a.body.name):ca.toasts.length<1&&(ca.toasts.push("error"),n.error(a.body.message,o.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ca.toasts.pop()}})),ca.calendarReady=!0}).error(function(a){return!0===a.body.hasError?a.body.name="noSchedulePool":ca.toasts.length<1&&(ca.toasts.push("error"),n.error(a.body.message+" "+a.body.messageDetail,o.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ca.toasts.pop()}})),ca.calendarReady=!0,c.defer().reject(a.body.data)})}function F(a,b){var d=f.getUserSearch();d||(d={perner:ca.session.member.perner}),d.perner=d.perner||null;var e={perner:d.perner,startDateTime:a,endDateTime:b,hasWaitListInfo:!0};return g.spin("spinner-1"),i.getFutureRequests(e).success(function(a){!1===a.body.hasError?(ca.defaultAvailabilityStartTime=a.body.data.defaultAvailabilityStartTime,ca.defaultAvailabilityEndTime=a.body.data.defaultAvailabilityEndTime,ca.events=Z(a.body.data),i.getAllotmentBalance(a.body.data.allotmentBalance),ca.bidPools=i.getBidPools(a.body.data.bidPools)):"noSchedulePool"===a.body.name?(ca.events=[],ca.userMsgType=a.body.name):ca.toasts.length<1&&(ca.toasts.push("error"),n.error(a.body.message,o.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ca.toasts.pop()}})),ca.calendarReady=!0}).error(function(a){return!0===a.body.hasError?a.body.name="noSchedulePool":ca.toasts.length<1&&(ca.toasts.push("error"),n.error(a.body.message+" "+a.body.messageDetail,o.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ca.toasts.pop()}})),ca.calendarReady=!0,c.defer().reject(a.body.data)})}function G(a,b){return g.spin("spinner-2"),j.getShiftDetails(a,b).success(function(a){if(!1===a.body.hasError){var b=a.body.shiftDetail,c="ShiftId:"+b.shiftId+"\n";c+="shiftNoteText:"+b.shiftNoteText+"\n",c+="shiftStartTime:"+b.shiftStartTime+"\n",c+="shiftEndTime:"+b.shiftEndTime+"\n",c+="lineOfBusinessName:"+b.lineOfBusinessName+"\n",c+="propertyName:"+b.propertyName+"\n",c+="positionDescription:"+b.positionDescription+"\n",c+="extraHoursPositionCallInPhone:"+b.extraHoursPositionCallInPhone+"\n",c+="extraHoursPositionComments:"+b.extraHoursPositionComments+"\n",c+="extraHoursPositionContactName:"+b.extraHoursPositionContactName+"\n",c+="extraHoursPositionCostume:"+b.extraHoursPositionCostume+"\n",c+="extraHoursPositionMeetingPlace:"+b.extraHoursPositionMeetingPlace+"\n",c+="extraHoursPositionSpecialTraining:"+b.extraHoursPositionSpecialTraining+"\n",c+="castMemberPhone:"+b.castMemberPhone+"\n",alert(c)}else n.error(a.body.message,o.getLocale("section.shiftdetail.error.notfound.title"),{timeOut:6e3})}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-2")})}function H(d){function e(){return g.spin("spinner-1"),i.submitTimeoff(q).success(function(b){if(!1===b.body.hasError){a.reload(),h.setVm({timeOffDayState:ca.day.timeOffDayState,requestType:"add",showReminder:b.body.data.showReminder,reminder:o.getLocale("section.calendar.text.reminder")});m.create("app/features/modal/modal.timeoff-confirmed.html","ModalController",{},{windowClass:"fullscreen",size:"lg"}).result.then(function(){h.closeModal()})}else ca.toasts.length<1&&(ca.toasts.push("error"),n.error(b.body.message,o.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ca.toasts.pop()}}));j.resolve(),g.stop("spinner-1")}).error(function(a){return j.reject(a.body.data)})}var j=c.defer(),k=f.getUserSearch();k.perner=k.perner||null,b.calRequestDate=d.startDate.$modelValue;var l=null;!(W(d)&&W(d.payType)&&W(d.payType.$modelValue))||d.isOverride&&d.isOverride.$modelValue||(l=d.payType.$modelValue.code);var p=ba(d.startDate.$modelValue,d.endDate.$viewValue,l),q={perner:k.perner,dates:p};if(d.isOverride&&d.isOverride.$modelValue){h.setVm({day:this.day});m.create("app/features/modal/modal.confirm-leader-override.html","ModalController",{},{size:"sm"}).result.then(function(a){h.closeModal(),q.leaderOverride={isOverride:d.isOverride.$modelValue,comment:a.comment},e()},function(){j.resolve()})}else e();return j.promise}function I(d){function e(){g.spin("spinner-1"),i.deleteTimeoff(p).success(function(b){if(!1===b.body.hasError){a.reload(),h.setVm({timeOffDayState:ca.day.timeOffDayState,requestType:"delete"});m.create("app/features/modal/modal.timeoff-confirmed.html","ModalController",{},{windowClass:"fullscreen",size:"lg"}).result.then(function(){h.closeModal()})}else ca.toasts.length<1&&(ca.toasts.push("error"),n.error(b.body.message,o.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ca.toasts.pop()}}));j.resolve()}).error(function(a){return j.resolve(a.body.data)})}var j=c.defer(),k=f.getUserSearch();k.perner=k.perner||null,b.calRequestDate=d.startDate.$modelValue;var l=ba(d.startDate.$modelValue,d.endDate.$viewValue,null),p={perner:k.perner,dates:l};return m.create("app/features/modal/modal.confirm-delete.html","ModalController",{title:o.getLocale("modal.timeoff.title.delete"),message:o.getLocale("modal.timeoff.message.delete")},{windowClass:"fullscreen",size:"sm"}).result.then(function(){e()},function(){j.resolve()}),j.promise}function J(a){ca.session=a}function K(c,d,e,f){if(c&&ca.calendarView!==c){var g=null;if("month"===c.toLowerCase()?g="cast.calendar":"week"===c.toLowerCase()&&(g="cast.schedule"),g)return void a.go(g)}if(ca.yearSelected=!1,ca.calendarView=c||ca.calendarView,ca.viewDate=L(d),ca.inWeeklyView="week"===ca.calendarView,!a.$current.locals["@cast"]||!a.$current.locals["@cast"].session)return void n.error("Please use either the help back arrow to return to previous page or refresh page.","User session lost",{timeOut:6e3});X(),ca.session.searchPerner=ca.session.member.perner,b.calendarView=ca.calendarView.toLowerCase(),b.calRequestDate=ca.viewDate,"month"===ca.calendarView.toLowerCase()?(O(void 0,null,f),b.$emit("event.inSecondaryPage",{setLink:!0})):"year"===ca.calendarView.toLowerCase()?P():"week"===ca.calendarView.toLowerCase()&&N(800,e)}function L(a){return a?(ca.viewDateMonth=a,a):ca.viewDateMonth?ca.viewDateMonth:ca.viewDate?(ca.viewDateMonth=ca.viewDate,ca.viewDate):new Date}function M(){K("month")}function N(a,c){a=-1===a?0:800,ca.title="Schedule View",ca.calendarTitle=k.formatDate(ca.viewDate,l.titleFormats.month),ca.weekTimer&&d.cancel(ca.weekTimer),ca.viewDate=new Date;s(ca.viewDate).startOf("week").format("MM/DD/YYYY"),Q();ca.weekTimer=d(function(){E().then(function(){if(g.stop("spinner-1"),p.hasValue(c)&&s(c).isValid()){var a=$("#schedule-day-"+c.format("YYYYMMDD"));a.offset()?(b.refreshWeekView(ca.events),$("body, html").animate({scrollTop:a.offset().top-50})):b.refreshWeekView(ca.events,c)}else b.refreshWeekView(ca.events)})},a)}function O(a,c,e){ca.title="Time Off",c&&(ca.viewDate=c),a=-1===a?0:800,ca.calendarTitle=k.formatDate(ca.viewDate,l.titleFormats.month),ca.monthTimer&&d.cancel(ca.monthTimer),ca.monthTimer=d(function(){F(s(ca.viewDate).startOf("month").startOf("week").format("MM/DD/YYYY"),s(ca.viewDate).endOf("month").endOf("week").format("MM/DD/YYYY")).then(D).then(function(a){!1===a.hasError&&a.perner&&(ca.session.member.appointment=a.appointment)}).then(function(){B(!1),ca.previousViewDate=ca.viewDate,b.refreshMonthView(ca.events,e)})},a)}function P(){b.refreshYearView()}function Q(){for(var a=s(ca.viewDate).endOf("week"),b=3,c=0;c<b-1;c++)a=a.add(1,"week");return a.format("MM/DD/YYYY")}function R(a){var b=f.getUserSearch();b.perner=b.perner||null;var d={perner:b.perner,startDateTime:a,endDateTime:a,hasWaitListInfo:!0};return g.spin("spinner-1"),i.getFutureRequests(d).success(function(a){if(!1===a.body.hasError){ca.defaultAvailabilityStartTime=a.body.data.defaultAvailabilityStartTime,ca.defaultAvailabilityEndTime=a.body.data.defaultAvailabilityEndTime;var b=Z(a.body.data.days);ca.eventEdited(b[0])}}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-1")})}function S(a,c){"month"===ca.calendarView&&b.$emit("closeSlideBoxTray",a.date),w.launchTimeOffRequest({day:a,calendarView:c,refreshMonthlyCalendar:null})}function T(a){w.launchTimeOffRequest({day:a,calendarView:"month",refreshMonthlyCalendar:O})}function U(a){v.launch({day:a})}function V(a,b,c){a.preventDefault(),a.stopPropagation(),c[b]=!c[b]}function W(a){return!!angular.isDefined(a)}function X(){var a=ca.inWeeklyView?q.getHelpContainerId("KB0010083","KB0010083"):q.getHelpContainerId("KB0010079","KB0010078");ca.helpUrl=q.getHelpUrl(a)}function Y(a){var b=[],c=0;s().startOf("day").toDate();return angular.forEach(a,function(a,d){var e={$id:c,type:"info",date:s(a.shiftDate).toDate(),draggable:!1,resizable:!1,isEvent:!1};e.schedule=aa(a),e.schedule.showActions=!1,b.push(e),c++}),b}function Z(a){var b=[],c=0,d=(s().startOf("day").toDate(),a.allotmentBalance);return angular.forEach(a.days,function(a,e){var f={$id:c,type:"info",additionalHoursDayState:a.additionalHoursDayState,timeOffDayState:a.timeOffDayState,draggable:!1,resizable:!1,isEvent:!1,additionalHours:a.additionalHours,timeoff:a.timeOff,isRdo:a.isRdoDay,date:s(a.date).toDate(),isSelected:s(a.date).isSame(ca.viewDate),userSelectedDay:!1,defaultAvailabilityStartTime:ca.defaultAvailabilityStartTime,defaultAvailabilityEndTime:ca.defaultAvailabilityEndTime};f=_(f,d),f.isUneditable=f.isRdo||f.timeOffDayState===ca.dayStates.past||f.timeOffDayState===ca.dayStates.blocked&&!f.isVacation,f.timeoff.showActions=!1,f.showActions=!1,b.push(f),c++}),b}function _(a,b){return a.timeoff.hasTimeoff=p.hasValue(a.timeoff.ebType),a.timeoff.canOverride=a.timeoff.canOverride&&ca.session.member.perner!==ca.session.requestPerner,a.startsAt=s(a.date).toDate(),a.endsAt=s(a.date).endOf("day").toDate(),a.timeoff.ebType&&(a.title=a.timeoff.ebType.name),angular.isDefined(a.timeoff.isAvailable)&&(a.isEvent=!1),a.timeoff.hasTimeoff&&(a.isEvent||"Approved"!==a.timeoff.ebType.status||(a.badge=a.timeoff.ebType.symbol,a.timeoff.isApproved=!0),"LRDO"!==a.timeoff.ebType.name&&!1===a.timeoff.isPending&&(a.isVacation=!0),"LRDO"===a.timeoff.ebType.name&&(a.timeoff.isLRdo=!0,a.badge="LRDO")),a.timeoff.isWaitlisted&&"Past"!==a.timeOffDayState&&(a.badge="W"),a.timeoff.isPending&&(a.badge=!0,a.title=null),a.additionalHours&&(a.badge=!0,a.title=null),a.timeoff.allotmentBalance=b,a}function aa(a){var b=ca.session.member.perner;return a.hasShifts=!1,a.hasExceptions=a&&a.availabilityExceptions&&a.availabilityExceptions.length>0,a.isEmpty=!0,angular.forEach(a.shifts,function(c,d){c.perner=b,c.start=s(c.startTime),c.end=s(c.endTime),a.hasShifts=!0}),p.hasValue(a.openShift)&&(a.openShift.start=s(a.openShift.startTime),a.openShift.end=s(a.openShift.endTime)),!0!==a.hasExceptions&&!0!==a.hasShifts||(a.isEmpty=!1),a}function ba(a,b,c){for(var d=a instanceof Date?a:new Date(a),e=b instanceof Date?b:new Date(b),f=[],g=[],h=0,i=s(d).format("MM/DD/YYYY");;){if(g[h]=new Date(i),g[h].setDate(g[h].getDate()+h),f.push({date:s(g[h]).format("MM/DD/YYYY"),code:c}),g[h]>=e)break;h++}return f}var ca=this;x()}angular.module("app.calendar").controller("CalendarController",a),a.$inject=["$state","$rootScope","$q","$timeout","$location","castService","spinnerService","modalService","scheduleService","shiftService","calendarHelper","calendarConfig","dialogs","toastr","language","utilities","helpService","unauthService","moment","ehhSearchService","$scope","ahsuService","calendarService"]}(),angular.module("app.directives").directive("timeOffRequest",timeOffRequest),timeOffRequest.$inject=["$rootScope","$q","utilities","language","dialogs","toastr","modalService","castService","scheduleService","spinnerService","$timeout"],angular.module("app.directives").directive("viewFutureRequestsContainer",viewFutureRequestsContainer),viewFutureRequestsContainer.$inject=["$compile","$rootScope","utilities"],angular.module("app.directives").directive("viewFutureRequestsForm",viewFutureRequestsForm),viewFutureRequestsForm.$inject=["$timeout","language","modalService","castService","utilities"],function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.calendar",config:{url:"/timeoff",params:{data:{view:"month"}},templateUrl:"app/features/calendar/calendar.html",controller:"CalendarController",controllerAs:"calendarVm"}},{state:"cast.schedule",config:{url:"/",params:{data:{view:"week"},afterOnBehalfOfParams:null,focusDate:null},templateUrl:"app/features/calendar/calendar.html",controller:"CalendarController",controllerAs:"calendarVm"}}]}angular.module("app.calendar").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b){function c(c){if(c.day){var d=b.$new(!1,b),e="time-off-request-content-drawer";d.day=c.day,d.calendarView=c.calendarView,d.refreshMonthlyCalendar=c.refreshMonthlyCalendar;var f='<div time-off-request id="'+e+'" class="content-drawer"> </div>';$("body").append(f),a($("#"+e)[0])(d),$("body").addClass("hide-scrollbar")}}return{launchTimeOffRequest:c}}angular.module("app.calendar").factory("calendarService",a),a.$inject=["$compile","$rootScope"]}(),angular.module("app.directives").directive("calendarYearOption",calendarYearOption),calendarYearOption.$inject=["language","$timeout"],function(){"use strict";function a(){}angular.module("app.cast").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){l.searchForm={},l.toasts=[],l.reset=k,l.language=f,l.getCastMember=j,l.userSearchResult=d.getUserSearch(),a.$current.locals["@cast"]&&(l.session=a.$current.locals["@cast"].session)}function j(b){l.searchForm.$submitted=!0,l.searchForm&&!g.isEmpty(l.searchForm.perner.$error)||(c.spin("spinner-1"),d.getCastByPerner(l.session.searchPerner).then(function(d){if(!1===d.hasError&&d.perner){var e="";b&&(e=l.session.requestPerner,k(b)),l.session.member=d,l.session.access=d.access,l.session.searchPerner=d.perner,l.session.requestPerner=e,a.go(a.current,a.params,{reload:!0,inherit:!1})}else l.session.searchPerner=l.session.member.perner,l.toasts.length<1&&(l.toasts.push("error"),h.error(d.perner+" "+f.getLocale("notifications.message.noperner"),f.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){l.toasts.pop()}}));c.stop("spinner-1")}))}function k(a){l.session={member:{},access:[],searchPerner:"",requestPerner:""},a||(l.session.searchPerner=null,l.searchForm.$setPristine())}var l=this;i()}angular.module("app.cast").controller("CastController",a),a.$inject=["$state","$rootScope","spinnerService","castService","unauthService","language","utilities","toastr"]}(),function(){"use strict";function a(a){a.configureStates(b())}function b(){return[{state:"cast",config:{abstract:!0,template:"<div ui-view></div>",controller:"CastController",controllerAs:"castVm",resolve:{session:["$state","$location","$timeout","castService","unauthService",function(a,b,c,d,e){function f(){var a={},b=d.getUserSearch(),c=d.getSession();return b&&(a.searchPerner=b.perner||null,a.member=b||null),a.access=c?c.access:{},a}return d.getSession()?(a.params.session=f(),a.params.session):d.setSession().then(function(){return a.params.session=f(),a.params.session}).finally(function(){e.getStatus()&&b.path("/unauth")})}]}}}]}angular.module("app.cast").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){return{noAccess:0,selfAccess:1,onBehalfOf:2}}function i(){var c=e.getEnvPath("cast/getByTokenLsm/"),h=e.getEnvPath("cast/getByToken"),i={},j={},k=!1,l=!1,n=function(a){return a.hasOwnProperty("appointment")},o=function(a){a=a||{},a.data=a.data||{},a.data.body=a.data.body||{},a.data.body.data=a.data.body.data||{},
n(a.data.body.data)?i=a.data.body.data||{}:j=a.data.body.data||{}},p=function(a){e.isEmpty(a.config.url)||-1!==a.config.url.indexOf("Lsm")?l=!0:k=!0},q=function(){var a={};if(e.isEmpty(j)||angular.copy(j,a),!e.isEmpty(i)){a.perner=a.perner||i.perner,a.appointment=i.appointment,a.name=a.name||i.name,a.isEmployeeWdw=a.isEmployeeWdw||i.isEmployeeWdw,a.access=a.access||{};for(var b in i.access)i.access.hasOwnProperty(b)&&(a.access[b]=i.access[b])}return a},r=[a.get(c,{timeout:f.xhr}).then(o,p),a.get(h,{timeout:f.xhr}).then(o,p)];return b.all(r).then(function(){if(k&&l)return g.setStatus(498),b.reject("Cannot retrieve user information.");if(e.isEmpty(j)&&e.isEmpty(i))return g.setStatus(498),b.reject("Cannot retrive user information.");var a=q();return m(a),d.$emit("event.userSessionSet",a),a})}function j(c){var d=e.getEnvPath("cast/getByPernerLsm/"),h=e.getEnvPath("cast/getByPerner/"),i={},j={},k=!1,l=!1,n=function(a){return a.hasOwnProperty("appointment")},o=function(a){a=a||{},a.data=a.data||{},a.data.body=a.data.body||{},a.data.body.data=a.data.body.data||{},n(a.data.body.data)?i=a.data.body.data||{}:j=a.data.body.data||{}},p=function(a){e.isEmpty(a.data.request)||-1!==a.data.request.uri.href.indexOf("LSMMobileAPI")?l=!0:k=!0},q=function(){var a={};if(e.isEmpty(j)||angular.copy(j,a),!e.isEmpty(i)){a.perner=a.perner||i.perner,a.appointment=i.appointment,a.name=a.name||i.name,a.isEmployeeWdw=a.isEmployeeWdw||i.isEmployeeWdw,a.access=a.access||{};for(var b in i.access)i.access.hasOwnProperty(b)&&(a.access[b]=i.access[b])}return a},r=[a.get(d+c,{timeout:f.xhr}).then(o,p),a.get(h+c,{timeout:f.xhr}).then(o,p)];return b.all(r).then(function(){if(k&&l)return g.setStatus(498),b.reject("Cannot retrieve user information.");if(e.isEmpty(j)&&e.isEmpty(i))return g.setStatus(498),b.reject("Cannot retrive user information.");var a=q();return m(a),a.hasError=k||l||!a.firstName,a})}function k(a){var b=moment(a);return p().isEmployeeWdw?b:b.add(3,"H")}function l(a){return a=a||{},{perner:a.perner,name:a.name,access:a.access,firstName:a.firstName,isEmployeeWdw:a.isEmployeeWdw}}function m(a){r=a}function n(){return r}function o(){return i().then(function(a){var c=l(a);return localStorage.setItem("userSession",JSON.stringify(c)),b.defer().resolve("Resolve setSession promise")},function(){return b.defer().reject("Reject setSession promise")})}function p(){return JSON.parse(localStorage.getItem("userSession"))}function q(){var c=e.getEnvPath("authz/logout"),d=b.defer();return a.post(c,{timeout:f.xhr,withCredentials:!0}).success(function(){console.log("User has been logged out. Refresh."),d.resolve()}).error(function(a){d.reject(a.body)}),d.promise}var r={};return{getCastByPerner:j,getSession:p,getUserSearch:n,setSession:o,destroySession:q,getEasternTimeZoneMoment:k,getAccessStates:h}}angular.module("app.cast").factory("castService",a),a.$inject=["$http","$q","$location","$rootScope","utilities","timeout","unauthService"]}(),angular.module("app.ehh-search").directive("ehhSearch",ehhSearch),ehhSearch.$inject=["utilities","language","spinnerService","moment","shiftService","toastr","$compile","errorMessageService","castService","alertModalService","ehhSearchService","scheduleService","$state","helpService","$timeout"],function(){"use strict";function a(a,b){function c(b){var c=b.$scope.$new(!1,b.$scope),d="ehh-search-secondary-page";c.searchDate=b.searchDate,c.searchPerner=b.searchPerner,c.isMyLocation=b.isMyLocation,c.isEligible=b.isEligible,c.maxDate=b.maxDate;var e='<div ehh-search id="'+d+'" class="secondary-page"> </div>';$(".calendar").append(e),a($("#"+d)[0])(c),c.$root.$emit("event.inSecondaryPage",{setLink:!0,$secondaryScope:c}),$("body").addClass("hide-scrollbar")}function d(a){var c=[];return a=a||[],a.forEach(function(a){var d=a.indexOf(":"),e=d<0?a:a.substring(0,d),f=d<0?"":a.substring(d+2,a.length-1),g=b.getLocale("section.ehh.ineligible.reasons.training"),h={title:b.getLocale("section.ehh.ineligible.reasons."+e.replace(" ","").toLowerCase()),message:e===g?f:""};0===c.filter(function(a){return a.title===h.title}).length&&c.push(h)}),c}return{launch:c,parseIneligibleReasons:d}}angular.module("app.ehh-search").factory("ehhSearchService",a),a.$inject=["$compile","language"]}(),function(){"use strict";function a(){function a(a,b){var c=this;c.reasons=a.reasons,c.ineligibleTrainingDetails=a.ineligibleTrainingDetails,c.language=b}var b={restrict:"A",templateUrl:"app/features/ehh-search/partials/ineligible-reasons.html",scope:{reasons:"=",ineligibleTrainingDetails:"="},controller:a,controllerAs:"ineligibleReasonsVm"};return a.$inject=["$scope","language"],b}angular.module("app.ehh-search").directive("ineligibleReasons",a)}(),function(){"use strict";function a(){function a(a,b){var c=this;c.training=a.training,c.showMessage=a.showMessage,c.language=b}var b={restrict:"A",templateUrl:"app/features/ehh-search/partials/ineligible-training.html",scope:{training:"=",showMessage:"="},controller:a,controllerAs:"ineligibleTrainingVm"};return a.$inject=["$scope","language"],b}angular.module("app.ehh-search").directive("ineligibleTraining",a)}(),function(){"use strict";function a(){}angular.module("app.giveaway").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){L.trading=!0,L.title=l.getLocale("section.trade.title"),L.blocked=!1,L.language=l,L.$state=b,L.toggleShift=F,L.handleCancelClick=G,L.checkRecipient=I,L.shiftSelected=E,L.resetRecipient=C,L.reloadShifts=r,L.finalTradeCheck=J,L.submit=K,L.scheduleListCanContinue=u,L.scheduleListHandleContinueClick=v,L.searchHandleContinueClick=w,L.searchCanContinue=x,L.confirmCanContinue=y,L.accessStates=e.getAccessStates(),L.hasAccess=q,L.leaderOverride=!1,c.spin(M),L.session=m.getSession(),"function"==typeof a.destroyLastReloadGiveawayShifts&&a.destroyLastReloadGiveawayShifts(),!0===L.hasAccess()?a.destroyLastReloadGiveawayShifts=a.$on("reloadShifts",r):c.stop(M);var d=n.getHelpContainerId("KB0010076","KB0010075");L.helpUrl=n.getHelpUrl(d)}function q(){return m.hasValue(L.session.access.shiftTradeAccessLevel)||(o.setStatus(401),b.go("unauth")),L.session.access.shiftTradeAccessLevel===L.accessStates.selfAccess||L.session.access.shiftTradeAccessLevel===L.accessStates.onBehalfOf}function r(){D(),A(L.session.member.perner)}function s(a){var b=!0,c=a.receivingSelectedShifts.map(function(a){return a.id});return angular.forEach(a.receivingShifts,function(a){a.mustSelectShift&&c.indexOf(a.id)<0&&(b=!1)}),b}function t(a){function b(a,b){return a+b}var c=!1;return a.map(function(a){return a.duration}).reduce(b)>=120&&(c=!0),c}function u(){return m.hasValue(L.selectedShifts)&&L.selectedShifts.length>0&&t(L.selectedShifts)}function v(){B(L.session.member.perner,L.selectedShifts[0].day),b.go("cast.trade.search")}function w(){L.trading?L.finalTradeCheck(b.params.nextState):b.go(b.params.nextState)}function x(){return L.trading?L.receivingSelectedShifts.length>0&&t(L.receivingSelectedShifts)&&s(L):L.recipientValid}function y(){var a=!1;return!1===L.hasSubmitted&&(a=!L.trading||!0===L.finalErrorShiftsLoaded&&!0===L.recipientValid),a}function z(a,b){if(angular.isDefined(b)&&null!==b){a.splice(0,a.length);for(var c=0;c<b.length;c++){var d=b[c],e=k(d.shiftDate),f=k(d.shiftStartTime),g=k(d.shiftEndTime),h=new Array(0);angular.forEach(d.overlapConflicts,function(a){var b=k(a.shiftStartTime),c=k(a.shiftEndTime),d={start:b,end:c,id:a.shiftId};this.push(d)},h);var i=new Array(0);angular.forEach(d.doublebackConflicts,function(a){var b=k(a.shiftStartTime),c=k(a.shiftEndTime),d={start:b,end:c,id:a.shiftId};this.push(d)},i);var j={start:f,end:g,position:d.schedulingPositionDescription,id:d.shiftId,day:e,duration:g.diff(f,"minutes"),ineligibleTrainingDetails:d.ineligibleTrainingPackages,overlapConflicts:h,overlapsSelectedShift:d.overlapsSelectedShift,overlapsUnselectedShift:d.overlapsUnselectedShift,conflict:d.conflict,inDifferentPublicationRule:d.isDifferentPublicationRule,positionIneligible:d.positionIneligible,leadMinutes:d.leadMinutes,tooLate:d.tooLate,ineligible:d.ineligible,mustSelectShift:d.mustSelectShift,doublebackConflicts:i,doublebackWithSelectedShift:d.doublebackWithSelectedShift,doublebackWithUnselectedShift:d.doublebackWithUnselectedShift,doublebackConflict:d.doublebackConflict,override:d.override,isOvertime:d.isOvertime,showTraining:!1,toggleShowTraining:function(){this.showTraining=!this.showTraining},weeklyMaxHoursExceeded:d.weeklyMaxHoursExceeded,dailyMaxHoursExceeded:d.dailyMaxHoursExceeded};null!==j.position&&j.position.indexOf("`")>=0&&(j.position=j.position.substring(0,j.position.indexOf("`"))),a.push(j)}a.sort(function(a,b){return a.start.diff(b.start)})}}function A(a){e.getTradableShifts({perner:a,leaderOverride:L.leaderOverride}).then(function(a){j.start(),z(L.shifts,a.tradableShifts),L.startDate=k(a.shiftRangeStartDate),L.endDate=k(a.shiftRangeEndDate),L.blocked=a.isBlocked,L.shiftsLoaded.state=!0}).catch(function(){i.error(l.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop(M)})}function B(a,b){e.getTypes({perner:a,shiftDate:b.format("YYYY-MM-DD")}).then(function(a){L.payTypes=a,L.payTypes.length>0&&(L.payType=L.payTypes[0]),j.start()}).catch(function(){i.error(l.getLocale("notifications.message.wrong"),"Error")})}function C(){L.recipientErrorShifts=new Array(0),L.recipientStartDate=k(),L.recipientEndDate=k(),L.receivingShifts=new Array(0),L.receivingShiftsLoaded=!1,L.receivingSelectedShifts=new Array(0),L.recipient={},L.recipientValid=!1,L.recipientBlocked=!1}function D(){L.startDate=k(),L.endDate=k(),L.shifts=new Array(0),L.shiftsLoaded={state:!1},L.selectedShifts=new Array(0),C(),L.recipientPerner="",L.payType={},L.payTypes=new Array(0),L.approvingLeader="",L.hasSubmitted=!1,L.finalErrorShiftsLoaded=!1,L.giverErrorShifts=new Array(0),c.spin(M)}function E(a,b){return b.filter(function(b){return b.id===a.id}).length>0}function F(a,b,c){if(!1===E(a,c)){if(c.filter(function(b){return 0===a.day.diff(b.day)}).length>0)c.push(a);else{c.splice(0,c.length);var d=b.filter(function(b){return!b.empty&&!b.ineligible&&0===a.day.diff(b.day)});angular.forEach(d,function(a){c.push(a)})}}else{var e=c.map(function(a){return a.id}),f=e.indexOf(a.id);c.splice(f,1)}}function G(){m.redirectToOrigin(g)}function H(a,d){if(j.start(),a.hasError){var e=a.errorMessage?a.errorMessage:l.getLocale("notifications.exception.unexpected");return i.error(e,"Error",{timeOut:6e3}),void c.stop(M)}b.go(d)}function I(){c.spin(M),e.tradingPartner({recipientPerner:L.recipientPerner,shiftIdList:L.selectedShifts.map(function(a){return a.id}),trading:L.trading,leaderOverride:L.leaderOverride}).then(function(a){if(j.start(),a.hasError){var b=a.errorMessage?a.errorMessage:l.getLocale("notifications.exception.unexpected");return i.error(b,"Error",{timeOut:6e3}),void c.stop(M)}C(),L.recipientBlocked=a.tradingPartner.isBlocked,L.recipient.name=a.tradingPartner.firstName+" "+a.tradingPartner.lastName,L.recipient.perner=a.tradingPartner.employeePersonnelNumber,z(L.receivingShifts,a.tradingPartner.receivableShifts),z(L.recipientErrorShifts,a.tradingPartner.givenShifts),L.selectedShifts=angular.copy(L.recipientErrorShifts),L.recipientErrorShifts=L.recipientErrorShifts.filter(function(a){return a.ineligible}),L.recipientValid=0===L.recipientErrorShifts.length&&!L.recipientBlocked,L.recipientStartDate=k(a.tradingPartner.shiftRangeStartDate),L.recipientEndDate=k(a.tradingPartner.shiftRangeEndDate),L.receivingShiftsLoaded=!0}).catch(function(){i.error(l.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop(M)})}function J(a){c.spin(M),L.finalErrorShiftsLoaded=!1,e.finalTradeCheck({recipientPerner:L.recipient.perner,givenShiftIdList:L.selectedShifts.map(function(a){return a.id}),receivedShiftIdList:L.receivingSelectedShifts.map(function(a){return a.id}),leaderOverride:L.leaderOverride}).then(function(b){if(j.start(),b.hasError){var d=b.errorMessage?b.errorMessage:l.getLocale("notifications.exception.unexpected");return i.error(d,"Error",{timeOut:6e3}),void c.stop(M)}z(L.receivingSelectedShifts,b.tradingPartner.receivableShifts),z(L.selectedShifts,b.tradingPartner.givenShifts),L.recipientErrorShifts=L.selectedShifts.filter(function(a){return a.ineligible}),L.giverErrorShifts=L.receivingSelectedShifts.filter(function(a){return a.ineligible}),L.recipientValid=0===L.recipientErrorShifts.length&&0===L.giverErrorShifts.length,L.finalErrorShiftsLoaded=!0,H(b,a)}).catch(function(){i.error(l.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop(M)})}function K(){L.hasSubmitted=!0,c.spin(M),L.trading?e.swapShifts({recipientPerner:L.recipient.perner,givenShiftIdList:L.selectedShifts.map(function(a){return a.id}),receivedShiftIdList:L.receivingSelectedShifts.map(function(a){return a.id}),leaderOverride:L.leaderOverride,approvingLeader:L.approvingLeader}).then(function(a){H(a,"cast.schedule")}).catch(function(){i.error(l.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop(M)}):e.save({recipientPerner:L.recipient.perner,benefitTypeCode:L.payType.id,shiftIdList:L.selectedShifts.map(function(a){return a.id}),leaderOverride:L.leaderOverride,approvingLeader:L.approvingLeader}).then(function(a){H(a,"cast.schedule")}).catch(function(){i.error(l.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop(M)})}var L=this,M=(d.scheduleDateFormat,"spinner-1");p()}angular.module("app.giveaway").controller("GiveawayController",a),a.$inject=["$rootScope","$state","spinnerService","shiftService","giveawayService","modalService","castService","dialogs","toastr","timeout","moment","language","utilities","helpService","unauthService"]}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"app/features/giveaway/partials/selection-list.html",scope:{shifts:"=",selectedShifts:"=",selected:"&",toggle:"&",blocked:"=",language:"="}}}function b(){return{restrict:"E",templateUrl:"app/features/giveaway/partials/selected-list.html",scope:{selectedShifts:"="}}}function c(){return{restrict:"E",templateUrl:"app/features/giveaway/partials/error-list.html",scope:{recipientErrorShifts:"=",recipientName:"=",giverName:"=",leaderOverride:"=",recipientBlocked:"=",language:"="}}}angular.module("app.giveaway").directive("giveawaySelectionList",a).directive("giveawaySelectedList",b).directive("giveawayErrorList",c)}(),function(){"use strict";function a(a,c,d){a.configureStates(b(c,d))}function b(a,b){return[{state:"cast.trade",config:{url:"/trade",templateUrl:"app/features/giveaway/giveaway.html",controller:"GiveawayController",controllerAs:"giveawayVm",abstract:!0}},{state:"cast.trade.schedule-list",config:{url:"",views:{viewMain:{templateUrl:"app/features/giveaway/schedule-list.html",controller:["$rootScope",function(a){a.$emit("reloadShifts")}],controllerAs:"giveawayScheduleListVm"},viewFooter:{templateUrl:"app/features/giveaway/partials/footer.html",controller:["$state",function(a){a.params.continueButtonText="Continue",a.params.handleContinueClick=function(a){return a.scheduleListHandleContinueClick()},a.params.canContinue=function(a){return a.scheduleListCanContinue()},a.params.stateLoaded=!0}],controllerAs:"giveawayFooterVm"}}}},{state:"cast.trade.search",config:{url:"/search",views:{viewMain:{templateUrl:"app/features/giveaway/search.html",controller:function(){},controllerAs:"giveawaySearchVm"},viewFooter:{templateUrl:"app/features/giveaway/partials/footer.html",resolve:{previousState:["$state",function(a){return{name:a.current.name,params:a.params,url:a.href(a.current.name,a.params)}}]},controller:["$state","previousState",function(a,b){"cast.trade.schedule-list"!==b.name&&a.go("cast.trade.schedule-list"),a.params.continueButtonText="Continue",a.params.nextState="cast.trade.confirm",a.params.handleContinueClick=function(a){return a.searchHandleContinueClick()},a.params.canContinue=function(a){return a.searchCanContinue()},a.params.stateLoaded=!0}],controllerAs:"giveawayFooterVm"}}}},{state:"cast.trade.confirm",config:{url:"/confirm",views:{viewMain:{templateUrl:"app/features/giveaway/confirm.html",controller:["$state",function(a){a.params.editSelectionUiSref="cast.trade.schedule-list",this.$state=a}],controllerAs:"giveawayConfirmVm"},viewFooter:{templateUrl:"app/features/giveaway/partials/footer.html",resolve:{previousState:["$state",function(a){return{name:a.current.name,params:a.params,url:a.href(a.current.name,a.params)}}]},controller:["$state","previousState",function(a,b){"cast.trade.search"!==b.name&&a.go("cast.trade.schedule-list"),a.params.continueButtonText="Confirm Shift Trade",a.params.handleContinueClick=function(a){a.submit()},a.params.canContinue=function(a){return a.confirmCanContinue()},a.params.stateLoaded=!0}],controllerAs:"giveawayFooterVm"}}}}]}angular.module("app.giveaway").run(a),a.$inject=["routerHelper","utilities","castService"]}(),function(){"use strict";function a(a,b,c,d){function e(e){var f=d.getEnvPath("giveaway/tradingPartner/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function f(e){var f=d.getEnvPath("giveaway/finalTradeCheck/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function g(e){var f=d.getEnvPath("giveaway/tradableShifts/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function h(e){var f=d.getEnvPath("giveaway/getShiftGiveawayBenefitTypes/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function i(e){var f=d.getEnvPath("giveaway/giveShiftAway/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function j(e){var f=d.getEnvPath("giveaway/tradeShifts/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function k(){return{noAccess:0,selfAccess:1,onBehalfOf:2}}return{getTypes:h,save:i,tradingPartner:e,swapShifts:j,getTradableShifts:g,finalTradeCheck:f,getAccessStates:k}}angular.module("app.giveaway").factory("giveawayService",a),a.$inject=["$http","$q","timeout","utilities"]}(),function(){"use strict";function a(){}angular.module("app.help").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){k.title="Help",k.language=f,k.pageReady=!1,k.containerId=parseInt(c.params.id)||3620,k.HelpStyle=l,k.helpStyle=j(c.params.helpStyle),k.navigateBack=i,e.spin("spinner-1"),d.getContent(k.containerId).success(function(b){k.content=b.body,a(function(){k.pageReady=!0},500)}).error(function(a){return b.defer().reject(a.body)}).finally(function(){e.stop("spinner-1"),g.$root.$emit("event.inHelpPage")})}function i(){c.go(c.params.prevState,{data:c.params.data}),g.$root.$emit("event.leaveHelpPage")}function j(a){switch(a){case l.COMPLEX:return l.COMPLEX;default:return l.BASIC}}var k=this,l={BASIC:"BASIC",COMPLEX:"COMPLEX"};h()}angular.module("app.help").controller("HelpController",a),a.$inject=["$timeout","$q","$state","cmsService","spinnerService","language","$scope"]}(),function(){"use strict";function a(){function a(a){function b(b){b.preventDefault(),b.stopPropagation(),a.faqVm.showAnswer?a.faqVm.showAnswer=!1:a.faqVm.showAnswer=!0}a.faqVm.toggleAnswer=b,a.faqVm.showAnswer=!1}var b={replace:!1,restrict:"A",templateUrl:"app/features/help/partials/faq.html",controller:a,controllerAs:"faqVm"};return a.$inject=["$scope"],b}angular.module("app.help").directive("faq",a)}(),function(){"use strict";function a(a){a.configureStates(b())}function b(){return[{state:"help",config:{url:"/help/:prevState/:id/:helpStyle",params:{data:null},templateUrl:"app/features/help/help.html",controller:"HelpController",controllerAs:"helpVm"}}]}angular.module("app.help").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b){function c(a){g=a}function d(a,c){return b.getSession().member.isEmployeeWdw?a:c}function e(a){return HELP_URL+a}function f(){return a.params.data}var g="";return{getHelpContainerId:d,getHelpUrl:e,setBaseHelpUrl:c,getData:f}}angular.module("app.help").factory("helpService",a),a.$inject=["$state","utilities"]}(),function(){"use strict";function a(){}angular.module("app.late").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){x.title="Call-Late",x.language=j,x.shifts=null,x.lateForm={},x.validTime=!0,x.isTimeReady=!1,x.eta=0,x.currentShift=void 0,x.currentType={},x.select={hours:0,minutes:0},x.timeSpan={},x.timeSpan.hours=[],x.timeSpan.minutes=[];for(var c=0;c<=10;c++)x.timeSpan.hours.push(c);for(var e=0;e<=55;e+=5)x.timeSpan.minutes.push(e);x.saveChanges=t,x.setEta=s,x.isZero=v,x.hasAccess=o,b.spin("spinner-1"),x.accessStates=d.getAccessStates(),x.session=k.getSession();var f=l.getHelpContainerId("KB0010071","KB0010070");x.helpUrl=l.getHelpUrl(f),a.$current.locals["@cast"]&&!0===o()?p():b.stop("spinner-1")}function o(){return k.hasValue(x.session.access.callLateAccessLevel)||(m.setStatus(401),a.go("unauth")),x.session.access.callLateAccessLevel===x.accessStates.selfAccess||x.session.access.callLateAccessLevel===x.accessStates.onBehalfOf}function p(){x.session=a.$current.locals["@cast"].session,w(),q(),r()}function q(){c.getShifts(x.session.member.perner).then(function(a){x.currentShift=void 0;var b=i(),c=angular.copy(b);c.add(1,"days").endOf("day");var d=angular.isDefined(a[0])?angular.copy(a):null;h.start(),x.shiftsLoaded=!0,d&&(angular.forEach(d,function(a){angular.forEach(a.shifts,function(a){var d=i(a.shiftStartTime).valueOf(),e=i(a.shiftEndTime).valueOf();!x.currentShift&&e>=b.valueOf()&&d<=c.valueOf()&&(x.shifts=this.shifts,x.currentShift=a)},a)}),x.date=x.currentShift?x.currentShift.shiftDate:null)}).catch(function(){g.error(j.getLocale("notifications.message.wrong"),"Error"),b.stop("spinner-1")})}function r(){d.getTypes().then(function(a){x.lateTypes=a.data,x.lateTypes.length>0&&(x.currentType=x.lateTypes[0]),h.start()}).catch(function(){g.error(j.getLocale("notifications.message.wrong"),"Error")}).finally(function(){b.stop("spinner-1")})}function s(){var a=i(x.shifts[0].shiftStartTime),b=i(a).add(x.select.hours,"hours").add(x.select.minutes,"minutes");return i.duration(i(x.shifts[x.shifts.length-1].shiftEndTime).diff(b))._milliseconds<=0?void(x.validTime=!1):(x.validTime=!0,v()?void(x.lateForm.$submitted=!0):void(x.eta=b.format("HH:mm")))}function t(){if(x.lateForm.$submitted=!0,x.lateForm.processing=!0,!u())return void(x.lateForm.processing=!1);var a={perner:x.session.member.perner,callLateTypeId:x.currentType.id,callOutDeviceName:device,shiftId:x.currentShift.shiftId,eta:x.eta};b.spin("spinner-1"),d.save(a).then(function(a){if(a.hasError){var c=a.message?a.message:j.getLocale("notifications.exception.unexpected");return g.error(c,"Error",{timeOut:6e3}),void b.stop("spinner-1")}var d={date:i(x.date).format("dddd MMMM Do, YYYY"),hours:x.select.hours,minutes:x.select.minutes,eta:x.eta};e.setVm(d),f.create("app/features/modal/modal.late-confirmation.html","ModalController",{},{windowClass:"fullscreen",size:"lg"}).result.then(function(){}),h.start()}).catch(function(a){var b=a.message?a.message:j.getLocale("notifications.message.wrong");g.error(b,"Error")}).finally(function(){b.stop("spinner-1"),x.lateForm.processing=!1})}function u(){return!v()&&!!x.validTime}function v(){return 0===parseInt(x.select.hours)&&0===parseInt(x.select.minutes)}function w(){x.shifts=null,x.shiftsLoaded=!1}var x=this;n()}angular.module("app.late").controller("LateController",a),a.$inject=["$state","spinnerService","shiftService","lateService","modalService","dialogs","toastr","timeout","moment","language","utilities","helpService","unauthService"]}(),function(){"use strict";function a(a){a.configureStates(b())}function b(){return[{state:"cast.late",config:{url:"/late",templateUrl:"app/features/late/late.html",controller:"LateController",controllerAs:"lateVm"}}]}angular.module("app.late").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{noAccess:0,selfAccess:1,onBehalfOf:2}}function f(){var e=d.getEnvPath("late/getCallLateTypes/"),f=b.defer();return a.get(e,{timeout:c.xhr}).success(function(a){f.resolve(a.body)}).error(function(a){f.reject(a.body)}),f.promise}function g(e){var f=d.getEnvPath("late/addCallLate/"),g=b.defer();return a.post(f,e,{timeout:c.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}return{getTypes:f,save:g,getAccessStates:e}}angular.module("app.late").factory("lateService",a),a.$inject=["$http","$q","timeout","utilities"]}(),function(){"use strict";function a(){}angular.module("app.leader").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){B.title="Call-Back",B.language=l,B.shifts=null,B.callbackForm={},B.selectedShift={},B.shiftDates=[],B.shiftGroups=[],B.currentShifts=[],B.currentDate=null,B.datePicked=!1,B.saveChanges=z,B.utilities=j,B.dateChanged=t,B.phoneChanged=u,B.phoneValidation=new RegExp(/^[0-9-]*$/),B.accessStates=e.getAccessStates(),B.session=j.getSession(),B.teamLeader=!0===B.session.access.callBackMyLeader?"MyLeader":"ShiftLeader",B.hasAccess=p;var b=m.getHelpContainerId("KB0010073","KB0010072");B.helpUrl=m.getHelpUrl(b),a.$current.locals["@cast"]&&B.hasAccess()?q():c.stop("spinner-1")}function p(){return j.hasValue(B.session.access.callBackAccessLevel)||(n.setStatus(401),a.go("unauth")),B.session.access.callBackAccessLevel===B.accessStates.selfAccess||B.session.access.callBackAccessLevel===B.accessStates.onBehalfOf}function q(){c.spin("spinner-1"),B.session=a.$current.locals["@cast"].session,A(),w(),r(),s(),c.stop("spinner-1")}function r(){var a=k().subtract(7,"days").format(),e=k().add(6,"days").format();d.getShiftsInRange(B.session.member.perner,a,e).then(function(a){B.shifts=a.data.length>0?angular.copy(a.data):null,B.shiftsLoaded=!0;var c=angular.copy(a.data);c=b("orderBy")(c,"shiftDate"),c=b("dateTime")(c,"shiftDate","dddd, MMMM DD, YYYY"),c=b("groupBy")(c,"shiftDate"),angular.forEach(c,function(a,b){B.shiftDates.push(b),B.shiftGroups.push(a)}),i.start()}).catch(function(){h.error(l.getLocale("notifications.message.wrong"),"Error"),c.stop("spinner-1")})}function s(){e.getReasons().then(function(a){B.reasons=a.data,B.reason=a.data[0],i.start()}).catch(function(){h.error(l.getLocale("notifications.message.wrong"),"Error"),c.stop("spinner-1")})}function t(a){v(B.shiftDates.indexOf(a)),B.datePicked||(B.datePicked=!0),y()}function u(){B.callbackForm.phone.$viewValue.replace(/\-/g,"").length<10?B.callbackForm.phone.$setValidity("minlength",!1):B.callbackForm.phone.$setValidity("minlength",!0)}function v(a){B.currentShifts=B.shiftGroups[a]||[],B.selectedShift=B.currentShifts[0]}function w(){if(angular.isArray(B.session.member.phones)&&B.session.member.phones.length>0){var a=b("filter")(B.session.member.phones,{phoneType:"Home Phone"},!1)[0];a&&(B.phone=b("phone")(a.phoneNumber,!1))}}function x(){return!!j.isEmpty(B.callbackForm.phone.$error)&&("shiftLeader"===B.teamLeader&&null===B.currentDate?(y(),!1):!!j.isEmpty(B.callbackForm.reason.$error))}function y(){-1===B.callbackForm.date.$modelValue?B.callbackForm.date.$setValidity("required",!1):B.callbackForm.date.$setValidity("required",!0)}function z(){if(B.callbackForm.$submitted=!0,B.callbackForm.processing=!0,B.callbackForm&&!x())return void(B.callbackForm.processing=!1);var a,b={employeePersonnelNumber:B.session.member.perner,callOutDeviceName:device,callBackPhoneNumber:B.callbackForm.phone.$modelValue,callBackReason:{Id:B.callbackForm.reason.$modelValue.id}};"ShiftLeader"===B.callbackForm.leader.$modelValue?(b.callBackTypeName=B.callbackForm.leader.$modelValue,b.callBackShiftId=B.callbackForm.shift?B.callbackForm.shift.$modelValue.shiftId:null,a=B.callbackForm.shift?"You requested a call back from your Shift Leadership Team":"Since there are no eligible shifts, your call back request has been sent to your Leadership Team"):(b.callBackTypeName=B.callbackForm.leader.$modelValue,a="You requested a call back from your Leadership Team");var d={requestTo:a};f.setVm(d),c.spin("spinner-1"),e.save(b).then(function(a){if(!1===a.hasError){g.create("app/features/modal/modal.leader-confirmation.html","ModalController",{},{windowClass:"fullscreen",size:"lg"}).result.then(function(){})}else h.error(l.getLocale("notifications.message.wrong"),"Error");i.start()}).catch(function(){h.error(l.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop("spinner-1"),B.callbackForm.processing=!1})}function A(){B.shifts=null,B.shiftDates=[],B.shiftGroups=[],B.shiftsLoaded=!1,B.phone=null}var B=this;o()}angular.module("app.leader").controller("LeaderController",a),a.$inject=["$state","$filter","spinnerService","shiftService","leaderService","modalService","dialogs","toastr","timeout","utilities","moment","language","helpService","unauthService"]}(),function(){"use strict";function a(a){a.configureStates(b())}function b(){return[{state:"cast.leader",config:{url:"/leader",templateUrl:"app/features/leader/leader.html",controller:"LeaderController",controllerAs:"leaderVm"}}]}angular.module("app.leader").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{noAccess:0,selfAccess:1,onBehalfOf:2}}function f(e){var f=b.defer(),g=d.getEnvPath("leader/addCallBack/");return a.post(g,e,{timeout:c.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){f.resolve(a.body)}).error(function(a){f.reject(a.body)}),f.promise}function g(){var e=b.defer(),f=d.getEnvPath("leader/getReasons/");return a.get(f,{timeout:c.xhr}).success(function(a){e.resolve(a.body)}).error(function(a){e.reject(a.body)}),e.promise}return{save:f,getReasons:g,getAccessStates:e}}angular.module("app.leader").factory("leaderService",a),a.$inject=["$http","$q","timeout","utilities"]}(),function(){"use strict";function a(){}angular.module("app.modal").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a){if(a)return void a.call();this.$dismiss()}function i(b){if(a.data=a.data||{},b)return void b.call(this,a.data);this.$close(a.data)}function j(){f.confirm("Cancel Changes",d.getLocale("modal.message.cancel")).result.then(function(){k()})}function k(){localStorage.removeItem("userSearch"),localStorage.removeItem("userSession"),c.destroySession().then(function(a){window.location.href="mobile"===device?MOBILE_RETURN:PORTAL_RETURN}).catch(function(a){console.error(a)})}a.data=b.getVm(),a.cancelChanges=j,a.language=d,a.cancel=h,a.submit=i,a.redirectToOrigin=k}angular.module("app.modal").controller("ModalController",a),a.$inject=["$scope","modalService","castService","language","utilities","dialogs","toastr"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){if(a)return void a.call();this.$dismiss()}function j(b){if(a.data=a.data||{},b)return void b.call(this,a.data);this.$close(a.data)}function k(){f.confirm("Cancel Changes",d.getLocale("modal.message.cancel")).result.then(function(){l()})}function l(){localStorage.removeItem("userSearch"),localStorage.removeItem("userSession"),c.destroySession().then(function(a){window.location.href="mobile"===device?MOBILE_RETURN:PORTAL_RETURN}).catch(function(a){console.error(a)})}a.data=b.getVm(),a.initialData=h,a.cancelChanges=k,a.language=d,a.cancel=i,a.submit=j,a.redirectToOrigin=l}angular.module("app.modal").controller("ModalDataController",a),a.$inject=["$scope","modalService","castService","language","utilities","dialogs","toastr","data"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"modal",config:{controller:"ModalController",controllerAs:"modalVm"}}]}angular.module("app.modal").run(a),a.$inject=["routerHelper"]}(),function(){"use strict"
;function a(a,b,c,d,e){function f(c,e){var f=c||a.modalId;if(e){b.create("app/features/modal/modal.cancel.html","ModalController",{},{windowClass:"fullscreen",size:"sm"}).result.then(function(){d.info("Changes have been canceled","Canceled"),g(f)})}else g(f)}function g(b){e.visibility(b),angular.element(b).remove(),a.modalId=void 0}function h(a){j.data=angular.copy(a)}function i(){return j.data}var j=this;return{closeModal:f,getVm:i,setVm:h}}angular.module("app.modal").factory("modalService",a),a.$inject=["$rootScope","dialogs","language","toastr","utilities"]}(),function(){"use strict";function a(){}angular.module("app.out").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){B.portalUrl=VIEW_AVAILABLE_URL,B.title="Call-Out",B.language=j,B.shifts=null,B.outForm={},B.groupChecked=[],B.callTypeSelected=!1,B.payType={data:[{id:"-1",name:"Pay type"}]},B.memberChanged=r,B.getCallOutTypes=v,B.callTypeChanged=x,B.groupCheckChanged=y,B.submitForm=u,B.resetShifts=t,B.accessStates=e.getAccessStates(),B.session=k.getSession(),B.access=q(),B.session&&B.access?r(B.session):c.stop("spinner-1");var a=l.getHelpContainerId("KB0010071","KB0010070");B.helpUrl=l.getHelpUrl(a)}function q(){return k.hasValue(B.session.access.callOutAccessLevel)?B.session.access.callOutAccessLevel===B.accessStates.disclaimer?o(function(){n.launchAlertModal({alertModalId:"call-out-disclaimer-alert-modal",explanation:j.getLocale("section.out.disclaimer"),onAcknowledge:function(){b.go("cast.schedule")}})},500):B.session.access.callOutAccessLevel===B.accessStates.warning&&o(function(){n.launchAlertModal({alertModalId:"call-out-warning-alert-modal",explanation:j.getLocale("section.out.warning")})},500):(m.setStatus(401),b.go("unauth")),B.session.access.callOutAccessLevel===B.accessStates.selfAccess||B.session.access.callOutAccessLevel===B.accessStates.onBehalfOf||B.session.access.callOutAccessLevel===B.accessStates.warning}function r(a){c.spin("spinner-1"),B.session=a,t(),s()}function s(){d.getShifts(B.session.member.perner).then(function(a){if(angular.isArray(a)&&a.length>0){B.shifts=angular.copy(a),B.date=a[0].shifts[0].shiftDate;for(var b in a)a.hasOwnProperty(b)&&B.groupChecked.push(!0)}i.start(),B.shiftsLoaded=!0,B.shifts?B.getCallOutTypes():c.stop("spinner-1")}).catch(function(){h.error(j.getLocale("notifications.message.wrong"),"Error"),c.stop("spinner-1")})}function t(){B.groupChecked=[],B.shifts=null,B.callOutTypesLoaded=!1,B.shiftsLoaded=!1}function u(){var b=[],d=[],k=0;if(B.outForm.$submitted=!0,B.outForm.processing=!0,angular.forEach(B.shifts,function(c){var e="groupChecked["+k+"]",f="payType["+k+"]";angular.isDefined(B.outForm[e])&&B.outForm[e].$modelValue&&angular.forEach(c.shifts,function(c){b.push({id:c.shiftId,callOutRuleId:B.outForm[f].$modelValue.callOutRuleId}),d.push({shiftDesc:c.schedulingPositionDescription,shiftStart:a("militaryTime")(c.shiftStartTime),shiftEnd:a("militaryTime")(c.shiftEndTime),payType:B.outForm[f].$viewValue.name})}),k++}),b.length<1)return B.selectedNone=!0,void(B.outForm.processing=!1);if(B.selectedNone=!1,!A())return void(B.outForm.processing=!1);var l={perner:B.session.member.perner,callOutDeviceName:device,callOutShiftPayTypes:angular.copy(b)},m={date:moment(B.date).format("dddd MMMM Do, YYYY"),callOutSelected:B.callOutSelected,confirmation:d};f.setVm(m),c.spin("spinner-1"),e.saveShifts(l).then(function(a){if(!1===a.hasError){g.create("app/features/modal/modal.out-confirmation.html","ModalController",{},{windowClass:"fullscreen",size:"lg"}).result.then(function(){})}else h.error(j.getLocale("notifications.message.wrong"),"Error");i.start()}).catch(function(){h.error(j.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop("spinner-1"),B.outForm.processing=!1})}function v(){e.getOutType(B.session.member.perner).then(function(a){if(a.hasError){var b=a.message?a.message:j.getLocale("notifications.exception.unexpected");return h.error(b,"Error",{timeOut:6e3}),void c.stop("spinner-1")}!1===a.hasError&&angular.isArray(a.data.callOutTypes)&&a.data.callOutTypes.length>0&&(B.callOutTypeData=angular.copy(a.data),a.data.hasDefault?(B.callOutSelected=w(a.data.callOutTypes),x(B.callOutSelected)):B.callOutSelected=null,B.alternateCallOutTypes=a.data.alternateCallOutTypes,B.callOutTypes=a.data.callOutTypes),B.callOutTypesLoaded=!0,i.start()}).catch(function(a){var b=a.message?a.message:j.getLocale("notifications.message.wrong");h.error(b,"Error")}).finally(function(){c.stop("spinner-1")})}function w(b){return a("filter")(b,{isDefault:!0})[0]}function x(a){B.callOutSelected=a,B.callTypeSelected=!0,z(a)}function y(a){0===a&&B.shifts.length>1&&!B.alternateTypesToggled?(B.callOutTypes=B.alternateCallOutTypes,B.callOutSelected=null,B.callTypeSelected=!1,B.alternateTypesToggled=!0):0===a&&B.shifts.length>1&&(B.callOutTypes=B.callOutTypeData.callOutTypes,B.callOutTypeData.hasDefault?B.callOutSelected=w(B.callOutTypes):(B.callOutSelected=null,B.callTypeSelected=!1),null!==B.callOutSelected&&x(B.callOutSelected),B.alternateTypesToggled=!1)}function z(a){e.getPayType(a.id,B.session.member.perner).then(function(a){angular.isArray(a.data)&&a.data.length>0&&!1===a.hasError?B.payType.data=a.data:(B.payType.data=[],h.warning(j.getLocale("notifications.message.nopaytypes"),"Warning",{timeOut:5e3})),i.start()}).catch(function(){h.error(j.getLocale("notifications.message.wrong"),"Error")}).finally(function(){c.stop("spinner-1")})}function A(){return!!B.callTypeSelected}var B=this;p()}angular.module("app.out").controller("OutController",a),a.$inject=["$filter","$state","spinnerService","shiftService","outService","modalService","dialogs","toastr","timeout","language","utilities","helpService","unauthService","alertModalService","$timeout"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.out",config:{url:"/out",params:{data:null},templateUrl:"app/features/out/out.html",controller:"OutController",controllerAs:"outVm"}}]}angular.module("app.out").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{noAccess:0,selfAccess:1,onBehalfOf:2,disclaimer:3,warning:4}}function f(e){var f=c.getEnvPath("out/getCallOutTypes/"),g=b.defer();return a.get(f+e,{timeout:d.xhr}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function g(e,f){var g=c.getEnvPath("pay/getBenefitTypes/"),h=b.defer();return a.get(g+e+"/"+f,{timeout:d.xhr}).success(function(a){h.resolve(a.body)}).error(function(a){h.reject(a.body)}),h.promise}function h(e){var f=c.getEnvPath("out/addCallOut/"),g=b.defer();return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}return{getOutType:f,getPayType:g,saveShifts:h,getAccessStates:e}}angular.module("app.out").factory("outService",a),a.$inject=["$http","$q","utilities","timeout"]}(),function(){"use strict";function a(){}angular.module("app.pool").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(){K.title="Pools",K.language=m,K.utilities=n,K.toasts=[],K.userMsgType=null,K.dateFormat="MM/dd/yyyy",K.datePlaceholder="MM/dd/yyyy",K.status={start:{open:!1},end:{open:!1}},K.dateOptions={"year-format":"yy","show-weeks":!1},K.poolForm={},K.poolForm.changes=[],K.calendarsReady=!1,K.currentPool={};var a=q.getHelpContainerId("KB0010074","KB0010074");K.helpUrl=q.getHelpUrl(a),K.searchForm={},K.openDatePicker=I,K.currentPool.effectiveStartDateChanged=E,K.currentPool.effectiveEndDateChanged=F,K.isObject=J,K.addOrgUnit=H,K.getPoolAssignment=B,K.toggleActivePools=G,K.submitPool=C,K.refreshPool=D,K.reset=u,K.accessStates=i.getAccessStates(),t(),z(),A(),v(),w();var b=q.getData();n.hasValue(b)&&(K.searchPool=b,B())}function t(){var a=f.getSession();switch(n.hasValue(a.access.schedulePoolAccessLevel)||(r.setStatus(401),b.go("unauth")),a.access.schedulePoolAccessLevel){case K.accessStates.unauthorized:r.setStatus(401),b.go("unauth");break;case K.accessStates.edit:K.editMode=!0}}function u(){delete K.currentPool,K.currentPool={effectiveEndDate:"12/31/9999",detailAssignments:[],postDay:K.weekdays[0],blockDays:14,ready:!0},K.poolForm.$submitted=!1}function v(){K.validation={},K.validation.onlyNumbers=o.onlyNumbers(),K.validation.onlyNaturalNumbers=o.onlyNaturalNumbers()}function w(){K.weekdays=[];for(var a=moment.weekdays(),b=0;b<7;b++)K.weekdays.push({id:b,name:a[b]})}function x(){K.currentPool.postDay=K.weekdays[K.currentPool.postDay.id]}function y(){K.currentPool.calendar=K.calendars.filter(function(a){return a.id===K.currentPool.calendarId})[0]}function z(){return p.getAll().success(function(a){!1===a.body.hasError?(K.calendars=a.body.data,K.calendarsReady=!0):K.toasts.length<1&&(K.toasts.push("error"),l.error(a.body.message,m.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){K.toasts.pop()}}))}).error(function(a){return c.defer().reject(a.body.data)})}function A(){return g.spin("spinner-1"),i.getPools().success(function(a){!1===a.body.hasError?(K.allPools=a.body.data,K.onlyActivePools=K.allPools.filter(function(a){if(a.isActive)return a}),K.pools=K.onlyActivePools):K.toasts.length<1&&(K.toasts.push("error"),l.error(a.body.message,m.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){K.toasts.pop()}}))}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){K.poolForm.processing=!1,g.stop("spinner-1")})}function B(){return g.spin("spinner-1"),i.getPoolAssignment(K.searchPool.id).success(function(b){if(!1===b.body.hasError){var c=moment(b.body.data.effectiveStartDate);b.body.data.effectiveStartDate=moment(c).format("MM/DD/YYYY"),b.body.data.effectiveEndDate=moment(b.body.data.effectiveEndDate).format("MM/DD/YYYY"),K.currentPool=b.body.data;var d=a("groupBy")(K.currentPool.detailAssignments,"orgUnitCode"),e=[];angular.forEach(d,function(a,b){e.push({orgId:b,jobs:a,isUneditable:!1})}),K.currentPool.detailAssignments=e,K.currentPool.ready=!0,x(),y()}else K.toasts.length<1&&(K.toasts.push("error"),l.error(b.body.message,m.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){K.toasts.pop()}}))}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-1")})}function C(){if(K.poolForm.$submitted=!0,K.poolForm.processing=!0,!n.isEmpty(K.poolForm.$error))return void(K.poolForm.processing=!1);var a=[],b=[];angular.forEach(K.poolForm,function(b,c){"orgUnit"===c.substring(0,7)&&a.push({orgUnitCode:b.$modelValue})}),angular.forEach(K.poolForm,function(c,d){if("jobKey"===d.substring(0,6)){var e=d.split(/(\_)/),f=e[2],g=K.poolForm["orgUnit_"+f];g&&(b.push({orgUnitCode:g.$modelValue,jobKeyCode:c.$modelValue}),delete a[f])}}),a=a.filter(Boolean),a=a.concat(b);var d={poolId:K.poolForm.poolId.$modelValue,poolName:K.poolForm.poolName.$modelValue,postDay:K.poolForm.postDay.$modelValue,effectiveStartDate:K.poolForm.startDate.$modelValue,effectiveEndDate:K.poolForm.endDate.$modelValue,blockDays:K.poolForm.blockDays.$modelValue,detailAssignments:a,calendarId:K.poolForm.calendar.$modelValue.id};g.spin("spinner-1"),i.submitPool(d).success(function(a){!1===a.body.hasError?(u(),K.currentPool.ready=!1,A(),l.success(a.body.message,m.getLocale("notifications.label.success"),{timeOut:4e3})):K.toasts.length<1&&(K.toasts.push("error"),l.error(a.body.message,m.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){K.toasts.pop()}}))}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){K.poolForm.processing=!1,g.stop("spinner-1")})}function D(){if(n.hasValue(K.currentPool.poolId)){g.spin("spinner-1");var a={id:K.currentPool.poolId};i.refreshPool(a).success(function(a){n.hasValue(a)?!1===a.body.hasError?l.success(a.body.data,a.body.message,{timeOut:4e3}):l.error(a.body.message,m.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){K.toasts.pop()}}):l.error("Service call failed. Please retry.",m.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){K.toasts.pop()}})}).error(function(a){return c.defer().reject(a.body.data)}).finally(function(){K.poolForm.processing=!1,g.stop("spinner-1")})}}function E(){K.currentPool.effectiveEndDate&&moment(K.currentPool.effectiveStartDate)>moment(K.currentPool.effectiveEndDate)&&(K.currentPool.effectiveEndDate=K.currentPool.effectiveStartDate)}function F(){K.currentPool.effectiveStartDate&&moment(K.currentPool.effectiveStartDate)>moment(K.currentPool.effectiveEndDate)&&(K.currentPool.effectiveEndDate=K.currentPool.effectiveStartDate)}function G(){K.showInactive?K.pools=K.allPools:K.pools=K.onlyActivePools,console.log(K.pools.length)}function H(){this.currentPool.detailAssignments.push({})}function I(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function J(a){return angular.isObject(a)}var K=this;s()}angular.module("app.pool").controller("PoolController",a),a.$inject=["$filter","$state","$q","$timeout","$location","castService","spinnerService","modalService","poolService","bidService","dialogs","toastr","language","utilities","validation","calendarMaintenanceService","helpService","unauthService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){m=this,m.language=f,m.utilities=g,l()}function j(a,b,c,d){function e(c){b.remove(),a.$destroy()}m.removeJobKey=e,m.jobChanged=k,m.jobForm=d,m.jobForm.$submitted=!1,m.jobId=a.jobId,m.jobName=a.jobName,m.parentId=a.parentId,m.$index=a.index,m.isUneditable=a.isUneditable||!1,m.jobLookup={},m.jobLookup.jobKeyName=a.jobName,m.jobLookupNoResults=!1}function k(){var a=this;a.jobForm.$submitted=!0,a.jobId&&8===a.jobId.length&&(d.spin("spinner-1"),c.getJobName(a.jobId).success(function(b){!1===b.body.hasError?0===b.body.data.length?a.jobLookupNoResults=!0:(a.jobLookup=b.body.data[0],a.jobLookupNoResults=!1,a.jobLookup.jobKeyName||(a.jobLookup.jobKeyName="null")):e.error(b.body.message,f.getLocale("notifications.label.error"),{timeOut:6e3})}).error(function(a){return $q.defer().reject(a.body.data)}).finally(function(){d.stop("spinner-1")}))}function l(){m.validation={},m.validation.onlyNumbers=h.onlyNumbers()}var m,n={replace:!1,restrict:"A",require:"^form",templateUrl:"app/features/pool/partials/jobkey.html",scope:{jobId:"=jobId",jobName:"=jobName",parentId:"=parentId",index:"=index",isUneditable:"=isUneditable"},controller:i,controllerAs:"jobKeyVm",link:j};return n}angular.module("app.directives").directive("jobKey",a),a.$inject=["$compile","$rootScope","poolService","spinnerService","toastr","language","utilities","validation"]}(),function(){"use strict";function a(b,c,d,e){function f(a,f){c.$on("event.pool.modal",function(c,g){var h="#"+g.id,i="<div "+g.name+' id="'+g.id+'" class="side-modal slide-animation"></div>';g.id=h,d.setVm(g),f.append(b(i)(a)),e.visibility(h,"focus")})}return{replace:!1,restrict:"A",controller:a,controllerAs:"poolModal",link:f}}angular.module("app.directives").directive("poolModal",a),a.$inject=["$compile","$rootScope","modalService","utilities"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){l=this,l.language=f,l.utilities=g,k()}function j(a,g,h,i){function j(){g.remove(),a.$destroy()}function k(){var a=this;a.jobKeys=a.jobKeys||[],a.jobKeys.push({})}function m(){var a=this;a.orgForm.$submitted=!0,a.orgId&&8===a.orgId.length&&(d.spin("spinner-1"),c.getOrgName(a.orgId).success(function(b){!1===b.body.hasError?0===b.body.data.length?a.orgLookupNoResults=!0:(a.orgLookup=b.body.data[0],a.orgLookupNoResults=!1,a.orgLookup.orgUnitName||(a.orgLookup.orgUnitName="null")):e.error(b.body.message,f.getLocale("notifications.label.error"),{timeOut:6e3})}).error(function(a){return $q.defer().reject(a.body.data)}).finally(function(){d.stop("spinner-1")}))}l.removeOrgUnit=j,l.addJobKey=k,l.orgChanged=m,l.orgForm=i,l.orgForm.$submitted=!1,l.orgId=a.orgId,l.parentId=a.parentId,l.isUneditable=a.isUneditable||!1,l.jobKeys=b("filter")(a.jobKeys,function(a){if(a.jobKeyCode)return a}),l.orgLookup={},l.orgLookup.orgUnitName=a.jobKeys?a.jobKeys[0].orgUnitName:null,l.orgLookupNoResults=!1}function k(){l.validation={},l.validation.onlyNumbers=h.onlyNumbers()}var l,m={replace:!1,restrict:"A",require:"^form",templateUrl:"app/features/pool/partials/orgunit.html",scope:{parentId:"=parentId",orgId:"=orgId",jobKeys:"=jobKeys",isUneditable:"=isUneditable"},controller:i,controllerAs:"orgUnitVm",link:j};return m}angular.module("app.directives").directive("poolOrgUnit",a),a.$inject=["$compile","$filter","poolService","spinnerService","toastr","language","utilities","validation"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.pool",config:{url:"/timeoff/pool",params:{data:null},templateUrl:"app/features/pool/pool.html",controller:"PoolController",controllerAs:"poolVm"}}]}angular.module("app.pool").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{unauthorized:0,view:1,edit:2}}function f(){var e=c.getEnvPath("pool/getPools/");return a.get(e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function g(e){var f=c.getEnvPath("pool/getPoolAssignment/");return a.get(f+e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function h(e){var f=c.getEnvPath("pool/getOrgName/");return a.get(f+e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(e){var f=c.getEnvPath("pool/getJobName/");return a.get(f+e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function j(e){var f=c.getEnvPath("pool/submitPool/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function k(e){var f=c.getEnvPath("pool/refreshPool/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}return{getPools:f,getPoolAssignment:g,getOrgName:h,getJobName:i,submitPool:j,refreshPool:k,getAccessStates:e}}angular.module("app.pool").factory("poolService",a),a.$inject=["$http","$q","utilities","timeout"]}(),function(){"use strict";function a(a,c,d,e,f,g,h,i,j){function k(){m.toasts=[],m.language=e,m.currentDateTime=h().format("ddd, MMM D, YYYY HH:mm"),m.accessStates=g.getAccessStates(),a.$current.locals["@cast"]&&(m.session=a.$current.locals["@cast"].session,l()),$("#main-navbar-container").remove()}function l(){c.spin("spinner-1");var h=i.hasValue(a.params.targetPerner)?a.params.targetPerner:m.session.member.perner,k=m.session.member.perner,l=m.session.access.calendarAccessLevel===m.accessStates.onBehalfOf;return i.hasValue(h)&&!l&&h!==k&&(j.setStatus(401),a.go("unauth")),d.getCastByPerner(h).then(function(){return m.userSearch=d.getUserSearch(),g.getSchedule(h)}).then(function(a){!1===a.data.body.hasError?m.schedule=b(a.data.body.schedule):m.toasts.length<1&&(m.toasts.push("error"),f.error(a.data.body.message,e.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){m.toasts.pop()}}))}).catch(function(a){m.toasts.length<1&&(m.toasts.push("error"),f.error(a.data.body.message+" "+a.data.body.messageDetail,e.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){m.toasts.pop()}}))}).finally(function(){c.stop("spinner-1")})}var m=this;k()}function b(a){var b=1,c=0;return angular.forEach(a,function(a){var d=moment(a.shiftDate);a.dayLabel=d.format("ddd, MMM D, YYYY"),a.dayLabelDesktop=d.format("ddd, MMM D"),a.hasShifts=a.shifts.length>0,a.week=b,angular.forEach(a.shifts,function(a,b){a.uncovered=b+1>c,a.startLabel=moment(a.startTime).format("HH:mm"),a.endLabel=moment(a.endTime).format("HH:mm")}),"6"===d.format("E")?(b++,c=0):0===a.shifts.length?(0===c&&(a.uncovered=!0),c=1):c=a.shifts.length}),a.weeks=new Array(b-1),a}angular.module("app.printable-schedule").controller("PrintableScheduleController",a),a.$inject=["$state","spinnerService","castService","language","toastr","scheduleService","moment","utilities","unauthService"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.printable-schedule",config:{url:"/printableSchedule/{targetPerner:[0-9]{8}}",templateUrl:"app/features/printable-schedule/printable-schedule.html",controller:"PrintableScheduleController",controllerAs:"printableScheduleVm"}}]}angular.module("app.printable-schedule").run(a),a.$inject=["routerHelper"]}(),angular.module("app.shift-maintenance").directive("shiftMaintenanceEdit",shiftMaintenanceEdit),shiftMaintenanceEdit.$inject=["language","moment","utilities","$timeout","shiftMaintenanceService","toastr","spinnerService"],angular.module("app.shift-maintenance").directive("shiftMaintenanceShift",shiftMaintenanceShift),shiftMaintenanceShift.$inject=["language","moment","utilities","$timeout","castService","shiftService","shiftMaintenanceService","spinnerService","toastr"],function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){ra.language=j,ra.session=k.getSession(),ra.querySubmitted=!1,u(),ra.clearPosition=function(){ra.position=null,n.$broadcast("event.typeAheadEnabled","shift-maintenance-lob-type-ahead"),n.$broadcast("event.typeAheadEnabled","shift-maintenance-property-type-ahead")},ra.clearRuleSet=function(){ra.ruleSet=null},ra.clearProperty=function(){ra.property=null,ra.area=null,ra.location=null,ra.locationDataLoaded=!1,ra.areaDataLoaded=!1,xa=[],ya=[],k.hasValue(ra.lineOfBusiness)||n.$broadcast("event.typeAheadEnabled","shift-maintenance-position-type-ahead")},ra.clearLocation=function(){ra.location=null},ra.clearArea=function(){ra.area=null,ra.location=null,ya=[],ra.locationDataLoaded=!1},ra.clearLineOfBusiness=function(){ra.lineOfBusiness=null,k.hasValue(ra.property)||n.$broadcast("event.typeAheadEnabled","shift-maintenance-position-type-ahead")},ga(),ra.toasts=[],ra.dateFormat="MM/dd/yyyy",ra.datePlaceholder="mm/dd/yyyy",ra.status={start:{open:!1},end:{open:!1}},ra.dateOptions={"year-format":"'yy'","show-weeks":!1},ra.minDate=m().format("MM/DD/YYYY"),ra.openDatePicker=w,ra.numberOfShifts=1,ra.numberOfShiftsHasError=!1,ra.numberOfShiftsChange=D,ra.shiftStatuses=E();var a=c.search().cloneShiftId;ra.shiftStatus=a?j.getLocale("section.shift-maintenance.shift-status.open.value"):j.getLocale("section.shift-maintenance.shift-status.pending.value"),ra.getShiftStatusSummary=F,ra.lookupDataLoaded=!1,ra.getPositionSummary=T,ra.getRuleSetSummary=R,ra.getPropertySummary=J,ra.getLineOfBusinessSummary=N,ra.getLocationSummary=P,ra.getAreaSummary=L,ra.getRuleSets=Q,ra.getPositions=S,ra.getLinesOfBusiness=M,ra.getProperties=I,ra.getLocations=O,ra.getAreas=K,ra.clearRuleSet(),ra.submit=fa,ra.initSearch=ga,ra.overnightMessage=ca(),ra.showOvernightMessage=ba,ra.createMode=!0,ra.headers=G(),ra.getHeaderSummary=H,ra.getPositionRequired=da,ra.getRuleSetRequired=ea,ra.getLineOfBusinessRequired=function(){return!1},ra.sort=oa,ra.confirmCloseShifts=Z,ra.shiftsSelected=na,ra.selectAll=ma,ra.unselectAll=la,ra.allShiftsSelected=ka,ra.editShifts=X,ra.assignToCastSelected=null,ra.isAssignToCastRequest=!1,ra.updateShift=qa,ra.hasCreatedCloneShift=!1,a?(ra.maxNofOfShifts=10,ra.isOneTimeCreateRequest=!0,ra.cloneShiftId=a,ra.isAssignToCastRequest=!0,s()):(ra.maxNofOfShifts=300,ra.isOneTimeCreateRequest=!1,t())}function q(a){ra.areaDataLoaded=!1,e.spin(sa),f.getAreas(a).success(function(a){a.body.hasError?i.error(a.body.message,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}}):(xa=a.body,ra.areaDataLoaded=!0)}).error(function(a){ra.toasts.length<1&&i.error(a.body.message+" "+a.body.messageDetail,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).finally(function(){e.stop(sa)})}function r(a){ra.locationDataLoaded=!1,e.spin(sa),f.getLocations(a).success(function(a){a.body.hasError?i.error(a.body.message,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}}):(ya=a.body,ra.locationDataLoaded=!0)}).error(function(a){ra.toasts.length<1&&i.error(a.body.message+" "+a.body.messageDetail,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).finally(function(){e.stop(sa)})}function s(){e.spin(sa),g.get(ra.cloneShiftId).success(function(a){if(a.body.hasError)i.error(a.body.message,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}});else{var b=a.body.shiftDetail,c=new Date(b.shiftStartTime);m(c).diff(new Date,"minutes")<120&&(c=m().add(2,"hours").toDate()),ra.startTime=c.toTimeString().substr(0,5),ra.startDate=new Date(c.setHours(0,0,0,0));var d=new Date(b.shiftEndTime);ra.endTime=d.toTimeString().substr(0,5),ra.timeRange.endTimeChange(),ra.position=Number(b.positionId),b.eligibilityRuleSetId&&(ra.ruleSet=Number(b.eligibilityRuleSetId)),ra.shiftStatusName="Open"}}).error(function(a){}).finally(function(){e.stop(sa),t()})}function t(){v(),ha(),ra.fieldsIncomplete=U,U()}function u(){var b="cloneShiftId",c=k.getQueryParameterByName(b);ra.session.access.canMaintainShift||ra.session.access.canBackfill&&(!ra.session.access.canBackfill||k.hasValue(c))||(h.setStatus(401),a.go("unauth"))}function v(){e.spin(sa);var a=[f.getRuleSets(),f.getPositions(),f.getProperties(),f.getLinesOfBusiness()];l.all(a).then(function(a){ta=a[1].data.body.data,ua=a[0].data.body.data,va=a[2].data.body,wa=a[3].data.body}).catch(function(a){ra.toasts.length<1&&i.error(a.body.message+" "+a.body.messageDetail,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).finally(function(){ra.lookupDataLoaded=!0,b(function(){e.stop(sa)},0)})}function w(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function x(){ra.dateRange.startDateHasError=!(ra.startDate instanceof Date),ra.dateRange.startDateHasError||(!1===ra.createMode&&(ra.endDate instanceof Date&&m(ra.startDate).isAfter(ra.endDate)?(ba()?ra.endDate=m(ra.startDate).add(1,"days").toDate():ra.endDate=ra.startDate,ra.dateRange.endDateHasError=!1):ra.endDate instanceof Date&&m(ra.startDate).isSame(ra.endDate)&&ba()&&(ra.endDate=m(ra.startDate).add(1,"days").toDate(),ra.dateRange.endDateHasError=!1)),ra.overnightMessage=ca())}function y(){ra.dateRange.endDateHasError=!(ra.endDate instanceof Date),ra.dateRange.endDateHasError||(ra.startDate instanceof Date&&m(ra.startDate).isAfter(ra.endDate)?ba()?ra.endDate=m(ra.startDate).add(1,"days").toDate():ra.endDate=ra.startDate:ra.startDate instanceof Date&&m(ra.startDate).isSame(ra.endDate)&&ba()&&(ra.endDate=m(ra.startDate).add(1,"days").toDate()))}function z(){ra.sameTimes&&(ra.timeRange.endTimeHasError=!1),ra.sameTimes=!1;var a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(ra.startTime),b=/([0-1][0-9]|2[0-3])[0-5][0-9]/.test(ra.startTime);!a&&b&&(ra.startTime=ra.startTime.substr(0,2)+":"+ra.startTime.substr(2,2),a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(ra.startTime)),ra.timeRange.startTimeHasError=!a,B(),A()}function A(){ra.createMode||ra.dateRange.endDateHasError||ra.dateRange.startDateHasError||!ba()||m(ra.endDate).isAfter(m(ra.startDate))||(ra.endDate=m(ra.startDate).add(1,"days").toDate())}function B(){!ra.createMode||ra.timeRange.startTimeHasError||ra.timeRange.endTimeHasError||(ra.sameTimes=ra.startTime===ra.endTime,ra.timeRange.startTimeHasError=ra.sameTimes,ra.timeRange.endTimeHasError=ra.sameTimes)}function C(){ra.sameTimes&&(ra.timeRange.startTimeHasError=!1),ra.sameTimes=!1;var a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(ra.endTime),b=/([0-1][0-9]|2[0-3])[0-5][0-9]/.test(ra.endTime);!a&&b&&(ra.endTime=ra.endTime.substr(0,2)+":"+ra.endTime.substr(2,2),a=/([0-1][0-9]|2[0-3]):[0-5][0-9]/.test(ra.endTime)),ra.timeRange.endTimeHasError=!a,B(),A()}function D(){var a=Math.floor(Number(ra.numberOfShifts));ra.numberOfShiftsHasError=!(String(a)===ra.numberOfShifts&&a>0&&a<ra.maxNofOfShifts)}function E(){var a=[];return a.push({label:j.getLocale("section.shift-maintenance.shift-status.open"),value:j.getLocale("section.shift-maintenance.shift-status.open.value"),toggle:function(){ra.shiftStatus=this.value}}),a.push({label:j.getLocale("section.shift-maintenance.shift-status.pending"),value:j.getLocale("section.shift-maintenance.shift-status.pending.value"),toggle:function(){ra.shiftStatus=this.value}}),a}function F(){var a=ra.shiftStatuses.filter(function(a){return a.value===ra.shiftStatus})[0],b="";return k.hasValue(a)&&(b=a.label),b}function G(){var a=[];return a.push({label:j.getLocale("section.shift-maintenance.create.title"),value:!0,toggle:function(){ra.createMode=this.value,ra.querySubmitted=!1,ga(),4===ra.shiftStatuses.length&&(ra.shiftStatuses.splice(0,1),ra.shiftStatuses.pop(),ra.shiftStatus=j.getLocale("section.shift-maintenance.shift-status.pending.value"),n.$broadcast("event.checkOptionSelected","shift-maintenance-shift-status-drop-down"),n.$broadcast("event.typeAheadEnabled","shift-maintenance-position-type-ahead"))}}),a.push({label:j.getLocale("section.shift-maintenance.maintain.title"),value:!1,toggle:function(){ra.createMode=this.value,ra.querySubmitted=!1,ga();var a={label:j.getLocale("section.shift-maintenance.shift-status.all"),value:null,toggle:function(){ra.shiftStatus=this.value}},b={label:j.getLocale("section.shift-maintenance.shift-status.filled"),value:j.getLocale("section.shift-maintenance.shift-status.filled.value"),toggle:function(){ra.shiftStatus=this.value}};2===ra.shiftStatuses.length&&(ra.shiftStatuses.splice(0,0,a),ra.shiftStatuses.push(b),ra.shiftStatus=null,n.$broadcast("event.checkOptionSelected","shift-maintenance-shift-status-drop-down"),n.$broadcast("event.typeAheadEnabled","shift-maintenance-position-type-ahead"))}}),a}function H(){return ra.headers.filter(function(a){return a.value===ra.createMode})[0].label}function I(a){var b=[],c=k.hasValue(a)?a.toLowerCase():null;if(k.hasValue(va))for(var d=va.filter(function(a){var b=!1;if(k.hasValue(c)){var d=k.hasValue(a.name)?a.name.toLowerCase():null;k.hasValue(d)&&(b=null!==c&&d.indexOf(c)>=0)}else b=!0;return b}),e=0;e<100&&e+1<=d.length;e++){var f=d[e];b.push({label:f.name,value:f.id,toggle:function(){ra.property=this.value,ra.clearArea(),ra.allAreas=[],q(this.value),n.$broadcast("event.typeAheadDisabled","shift-maintenance-position-type-ahead")}})}return b}function J(){if(!k.hasValue(va))return null;var a=va.filter(function(a){return a.id===ra.property});return a.length>0?a[0].name:null}function K(a){var b=[],c=k.hasValue(a)?a.toLowerCase():null;if(k.hasValue(xa))for(var d=xa.filter(function(a){var b=!1;if(k.hasValue(c)){var d=k.hasValue(a.name)?a.name.toLowerCase():null;k.hasValue(d)&&(b=null!==c&&d.indexOf(c)>=0)}else b=!0;return b}),e=0;e<100&&e+1<=d.length;e++){var f=d[e];b.push({label:f.name,value:f.id,toggle:function(){ra.area=this.value,ra.clearLocation(),ra.allLocations=[],r(this.value)}})}return b}function L(){if(!k.hasValue(xa))return null;var a=xa.filter(function(a){return a.id===ra.area});return a.length>0?a[0].name:null}function M(a){var b=[],c=k.hasValue(a)?a.toLowerCase():null;if(k.hasValue(wa))for(var d=wa.filter(function(a){var b=!1;if(k.hasValue(c)){var d=k.hasValue(a.name)?a.name.toLowerCase():null;k.hasValue(d)&&(b=null!==c&&d.indexOf(c)>=0)}else b=!0;return b}),e=0;e<100&&e+1<=d.length;e++){var f=d[e];b.push({label:f.name,value:f.id,toggle:function(){ra.lineOfBusiness=this.value,n.$broadcast("event.typeAheadDisabled","shift-maintenance-position-type-ahead")}})}return b}function N(){if(!k.hasValue(wa))return null;var a=wa.filter(function(a){return a.id===ra.lineOfBusiness});return a.length>0?a[0].name:null}function O(a){
var b=[],c=k.hasValue(a)?a.toLowerCase():null;if(k.hasValue(ya))for(var d=ya.filter(function(a){var b=!1;if(k.hasValue(c)){var d=k.hasValue(a.name)?a.name.toLowerCase():null;k.hasValue(d)&&(b=null!==c&&d.indexOf(c)>=0)}else b=!0;return b}),e=0;e<100&&e+1<=d.length;e++){var f=d[e];b.push({label:f.name,value:f.id,toggle:function(){ra.location=this.value}})}return b}function P(){if(!k.hasValue(ya))return null;var a=ya.filter(function(a){return a.id===ra.location});return a.length>0?a[0].name:null}function Q(a){var b=[],c=k.hasValue(a)?a.toLowerCase():null;if(k.hasValue(ua))for(var d=ua.filter(function(a){var b=!1;if(k.hasValue(c)){var d=k.hasValue(a.name)?a.name.toLowerCase():null;k.hasValue(d)&&(b=null!==c&&d.indexOf(c)>=0)}else b=!0;return b}),e=0;e<100&&e+1<=d.length;e++){var f=d[e];b.push({label:f.name,value:f.id,toggle:function(){ra.ruleSet=this.value}})}return b}function R(){if(!k.hasValue(ua))return null;var a=ua.filter(function(a){return a.id===ra.ruleSet});return a.length>0?a[0].name:null}function S(a){var b=[],c=k.hasValue(a)?a.toLowerCase():null;if(k.hasValue(ta))for(var d=ta.filter(function(a){var b=!1;if(k.hasValue(c)){var d=k.hasValue(a.name)?a.name.toLowerCase():null;k.hasValue(d)&&(b=null!==c&&d.indexOf(c)>=0)}else b=!0;return b}),e=0;e<100&&e+1<=d.length;e++){var f=d[e];b.push({label:f.name,value:f.id,toggle:function(){ra.position=this.value,n.$broadcast("event.typeAheadDisabled","shift-maintenance-lob-type-ahead"),n.$broadcast("event.typeAheadDisabled","shift-maintenance-property-type-ahead")}})}return b}function T(){if(!k.hasValue(ta))return null;var a=ta.filter(function(a){return a.id===ra.position});return a.length>0?a[0].name:null}function U(){return!0===ra.createMode?!(k.hasValue(ra.startDate)&&k.hasValue(ra.startTime)&&k.hasValue(ra.endTime)&&k.hasValue(ra.position)&&k.hasValue(ra.numberOfShifts)&&k.hasValue(ra.shiftStatus)&&""!==ra.startTime&&""!==ra.startDate&&""!==ra.endTime&&""!==ra.numberOfShifts):!k.hasValue(ra.startDate)}function V(){var a=U();return a=!0===ra.createMode?a||ra.dateRange.startDateHasError||ra.timeRange.startTimeHasError||ra.timeRange.endTimeHasError||ra.numberOfShiftsHasError:a||ra.dateRange.startDateHasError||ra.timeRange.startTimeHasError||ra.timeRange.endTimeHasError||ra.dateRange.endDateHasError}function W(){!0!==V()&&!0!==Ca&&(Ca=!0,e.spin("spinner-1"),f.save({shiftDate:m(ra.startDate).format("MM/DD/YYYY"),startTime:ra.startTime+":00",endTime:ra.endTime+":00",positionId:ra.position,eligibilityRuleId:ra.ruleSet,noOfShifts:ra.numberOfShifts,shiftStatusName:ra.shiftStatus,cloneShiftId:ra.cloneShiftId}).success(function(a){var b=a.body;ra.querySubmitted=!0,za&&n.$root.$emit("event.inSecondaryPage",{setLink:!0,returnToState:ra.cloneShiftId?"cast.schedule":"cast.shift-maintenance"}),!0===b.hasError&&ra.toasts.length<1?i.error(b.message,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}}):(ra.shifts=a.body.data,ra.cloneShiftId&&(ra.hasCreatedCloneShift=!0))}).error(function(a){ra.toasts.length<1&&i.error(a.body.message+" "+a.body.messageDetail,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).finally(function(){e.stop("spinner-1"),Ca=!1}))}function X(){if(!1!==na()){var a="edit-shifts-content-drawer",b='<div id="'+a+'" shift-maintenance-edit class="content-drawer"></div>';$("body").append(b);var c=n.$root.$new(!1);c.shiftIds=ra.shifts.filter(function(a){return a.selected}).map(function(a){return a.shiftId}),c.searchShifts=aa,c.allPositions=ta,c.allRuleSets=ua,c.singleDaySelected=Y(),o($("#"+a)[0])(c)}}function Y(){var a=!0,b=ra.shifts.filter(function(a){return a.selected}).map(function(a){return a.shiftDate}),c=b.length>0?b[0]:"";return b.forEach(function(b){a=a&&b===c}),a}function Z(){if(!1!==na()){var a="confirm-close-shifts-confirm-dialog",b='<div id="'+a+'" confirm-dialog class="hide"></div>';$("body").append(b);var c=n.$root.$new(!1),d=ra.shifts.filter(function(a){return a.selected}).length,e="";1===d?(e=j.getLocale("section.shift-maintenance.close.confirm.singular"),c.confirmButtonText=j.getLocale("button.close-shifts.confirm.singular")):(e=j.getLocale("section.shift-maintenance.close.confirm"),e=e.replace("##",d),c.confirmButtonText=j.getLocale("button.close-shifts.confirm")),c.message=e,c.confirmQuestion=j.getLocale("section.shift-maintenance.close.confirm.question"),c.cancelButtonText=j.getLocale("button.close-shifts.cancel"),c.confirm=function(){!0!==Aa&&(Aa=!0,c.$destroy(),_())},c.cancel=function(){c.$destroy()},o($("#"+a)[0])(c)}}function _(){e.spin("spinner-1"),f.remove(ra.shifts.filter(function(a){return a.selected}).map(function(a){return a.shiftId})).success(function(a){var b=a.body;!0===b.hasError&&ra.toasts.length<1?i.error(b.errorMessage,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}}):i.success(j.getLocale("section.shift-maintenance.close.success"),j.getLocale("notifications.label.success"),{timeOut:4e3})}).error(function(a){ra.toasts.length<1&&i.error(a.body.message+" "+a.body.messageDetail,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).finally(function(){Aa=!1,aa()})}function aa(){!0!==V()&&!0!==Ba&&(Ba=!0,e.spin("spinner-1"),f.get(m(ra.startDate).format("MM-DD-YYYY"),m(ra.endDate).format("MM-DD-YYYY"),k.hasValue(ra.startTime)?ra.startTime+":00":null,k.hasValue(ra.endTime)?ra.endTime+":00":null,ra.position,ra.shiftStatus,ra.lineOfBusiness,ra.property,ra.area,ra.location).success(function(a){var b=a.body;ra.shifts=a.body.data,ra.querySubmitted=!0,za&&n.$root.$emit("event.inSecondaryPage",{setLink:!0,returnToState:"cast.shift-maintenance"}),!0===b.hasError&&ra.toasts.length<1&&i.error(b.errorMessage,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).error(function(a){ra.toasts.length<1&&i.error(a.body.message+" "+a.body.messageDetail,j.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){ra.toasts.pop()}})}).finally(function(){Ba=!1,e.stop("spinner-1")}))}function ba(){if(ra.timeRange.startTimeHasError||ra.timeRange.endTimeHasError||!k.hasValue(ra.startTime)||!k.hasValue(ra.endTime))return!1;var a=parseInt(ra.startTime.replace(":",""),10);return parseInt(ra.endTime.replace(":",""),10)-a<0}function ca(){return ra.dateRange.startDateHasError||!1===ra.createMode?"":j.getLocale("section.shift-maintenance.shift-times.through")+" "+m(ra.startDate).add(1,"days").format("MM/DD/YYYY")}function da(){return ra.createMode}function ea(){return!1}function fa(){ra.hasCreatedCloneShift||(!0===ra.createMode?W():aa())}function ga(){ra.shifts=[],ra.startDate=m().toDate(),ra.endDate=m().toDate(),ra.dateRange={startDateChange:x,startDateHasError:!1,endDateChange:y,endDateHasError:!1,notInRange:!1},ra.timeRange={startTimeChange:z,startTimeHasError:!1,endTimeChange:C,endTimeHasError:!1},ra.startTime=null,ra.endTime=null,ra.clearPosition(),ra.clearLineOfBusiness(),ra.clearProperty(),ra.locationDataLoaded=!1,ra.areaDataLoaded=!1,ra.allAreas=[],ra.allLocations=[],ra.shiftStatus=null,ra.overnightMessage="",n.$broadcast("event.checkOptionSelected","shift-maintenance-shift-status-drop-down"),n.$broadcast("event.checkOptionSelected","shift-maintenance-position-type-ahead"),n.$broadcast("event.checkOptionSelected","shift-maintenance-lob-type-ahead"),n.$broadcast("event.checkOptionSelected","shift-maintenance-property-type-ahead")}function ha(){var a=angular.element(".shift-maintenance-search-results-title-bar")[0];angular.element(a).data("pos",a.getBoundingClientRect().bottom),$(".shift-maintenance-shifts-container").off("scroll",ja).on("scroll",ja)}function ia(){var a=angular.element(".shift-maintenance-search-results-title-bar")[0],b=angular.element(a),c=angular.element(".shift-maintenance-shifts-container *")[0],d=b.data("pos");c.getBoundingClientRect().top<d-20?b.addClass("scrolling"):b.removeClass("scrolling")}function ja(){window.requestAnimationFrame(ia)}function ka(){var a=!0;return ra.shifts&&ra.shifts.forEach(function(b){a=a&&b.selected}),a}function la(){ra.shifts&&ra.shifts.forEach(function(a){a.selected=!1})}function ma(){ra.shifts&&ra.shifts.forEach(function(a){!0!==a.locked&&(a.selected=!0)})}function na(){return ra.shifts&&ra.shifts.filter(function(a){return a.selected}).length>0}function oa(){ra.shifts.sort(function(a,b){var c=!1;switch(ra.sortType){case"StartTime":c=a.shiftStartTime.localeCompare(b.shiftStartTime);break;case"EndTime":c=a.shiftEndTime.localeCompare(b.shiftEndTime);break;case"FilledTime":c=a.filledShiftDate.localeCompare(b.filledShiftDate);break;case"Status":c=pa(a.shiftStatusName)-pa(b.shiftStatusName)}return c})}function pa(a){var b=0;switch(a){case"Open":b=1;break;case"Filled":b=2;break;case"Closed":b=3;break;case"Pending":b=4}return b}function qa(a){for(var b=0;b<ra.shifts.length;b++)ra.shifts[b].shiftId===a.shiftId&&(ra.shifts[b]=a)}var ra=this,sa="spinner-1",ta=[],ua=[],va=[],wa=[],xa=[],ya=[],za=k.isMobileWidth(),Aa=!1,Ba=!1,Ca=!1;p()}angular.module("app.shift-maintenance").controller("ShiftMaintenanceController",a),a.$inject=["$state","$timeout","$location","castService","spinnerService","shiftMaintenanceService","shiftService","unauthService","toastr","language","utilities","$q","moment","$scope","$compile"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.shift-maintenance",config:{url:"/shiftMaintenance",params:{data:null},templateUrl:"app/features/shift-maintenance/shift-maintenance.html",controller:"ShiftMaintenanceController",controllerAs:"shiftMaintenanceVm"}}]}angular.module("app.shift-maintenance").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{unauthorized:0,view:1,edit:2}}function f(){var b=c.getEnvPath("shiftMaintenance/lineOfBusiness/");return a.get(b,{timeout:d.xhr})}function g(){var b=c.getEnvPath("shiftMaintenance/property/");return a.get(b,{timeout:d.xhr})}function h(b){var e=c.getEnvPath("shiftMaintenance/area/"+b);return a.get(e,{timeout:d.xhr})}function i(b){var e=c.getEnvPath("shiftMaintenance/location/"+b);return a.get(e,{timeout:d.xhr})}function j(){var b=c.getEnvPath("shiftMaintenance/position/");return a.get(b,{timeout:d.xhr})}function k(){var b=c.getEnvPath("shiftMaintenance/ruleSet/");return a.get(b,{timeout:d.xhr})}function l(e,f,g,h,i,j,k,l,m,n){var o=c.getEnvPath("shiftMaintenance/get/");return a.get(o+e+"/"+g+"/"+h+"/"+i+"/"+j+"/"+k+"/"+l+"/"+m+"/"+n+"/"+f,{timeout:d.xhr}).success(function(a){return a}).error(function(a){return b.defer().reject(a)})}function m(e){var f=c.getEnvPath("shiftMaintenance/")+e;return a.get(f,{timeout:d.xhr}).success(function(a){return a}).error(function(a){return b.defer().reject(a)})}function n(b){var e=c.getEnvPath("shiftMaintenance/save/");return a.post(e,b,{timeout:d.xhr,withCredentials:!0})}function o(b){var e=c.getEnvPath("shiftMaintenance/remove/");return a.post(e,b,{timeout:d.xhr,withCredentials:!0})}return{getRuleSets:k,getPositions:j,getAccessStates:e,get:l,getShift:m,save:n,remove:o,getLinesOfBusiness:f,getAreas:h,getProperties:g,getLocations:i}}angular.module("app.shift-maintenance").factory("shiftMaintenanceService",a),a.$inject=["$http","$q","utilities","timeout"]}(),angular.module("app.directives").directive("shiftDetailsContainer",shiftDetailsContainer),shiftDetailsContainer.$inject=["$compile","$rootScope","utilities"],angular.module("app.directives").directive("shiftDetailsForm",shiftDetailsForm),shiftDetailsForm.$inject=["$rootScope","$q","utilities","language","dialogs","toastr","modalService","castService","scheduleService","spinnerService","moment","$window"],function(){"use strict";function a(){}angular.module("app.threshold").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){L.title="Time Off Thresholds",L.language=n;var a=p.getHelpContainerId("KB0010077","KB0010077");L.helpUrl=p.getHelpUrl(a),L.toasts=[],L.userMsgType=null,L.thresholdReady=!0,L.currentRows=[],L.accessStates=j.getAccessStates(),L.dateFormat="MM/dd/yyyy",L.datePlaceholder="mm/dd/yyyy",L.status={start:{open:!1},end:{open:!1}},L.dateOptions={"year-format":"'yy'","show-weeks":!1},L.thresholdForm={},L.thresholdForm.changes=[],c.submitReady=!1,L.thresholdForm.submitReady=!1,L.searchForm={},u(),L.weekdayHeaders=[];for(var b=0;b<7;b++)L.weekdayHeaders.push(b);L.openDatePicker=J,L.search=y,L.startDateChanged=E,L.endDateChanged=F,L.thresholdChanged=G,L.submitThreshold=H,L.launchPanel=I,L.isObject=K,L.weekHasApproved=B,L.weekHasWaitlisted=C,L.scroll={},L.scroll.processing=!1,x(),L.setPools=w,c.$on("threshold.submit.ready",function(){L.thresholdForm.submitReady=!0}),s(),h.stop("spinner-1")}function s(){var a=p.getData();o.hasValue(a)&&(o.hasValue(a.currentPool)&&(L.currentPool=a.currentPool),o.hasValue(a.startDate)&&(L.startDate=a.startDate),o.hasValue(a.endDate)&&(L.endDate=a.endDate),o.hasValue(a.prevState)&&(L.prevState=a.prevState),o.hasValue(a.prevStateMessage)&&(L.prevStateMessage=a.prevStateMessage),L.navigateBack=t)}function t(){b.go(b.params.data.prevState,{data:b.params.data})}function u(){var a=g.getSession();switch(o.hasValue(a.access.thresholdAccessLevel)||(k.setStatus(401),b.go("unauth")),a.access.thresholdAccessLevel){case L.accessStates.unauthorized:k.setStatus(401),b.go("unauth");break;case L.accessStates.edit:L.editMode=!0}}function v(){c.submitReady=!1,L.thresholdForm.submitReady=!1,L.currentRows=[],L.thresholdForm.changes=[],L.daysProcessing=!0}function w(){L.includeInactiveBidPools?L.pools=L.allPools:L.pools=L.activePools}function x(){return h.spin("spinner-1"),q.getPools().success(function(a){!1===a.body.hasError?(L.allPools=a.body.data,L.activePools=a.body.data.filter(function(a){return a.isActive}),L.setPools()):L.toasts.length<1&&(L.toasts.push("error"),m.error(a.body.message,n.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){L.toasts.pop()}}))}).error(function(a){return d.defer().reject(a.body.data)})}function y(){if(L.searchForm.$submitted=!0,L.searchForm.processing=!0,!angular.isObject(L.currentPool)||!L.startDate||!L.endDate||L.thresholdForm.changes.length>0){if(L.searchForm.processing=!1,!(L.thresholdForm.changes.length>0))return;l.create("app/features/modal/modal.cancel.html","ModalController",{},{windowClass:"fullscreen",size:"sm"}).result.then(function(a){m.info("Changes have been canceled","Canceled"),z()})}else z()}function z(){v(),L.weekStart=moment(L.searchForm.startDate.$modelValue).startOf("week").toDate(),L.weekEnd=moment(L.searchForm.endDate.$modelValue).endOf("week").toDate(),L.monthStart=moment(L.searchForm.startDate.$modelValue).startOf("month").toDate(),L.monthEnd=moment(L.searchForm.endDate.$modelValue).startOf("month").toDate(),A(L.currentPool.id,moment(L.weekStart).format("MM-DD-YYYY"),moment(L.weekEnd).format("MM-DD-YYYY"))}function A(a,b,c){return h.spin("spinner-1"),j.getDaysInRange(a,b,c).success(function(a){!1===a.body.hasError?(L.thresholds=a.body.data,D(a.body.data),L.daysProcessing=!1):L.toasts.length<1&&(L.toasts.push("error"),m.error(a.body.message,n.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){L.toasts.pop()}}))}).error(function(a){return d.defer().reject(a.body.data)}).finally(function(){L.searchForm.processing=!1,h.stop("spinner-1")})}function B(a,b){var c=!1;return a=a.slice(b,b+7),angular.forEach(a,function(a){a.hasApproved&&(c=!0)}),c}function C(a,b){var c=!1;return a=a.slice(b,b+7),angular.forEach(a,function(a){a.hasWaitlisted&&(c=!0)}),c}function D(a){var b,c=Math.ceil(a.length/7);for(b=0;b<c;b++)L.currentRows.push({rowOffset:7*b})}function E(){L.endDate&&moment(L.startDate)>moment(L.endDate)&&(L.endDate=L.startDate)}function F(){L.startDate&&moment(L.startDate)>moment(L.endDate)&&(L.endDate=L.startDate)}function G(b){b.currentYearThreshold||(b.currentYearThreshold=0),b.edited=!0;var c={date:b.date,currentYearThreshold:b.currentYearThreshold},d=a("filter")(L.thresholdForm.changes,{date:b.date},!1)[0];if(d){var e=L.thresholdForm.changes.indexOf(d);L.thresholdForm.changes.splice(e,1)}L.thresholdForm.changes.push(c)}function H(){function a(){return h.spin("spinner-1"),j.submitThreshold(c).success(function(a){!1===a.body.hasError?(m.success(a.body.message,n.getLocale("notifications.label.success"),{timeOut:4e3}),z()):L.toasts.length<1&&(L.toasts.push("error"),m.error(a.body.message,n.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){L.toasts.pop()}})),b.resolve()}).error(function(a){return b.reject(a.body.data)}).finally(function(){h.stop("spinner-1")})}var b=d.defer(),c={bidPoolId:L.currentPool.id,items:L.thresholdForm.changes};return i.setVm(),l.create("app/features/modal/modal.confirm-threshold.html","ModalController",{},{size:"sm"}).result.then(function(d){if(!d)return b.reject();i.closeModal();for(var e=0;e<c.items.length;e++)c.items[e].comment=d.comment;a()},function(){b.resolve()}),b.promise}function I(a){c.$emit("event.threshold.modal",a)}function J(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function K(a){return angular.isObject(a)}var L=this;r()}angular.module("app.threshold").controller("ThresholdController",a),a.$inject=["$filter","$state","$rootScope","$q","$timeout","$location","castService","spinnerService","modalService","thresholdService","unauthService","dialogs","toastr","language","utilities","helpService","poolService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){var a=this;a.language=c,a.cancelModal=k;var d=f.getVm();a.modalId=d.id,a.data=d,j.call(a,d.poolId,b("dateTime")(d.start,"","MM-DD-YYYY"),b("dateTime")(d.end,"","MM-DD-YYYY"))}function j(d,f,i){var j=this;return h.spin("spinner-1"),g.getApproved(d,f,i).success(function(a){!1===a.body.hasError?j.approved=b("groupBy")(a.body.data,"date"):e.error(a.body.message,c.getLocale("notifications.label.error"),{timeOut:6e3})}).error(function(b){return a.defer().reject(b.body.data)}).finally(function(){h.stop("spinner-1")})}function k(a){f.closeModal(a)}return{replace:!1,restrict:"A",templateUrl:"app/features/threshold/partials/approved.html",scope:{},controller:i,controllerAs:"approvedVm"}}angular.module("app.threshold").directive("thresholdApproved",a),a.$inject=["$q","$filter","language","dialogs","toastr","modalService","thresholdService","spinnerService"]}(),function(){"use strict";function a(a){function b(b,c,d,e){b.$watch(function(){return e.$viewValue},function(b,c){b!==c&&!1===a.submitReady&&a.$emit("threshold.submit.ready")})}return{replace:!1,restrict:"A",require:"ngModel",link:b}}angular.module("app.threshold").directive("thresholdInput",a),a.$inject=["$rootScope"]}(),function(){"use strict";function a(b,c,d,e){function f(a,f){c.$on("event.threshold.modal",function(c,g){var h="#"+g.modalId,i="<div "+g.name+' id="'+g.modalId+'" class="side-modal slide-animation"></div>';g.id=h,d.setVm(g),f.append(b(i)(a)),e.visibility(h,"focus")})}return{replace:!1,restrict:"A",controller:a,controllerAs:"thresholdModal",link:f}}angular.module("app.directives").directive("thresholdModal",a),a.$inject=["$compile","$rootScope","modalService","utilities"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){var a=this;a.language=c,a.cancelModal=k;var d=f.getVm();a.modalId=d.id,a.data=d,j.call(a,d.poolId,b("dateTime")(d.start,"","MM-DD-YYYY"),b("dateTime")(d.end,"","MM-DD-YYYY"))}function j(d,f,i){var j=this;return h.spin("spinner-1"),g.getWaitlist(d,f,i).success(function(a){!1===a.body.hasError?j.waitlists=b("groupBy")(a.body.data,"date"):e.error(a.body.message,c.getLocale("notifications.label.error"),{timeOut:6e3})}).error(function(b){return a.defer().reject(b.body.data)}).finally(function(){h.stop("spinner-1")})}function k(a){f.closeModal(a)}return{replace:!1,restrict:"A",templateUrl:"app/features/threshold/partials/waitlist.html",scope:{},controller:i,controllerAs:"waitlistVm"}}angular.module("app.threshold").directive("thresholdWaitlist",a),a.$inject=["$q","$filter","language","dialogs","toastr","modalService","thresholdService","spinnerService"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.threshold",config:{url:"/timeoff/threshold",params:{data:null},templateUrl:"app/features/threshold/threshold.html",controller:"ThresholdController",controllerAs:"thresholdVm"}}]}angular.module("app.threshold").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{unauthorized:0,view:1,edit:2}}function f(){var e=c.getEnvPath("threshold/getPools/");return a.get(e,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function g(e,f,g){var h=c.getEnvPath("threshold/getInRange/");return a.get(h+e+"/"+f+"/"+g,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function h(e){var f=c.getEnvPath("threshold/submitThreshold/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(e,f,g){var h=c.getEnvPath("threshold/getWaitlisted/");return a.get(h+e+"/"+f+"/"+g,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function j(e,f,g){var h=c.getEnvPath("threshold/getApproved/");return a.get(h+e+"/"+f+"/"+g,{timeout:d.xhr}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}return{getDaysInRange:g,getPools:f,submitThreshold:h,getWaitlist:i,getApproved:j,getAccessStates:e}}angular.module("app.threshold").factory("thresholdService",a),a.$inject=["$http","$q","utilities","timeout"]}(),function(){"use strict";function a(){}angular.module("app.transfer").config(a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){D.title="Company Initiated Transfers",D.language=k,D.utilities=l,D.toasts=[],D.userMsgType=null,D.dateFormat="MM-dd-yyyy",D.datePlaceholder="mm-dd-yyyy",D.status={start:{open:!1},end:{open:!1}},D.dateOptions={"year-format":"yy","show-weeks":!1},D.searchTypes=[{id:0,name:"Perner"},{id:1,name:"Org Unit"}],D.searchType=D.searchTypes[0],D.searchForm={},D.isObject=z,D.orgChanged=v,D.submitSearch=x,D.launchPanel=A,D.editSelected=B,D.setRadio=C,D.reset=s,D.orgUnits=[],D.canSearch=!1,D.accessStates=e.getAccessStates(),q(),r();var a=n.getHelpContainerId("KB0010082","KB0010082");D.helpUrl=n.getHelpUrl(a);var b=n.getData();l.hasValue(b)&&(l.hasValue(b.searchResultsTypeId)&&(D.searchResultsType.id=b.searchResultsTypeId),l.hasValue(b.perner)&&(D.perner=b.perner),l.hasValue(b.oldOrg)&&(D.oldOrg=b.oldOrg),l.hasValue(b.newOrg)&&(D.newOrg=b.newOrg)),g.stop("spinner-1")}function q(){var b=d.getSession();switch(l.hasValue(b.access.transferAccessLevel)||(o.setStatus(401),a.go("unauth")),b.access.transferAccessLevel){case D.accessStates.unauthorized:o.setStatus(401),a.go("unauth");break;case D.accessStates.edit:D.editMode=!0}}function r(){D.validation={},D.validation.onlyNumbers=m.onlyNumbers()}function s(){D.perner=null,D.oldOrg=null,D.newOrg=null,D.oldOrgUnitName=null,D.newOrgUnitName=null,D.searchForm.$submitted=!1,D.selectedRows=null}function t(){D.searchResults=null,angular.forEach(D,function(a,b){-1!==b.indexOf("resultRow")&&(D[b]=null)})}function u(a,b){var c=D.orgUnits.filter(function(b){return b.orgUnitCode===a});1===c.length&&("oldOrgUnitName"===b&&(D.oldOrg=c[0]),"newOrgUnitName"===b&&(D.newOrg=c[0]))}function v(a,b){if(a&&!(a.length<2)){var c=a.substring(0,2);if(D.allOrgUnits||(D.allOrgUnits={}),D.allOrgUnits.hasOwnProperty(c)){if(D.orgUnits=[],D.orgUnits=D.allOrgUnits[c],D.canSearch=D.orgUnits.length>0,D.canSearch)return void u(a,b)}else D.allOrgUnits[c]=[];var d=!(D.searchForm.newOrg.$error.length>0),e=!(D.searchForm.oldOrg.$error.length>0);d?D.searchForm.oldOrg.$setPristine():e&&D.searchForm.newOrg.$setPristine(),0===D.allOrgUnits[c].length&&w(a,b)}}function w(a,c){if(a&&a.length>1){g.spin("spinner-1");var d=a.substring(0,2);f.getOrgName(d).success(function(b){!1===b.body.hasError?0===b.body.data.length?D[c]=!1:(D.allOrgUnits||(D.allOrgUnits={}),D.allOrgUnits.hasOwnProperty(d)||(D.allOrgUnits[d]=[]),D.allOrgUnits[d]=b.body.data,D.orgUnits=[],D.orgUnits=D.allOrgUnits[d],u(a,c)):j.error(b.body.message,k.getLocale("notifications.label.error"),{timeOut:6e3})}).error(function(a){return b.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-1")})}else D[c]=null}function x(){if(!D.searchForm)return void(D.searchResults=null);if(!(0!==D.searchType.id||D.perner||D.newOrg&&D.newOrg.orgUnitCode||D.oldOrg&&D.oldOrg.orgUnitCode||D.reason))return void(D.searchResults=null);if(!(1!==D.searchType.id||D.newOrg&&D.newOrg.orgUnitCode||D.oldOrg&&D.oldOrg.orgUnitCode||D.reason))return void(D.searchResults=null);var a={perner:D.perner?D.perner:null,oldOrgUnitCode:D.oldOrg&&D.oldOrg.orgUnitCode?D.oldOrg.orgUnitCode:null,newOrgUnitCode:D.newOrg&&D.newOrg.orgUnitCode?D.newOrg.orgUnitCode:null,reason:D.reason?D.reason:null},c=0===D.searchType.id?"getByPerner":"getByOrgUnit";return t(),g.spin("spinner-1"),e[c](a).success(function(a){if(!1===a.body.hasError){if(0===a.body.data.length)return void j.info(k.getLocale("notifications.message.search.noresults"),k.getLocale("notifications.label.notice"),{timeOut:6e3});D.searchResults=a.body.data,D.searchResultsType=D.searchType}else D.toasts.length<1&&(D.toasts.push("error"),j.error(a.body.message,k.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){D.toasts.pop()}}))}).error(function(a){return b.defer().reject(a.body.data)}).finally(function(){g.stop("spinner-1")})}function y(a,c,d){return e[c](a,d).success(function(a){return!1===a.body.hasError?(s(),delete D.searchResults,delete D.searchResultsType,D.transferForm={},D.searchForm.$submitted=!1,j.success(a.body.message,k.getLocale("notifications.label.success"),{timeOut:4e3})):D.toasts.length<1&&(D.toasts.push("error"),j.error(a.body.message,k.getLocale("notifications.label.error"),{timeOut:6e3,onHidden:function(){D.toasts.pop()}})),b.defer().resolve()}).error(function(a){return b.defer().reject()}).finally(function(){g.stop("spinner-1")})}function z(a){return angular.isObject(a)}function A(a){a.submitFunc=y,c.$emit("event.transfer.modal",a)}function B(){if(D.selectedRows=D.searchResults.filter(function(a,b){if(D.resultRow&&D.resultRow.hasOwnProperty(b)&&D.resultRow[b])return D.resultRow[b]}),0===D.selectedRows.length)return void j.warning(k.getLocale("notifications.warning.noselection"),k.getLocale("notifications.label.warning"),{timeOut:3e3});A({id:"transfer-modal-0",name:"transfer-modal",type:D.searchResultsType,selected:D.selectedRows})}function C(a){D.resultRow={},D.resultRow[a]=!0}var D=this;p()}angular.module("app.transfer").controller("TransferController",a),a.$inject=["$state","$q","$rootScope","castService","transferService","poolService","spinnerService","modalService","dialogs","toastr","language","utilities","validation","helpService","unauthService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(d,e){b.$on("event.transfer.modal",function(b,f){var g="<div "+f.name+' id="'+f.id+'" class="side-modal slide-animation"></div>';c.setVm(f),e.append(a(g)(d)),h.visibility("#"+f.id,"focus")})}var j={replace:!1,restrict:"A",scope:{},link:i};return j}angular.module("app.directives").directive("transferModalParent",a),a.$inject=["$compile","$rootScope","modalService","spinnerService","poolService","toastr","language","utilities"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){q=this,q.language=g,q.utilities=h,q.cancelModal=k,q.openDatePicker=l,q.getOrgName=m,q.submitTransfer=n,q.removeTransfer=p,q.addForm={},q.ids=[],q.perners="",q.placeholder={},q.placeholder.endDate="mm/dd/yyyy",q.oldOrg={},q.newOrg={};var a=c.getVm()||{};q.modalId=a.id,a.selected&&j(a),q.data=a,q.dateFormat="MM/dd/yyyy",q.dateOptions={"year-format":"yy","show-weeks":!1},q.minDate=moment(),q.status={start:{open:!1},end:{open:!1}},q.searchTypes=[{id:0,name:"Perner"},{id:1,name:"Org Unit"}],q.searchType=angular.isDefined(a.type)?a.type:q.searchTypes[0]}function j(a){q.editMode=!0,q.placeholder.endDate="mm/dd/yyyy",q.newOrg=a.selected[0].newOrgUnit||{},q.oldOrg=a.selected[0].oldOrgUnit||{},q.reason=a.selected[0].reason,angular.forEach(a.selected,function(a){a.perner&&(q.perners+=a.perner+"\r\n"),q.ids.push(a.id)});var b=a.selected.every(function(a){return a.newOrgUnit.id===q.newOrg.id}),c=a.selected.every(function(a){return a.oldOrgUnit.id===q.oldOrg.id}),d=a.selected.every(function(b){return b.endDate===a.selected[0].endDate});b||(q.newOrg=!1,q.placeholder.newOrgUnit=g.getLocale("placeholder.transfer.orgunit")),c||(q.oldOrg=!1,q.placeholder.oldOrgUnit=g.getLocale("placeholder.transfer.orgunit")),d?d&&a.selected[0].endDate&&(q.endDate=moment(a.selected[0].endDate).format("MM/DD/YYYY")):q.placeholder.endDate=g.getLocale("placeholder.transfer.enddate")}function k(a){angular.element("#"+a).remove(),c.closeModal("#"+a)}function l(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function m(a,b){var c=this;a&&8===a.length?(d.spin("spinner-1"),e.getOrgName(a).success(function(a){!1===a.body.hasError?(0===a.body.data.length?c[b].name=!1:(c[b].name=a.body.data[0].orgUnitName,c[b].name||(c[b].name="Invalid Name")),q[b].name=angular.copy(c[b].name)):f.error(a.body.message,g.getLocale("notifications.label.error"),{timeOut:6e3})}).error(function(a){return $q.defer().reject(a.body.data)}).finally(function(){d.stop("spinner-1")})):(c[b].name=null,q[b].name=null)}function n(){if(q.addForm.$submitted=!0,!1!==h.isEmpty(q.addForm.$error)&&!1!==q.oldOrg.name&&!1!==q.newOrg.name&&(1!==q.searchType.id||q.oldOrg.name||q.newOrg.name)&&(0!==q.searchType.id||q.addForm.perners.$modelValue)){var a=0===q.searchType.id?"editByPerner":"editByOrgUnit",b=q.editMode?"edit":"add",c=o();d.spin("spinner-1"),q.addForm.processing=!0;q.data.submitFunc(c,a,b).then(function(a){q.addForm.processing=!1,!1===a.data.body.hasError&&q.cancelModal(q.modalId)})}}function o(){var a={oldOrgUnitCode:q.oldOrg.id,newOrgUnitCode:q.newOrg.id,endDate:null,reason:h.hasValue(q.reason)?q.reason:null};if(q.addForm.endDate.$modelValue&&(a.endDate=moment(q.addForm.endDate.$modelValue).format("MM/DD/YYYY")),0!==q.searchType.id||q.editMode)q.editMode&&(a.ids=q.ids);else{var b=q.addForm.perners.$modelValue.replace(/\D/g," ").split(" ");b=b.filter(function(a){if(a)return a}),a.perners=b}return a}function p(){q.addForm.$submitted=!0;var a=0===q.searchType.id?"removeByPerner":"removeByOrgUnit",b={ids:q.ids};d.spin("spinner-1"),q.addForm.processing=!0,q.data.submitFunc(b,a).then(function(a){q.addForm.processing=!1,!1===a.data.body.hasError&&q.cancelModal(q.modalId)})}var q,r={replace:!1,restrict:"A",templateUrl:"app/features/transfer/partials/transfer-modal.html",scope:{},controller:i,controllerAs:"modalVm"};return r}angular.module("app.directives").directive("transferModal",a),a.$inject=["$compile","$rootScope","modalService","spinnerService","poolService","toastr","language","utilities"]}(),function(){"use strict";function a(a){a.configureStates(b(),"/")}function b(){return[{state:"cast.transfer",config:{url:"/timeoff/transfer",params:{data:null},templateUrl:"app/features/transfer/transfer.html",controller:"TransferController",controllerAs:"transferVm"}}]}angular.module("app.transfer").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(a,b,c,d){function e(){return{unauthorized:0,view:1,edit:2}}function f(e){var f=c.getEnvPath("transfer/getByPerner/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function g(e){var f=c.getEnvPath("transfer/getByOrgUnit/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0
}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function h(e,f){var g=c.getEnvPath("transfer/editByPerner/"+f);return a.post(g,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(e,f){var g=c.getEnvPath("transfer/editByOrgUnit/"+f);return a.post(g,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function j(e){var f=c.getEnvPath("transfer/removeByPerner/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function k(e){var f=c.getEnvPath("transfer/removeByOrgUnit/");return a.post(f,e,{timeout:d.xhr,withCredentials:!0}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}return{getByPerner:f,getByOrgUnit:g,editByPerner:h,editByOrgUnit:i,removeByPerner:j,removeByOrgUnit:k,getAccessStates:e}}angular.module("app.transfer").factory("transferService",a),a.$inject=["$http","$q","utilities","timeout"]}(),function(){"use strict";function a(){}angular.module("app.unauth").config(a)}(),function(){"use strict";function a(a,b,c,d){function e(){f.language=a,f.status=c.getStatus()||404,d.stop("spinner-1")}var f=this;e()}angular.module("app.unauth").controller("UnauthController",a),a.$inject=["language","utilities","unauthService","spinnerService"]}(),function(){"use strict";function a(a){a.configureStates(b())}function b(){return[{state:"unauth",config:{url:"/unauth",templateUrl:"app/features/unauth/unauth.html",controller:"UnauthController",controllerAs:"unauthVm"}}]}angular.module("app.unauth").run(a),a.$inject=["routerHelper"]}(),function(){"use strict";function a(){function a(a){c.status=a}function b(){return c.status}var c=this;return{getStatus:b,setStatus:a}}angular.module("app.unauth").factory("unauthService",a)}(),function(){"use strict";window.i18n={},window.i18n.en={"toast.save.successful":"Save request successful","toast.delete.successful":"Delete request successful","digits.2":"Two","digits.3":"Three","digits.4":"Four","digits.5":"Five","digits.6":"Six","label.perner":"Perner","label.perners":"Perner(s)","label.dates":"Dates:","label.date":"Date","label.startDate":"Start Date","label.endDate":"End Date","label.startTime":"Shift Start","label.endTime":"Shift End","label.paytype":"Pay Type","label.type":"Type","label.remove":"Remove","label.hours":"hours","label.minutes":"minutes","label.and":"and","button.search":"Search","button.ok":"OK","button.add":"Add","button.save":"Save","button.submit":"Submit","button.delete":"Delete","button.delete.request":"Delete Request","button.undo":"Undo","button.undodelete":"Undo Delete","button.cancel":"Cancel","button.signup":"Sign Up","button.close":"Close","button.clear":"Clear","button.refresh":"Refresh","button.bid.startbid":"Start Bid","button.bid.continuebid":"Continue Bid","button.bid.completebid":"Complete Bid","button.bid.processcastmember":"Process And Continue","button.shift.signup":"Sign Up for this Shift","button.shift.reopen":"Delete Shift","button.shift.swapback":"Swap Back","button.reopen.yes":"Yes, Cancel this Shift","button.reopen.no":"No, Keep Shift","button.swap":"Swap the Selected Shift","button.swap.confirm":"Confirm Shift Swap","button.create":"Create","button.find":"Find","button.close-shifts":"Close Shifts","button.edit-shifts":"Modify Shifts","button.close-shifts.cancel":"No, Go Back","button.close-shifts.confirm":"Yes, Close Shifts","button.close-shifts.confirm.singular":"Yes, Close Shift","button.logout":"Sign Out","text.to":"to","text.on-behalf-of.placeholder":"Search by Perner","text.on-behalf-of.description":"On Behalf Of","retrieve.data.notification":"retrieving...","section.cast.label.name":"Name","section.cast.label.org":"Org Unit","section.cast.label.subgroup":"Employee Subgroup","section.bid.text.description":"Space for header text that give quick explanation to how this works...","section.bid.text.appointment":"Do not schedule me for an appointment to bid.","section.bid.label.requested":"requested","section.bid.label.available":"available","section.bid.button.add":"Add a Request","section.ahsu.title":"Additional Availability","section.ahsu.location.label":"Location","section.ahsu.location.my":"My Location","section.ahsu.location.any":"Any Location","section.ahsu.time-range.label":"I can work...","section.ahsu.time-range.all":"All Day","section.ahsu.time-range.before":"Before","section.ahsu.time-range.after":"After","section.ahsu.days-of-week.label":"Select the days you are available","section.ahsu.days-of-week.every":"All Days","section.ahsu.days-of-week.single":"One Day","section.ahsu.days-of-week.days":"Days","section.ahsu.days-of-week.none":"Select a Day","section.shifts.header.shifts":"Shifts","section.shiftdetails.title":"Shift Details","section.shiftdetails.lockcountdown":"This shift is locked for ","section.shiftdetails.lockcountdown.units":"min","section.shiftdetails.shift.id":"Shift ID","section.shiftdetails.shift.position":"Position","section.shiftdetails.shift.property":"Property","section.shiftdetails.shift.meetingplace":"Meeting Place","section.shiftdetails.shift.costume":"Costume","section.shiftdetails.shift.comments":"Comments","section.shiftdetails.shift.notes":"Notes","section.shiftdetail.error.notfound.title":"Unable To Retrieve Shift Detail Information","section.shiftdetail.lockexpired.headline":"Your Lock Has Expired","section.shiftdetail.lockexpired.explanation":"This shift is no longer available to view.","section.shiftdetail.unavailable.headline":"This Shift Is Unavailable","section.shiftdetail.unavailable.explanation":"","section.ehh.search.high-volume":"Due to high volume EHH search has been disabled","section.ehh.shiftdetail.warning.ineligible":"Ineligibility Reasons","section.ehh.shiftdetail.ineligible.reason.training.title":"Missing Training Below","section.signup.acknowledge.certification":"I certify that my portal ID is *** and I am signing up for this shift without the assistance of any automated system","section.signup.title":"Shift Sign Up","section.signup.acknowledge.terms":"I agree to the Terms & Conditions","section.signup.link.terms":"View Terms & Conditions","section.signup.swapback.title":"Shift Swap Back","section.signup.swapback.old":"OLD SHIFT","section.signup.swapback.new":"NEW SHIFT","section.signup.swapback.pending":"PENDING SWAP","section.signup.swapback.instructions":"Swap with a scheduled shift on","section.reopen.title":"Delete Shift","section.reopen.instructions":"You are about to cancel the following shift. Are you sure you want to proceed?","section.reopen.denied.lob":"This area does not allow shift cancelation","section.reopen.denied.too.late":"It is too close to the start time of the shift to cancel","section.reopen.denied.processing":"This shift is still in process and cannot be canceled at this time","section.reopen.denied.traded":"This shift cannot be canceled","section.shift-maintenance.create.title":"Create a New Shift","section.shift-maintenance.search.no-results":"Sorry, we weren't able to find what you were looking for.","section.shift-maintenance.maintain.title":"View Existing Shifts","section.shift-maintenance.number-of-shifts.label":"Number of Shifts","section.shift-maintenance.position.label":"Position","section.shift-maintenance.rule-set.label":"Rule Set","section.shift-maintenance.lob.label":"Line Of Business","section.shift-maintenance.property.label":"Property","section.shift-maintenance.area.label":"Area","section.shift-maintenance.location.label":"Location","section.shift-maintenance.area.placeholder":"Type to filter areas","section.shift-maintenance.location.placeholder":"Type to filter locations","section.shift-maintenance.lob.placeholder":"Type to filter lines of business","section.shift-maintenance.property.placeholder":"Type to filter properties","section.shift-maintenance.position.placeholder":"Type to filter positions","section.shift-maintenance.rule-set.placeholder":"Type to filter rule sets","section.shift-maintenance.assign-to-cast":"Assign To Cast","section.shift-maintenance.assign-to-cast.button.title":"Assign","section.shift-maintenance.time-range.label":"Shift starts between","section.shift-maintenance.shift-status.label":"Status","section.shift-maintenance.shift-status.open":"Open","section.shift-maintenance.shift-status.pending":"Pending","section.shift-maintenance.shift-status.filled":"Filled","section.shift-maintenance.shift-status.closed":"Closed","section.shift-maintenance.shift-status.all":"All Statuses","section.shift-maintenance.error.time.format":"Use HH:MM format","section.shift-maintenance.error.time.same":"End time must be later than start time","section.shift-maintenance.error.number-of-shifts.format":"Valid Range 1-","section.shift-maintenance.shift-status.open.value":"Open","section.shift-maintenance.shift-status.pending.value":"Pending","section.shift-maintenance.shift-status.filled.value":"Filled","section.shift-maintenance.shift-status.closed.value":"Closed","section.shift-maintenance.shift-times.through":"through","section.shift-maintenance.shift-results.create.title":"New Shifts","section.shift-maintenance.shift-results.search.title":"Search Results","section.shift-maintenance.sort.label":"Sort By","section.shift-maintenance.sort.all":"All","section.shift-maintenance.sort.start-time":"Start Time","section.shift-maintenance.sort.end-time":"End Time","section.shift-maintenance.sort.status":"Status","section.shift-maintenance.sort.filled":"Filled Time","section.shift-maintenance.time-remaining.label":"Remaining","section.shift-maintenance.modify.success":"The selected shifts have been successfully modified.","section.shift-maintenance.close.success":"The selected shifts have been successfully closed.","section.shift-maintenance.close.confirm":"You are about to close ## shifts.","section.shift-maintenance.close.confirm.singular":"You are about to close 1 shift.","section.shift-maintenance.close.confirm.question":"Do you want to continue?","section.shift-maintenance.select-all":"Select All","section.shift-maintenance.unselect-all":"Unselect All","section.shift-maintenance.edit.number-of-shifts":"You have selected ### shifts to modify.","section.shift-maintenance.edit.number-of-shifts.singular":"You have selected 1 shift to modify.","section.main-menu.welcome":"Welcome","section.main-menu.schedule-view.link.name":"My Schedule","section.main-menu.shift-maintenance.link.name":"Shift Maintenance","section.main-menu.past-day-worked":"View Time Details","section.main-menu.out.link.name":"Call Out","section.main-menu.late.link.name":"Call Late","section.main-menu.back.link.name":"Call Back","section.main-menu.time-off.link.name":"Time Off","section.day-detail.past-date.title":"Day is in the past","section.day-detail.blockout.title":"Blockout Date","section.day-detail.time-off.title":"Time-Off Request","section.day-detail.time-off-waitlist.title":"Time-off Waitlist","section.day-detail.regular-day-off.title":"Regular Day Off","section.day-detail.pending":"Pending","section.main-menu.ahsu.link.name":"Additional Availability","section.main-menu.thresholds.link.name":"Thresholds","section.main-menu.bid.link.name":"Seniority Based Processing","section.main-menu.transfer.link.name":"Transfer","section.main-menu.pool.link.name":"Schedule Pool","section.main-menu.calendar-maintenance.link.name":"Calendar Admin","section.main-menu.shift-trade.link.name":"Request Shift Trade","section.main-menu.reports.link.name":"Reports","section.main-menu.lsc-rsvp.reports.link.name":"My other requests","section.out.label.type":"Call-Out Type","section.out.select.type":"Select","section.out.text.for":"for","section.out.text.timeoff":"View Available Time Off","section.out.disclaimer":"To call-out, please call your leadership team at 407-939-5226","section.out.warning":"All absences today may be subject to an explanation acceptable to the company.","section.late.label.date":"Dates:","section.late.label.shift":"Shift:","section.late.label.location":"Location(s):","section.late.text.arrival":"Your estimated time of arrival will be ","section.ehh.recommendation.prompt":"Want to Pick Up a Shift?","section.ehh.search.add-shift":"Add a Shift","section.ehh.search.view-more-shifts":"View More Shifts","section.ehh.search.headline":"Pick Up a Shift","section.ehh.search.posted":"Shifts have been posted for","section.ehh.search.shift-date-descriptor":"Shifts on","section.ehh.search.no-results":"There are no available shifts","section.ehh.search.no-results.ineligible":"There are no ineligible shifts available","section.ehh.search.eligibility.label":"View Shifts","section.ehh.search.eligibility.eligible":"Available","section.ehh.search.eligibility.ineligible":"Ineligible","section.ehh.search.location.label":"Location","section.ehh.search.location.recent":"Recent Locations","section.ehh.search.location.all":"All Locations","section.ehh.ineligible.reasons.training":"Training","section.ehh.ineligible.reasons.bridge":"Bridge","section.ehh.ineligible.reasons.dailymaxhours":"Overtime Limit","section.ehh.ineligible.reasons.weeklymaxhours":"Overtime Limit","section.ehh.ineligible.reasons.weeklyworkdays":"Overtime Limit","section.ehh.ineligible.reasons.overlapping":"Shift Overlap","section.ehh.ineligible.reasons.turnaround":"Shift Turnaround","section.ehh.ineligible.reasons.notinpopulation":"Open to local Cast only","section.ehh.ineligible.reasons.outsideofrule":"Not Yet Available","section.printable-schedule.schedule-current":"Schedule current as of","section.calendar.info.help":"Help","section.calendar.info.legend":"Legend","section.calendar.message.zeroallocation":"Please delete a pending request before adding a new request","section.calendar.text.weeklytab":"Posted Schedule","section.calendar.text.monthlytab":"Monthly View","section.calendar.text.hasappointment":"Vacation Bid Appointment: Yes","section.calendar.text.noappointment":"Vacation Bid Appointment: No","section.calendar.text.unanswered":"Vacation Bid Appointment: Not Selected","section.calendar.text.reminder":"Reminder: If benefit time is not available at the time of schedule creation, then approved time off could be cancelled.","section.calendar.week.emptyday":"No Shifts","section.calendar.futureRequests.link":"Future Requests","section.calendar.futureRequests.title":"All Future Requests","section.calendar.futureRequests.table.header.requesteddate":"Requested Date","section.calendar.futureRequests.table.header.requesteddateavailability":"Request Status","section.calendar.futureRequests.table.header.requesteddatepaytype":"Pay Type","section.calendar.futureRequests.buttontitle":"Future Requests","section.calendar.futureRequests.edit.title":"Edit this request date","section.calendar.futureRequests.emptyTimeoffRequests":"No Time Off Requests","section.calendar.futureRequests.emptyAhsuRequests":"No Additional Availability","section.calendar-maintenance.title":"Seniority Based Time Off Calendar","section.calendar-maintenance.search.placeholder":"Select Calendar Name","section.calendar-maintenance.search.allcalendars":"All Calendars","section.calendar-maintenance.create.title":"+ Create New Calendar","section.calendar-maintenance.calendar.column.name":"Calendar Name","section.calendar-maintenance.calendar.column.waitlistorder":"Waitlist Order","section.calendar-maintenance.waitlistorder.placeholder":"Enter wait list order name","section.calendar-maintenance.calendar.column.crinclusion":"CR Inclusion","section.calendar-maintenance.calendar.addCalendar":"Save And Continue","section.calendar-maintenance.calendar.save":"Save","section.calendar-maintenance.calendar.savemessage":"Save completed","section.calendar-maintenance.calendar.navigate-to-landing-page":"Back","section.calendar-request-periods.label.expandall":"Expand All","section.calendar-request-periods.label.collapseall":"Collapse All","section.calendar-request-periods.label.pastdates":"Include Past Dates","section.calendar-request-periods.label.addrequestperiod":"+ Add Request Period","section.calendar-request-periods.column.requeststart":"Request Start","section.calendar-request-periods.column.requestend":"Request End","section.calendar-request-periods.column.bidType":"Bid Type","section.calendar-request-periods.column.allotment":"Allotment","section.calendar-request-periods.column.seniorityType":"Seniority Type","section.calendar-request-periods.column.vacationBidType":"Vacation Bid Type","section.calendar-request-periods.column.vacationBidType.questionstart":"Question Start","section.calendar-request-periods.column.vacationBidType.questionend":"Question End","section.calendar-request-periods.column.vacationBidType.collectionstart":"Collection Start","section.calendar-request-periods.column.vacationBidType.collectionend":"Collection End","section.calendar-request-periods.column.vacationBidType.evaluationstart":"Evaluation Start","section.calendar-request-periods.column.vacationBidType.evaluationend":"Evaluation End","section.calendar-request-periods.column.vacationBidType.evaluationdate":"Evaluation Date","section.calendar-request-periods.column.adHocType":"AdHOC Type","section.calendar-request-periods.column.adHocStart":"AdHOC Start","section.calendar-request-periods.column.adhocType.firstprocessing":"First Processing","section.calendar-request-periods.column.adhocType.processingfrequency":"Processing Frequency","section.calendar-request-periods.adhocType.processingfrequency.errormessage":"Greater than 0","section.calendar-maintenance.allotment.title":"Add Allotment Type","section.calendar-maintenance.allotment.column.name":"Name","section.calendar-maintenance.allotment.column.floatingholidays":"Floating Holidays","section.calendar-maintenance.allotment.column.ebbank":"EB Bank","section.calendar-maintenance.allotment.createallotment":"Add Allotment","section.calendar-maintenance.allotment.accrual.column.from":"From","section.calendar-maintenance.allotment.accrual.column.to":"To","section.calendar-maintenance.allotment.accrual.column.noofdays":"# of Days","section.calendar-maintenance.allotment.createaccrual":"Add Row","section.callback.text.from":"I would like a call back from ","section.callback.select.shiftdate":"Select a Shift Date","section.callback.label.shiftdate":"Shift Date","section.callback.label.shift":"Shift","section.callback.label.reason":"Reason","section.callback.label.at":"My call back number","section.callback.label.myleader":"My Leadership Team","section.callback.label.shiftleader":"Shift Leadership Team","section.help.label":"Help","section.help.goback":"Go back to previous page","section.help.legend.approved":"Your time off request for this day has been approved","section.help.legend.waitlisted":"You have been added to the waitlist for approved time off","section.help.legend.pending":"Your time off request is pending","section.help.legend.waitcount":"This date has a waitlist (if you submit a time off request on this date, you will be automatically added to the waitlist)","section.help.legend.rdo":"This is your regular day off (RDO)","section.trade.title":"Shift Trade","section.trade.blocked":"Please wait for your prior trade to process before trading again. Refresh your screen or check back later. This could take a few minutes.","section.trade.blocked.recipient":"Please wait for their prior trade to process before trading with them. Refresh your screen or check back later. This could take a few minutes.","section.threshold.approved":"Approved","section.threshold.approvedtime":"Approved Time Off","section.threshold.waitlist":"Waitlist","section.threshold.waitlists":"Waitlists","section.threshold.text.waitlistfrom":"Viewing waitlists from:","section.threshold.text.approvedfrom":"Viewing approved time off from:","section.pool.title.orgunit":"Associated Org Units","section.pool.title.jobkeys":"Job Keys","section.pool.check.inactive":"Include Inactive Pools","section.pool.button.createpool":"+ Create New Pool","section.pool.label.poolname":"Pool Name *","section.pool.label.bidtype":"Vacation Bid Type","section.pool.label.postday":"Block Out Day *","section.pool.label.effectstart":"Effective Start Date *","section.pool.label.effectend":"Effective End Date *","section.pool.label.blockdays":"Block Out Days *","section.pool.label.calendar":"Time Off Calendar *","section.pool.label.orgunit":"Org Unit Number *","section.pool.label.addorgunit":"Add Org Unit","section.pool.label.addjobkey":"Add Job Key","section.pool.label.example":"ex. MER AK Dinoland Sales Coordinator","section.pool.lookup.org.noresults":"No org unit exists with that id","section.pool.lookup.job.noresults":"No job key exists with that id","section.transfer.label.oldorg":"Old Org Unit Number","section.transfer.label.neworg":"New Org Unit Number","section.transfer.label.reason":"Transfer Reason","section.transfer.label.reason.placeholder":"Please provide the transfer reason","section.transfer.button.addtransfer":"+ Add New Transfer","section.transfer.button.edit":"Edited Selected","section.transfer.title.add":"Add Transfer","section.transfer.title.edit":"Edit Transfer","section.transfer.modal.enddate":"End Date","section.error.title.unauthorized":"Unauthorized","section.error.message.unauthorized":"You are not authorized to access this application.","section.error.title.notfound":"Page Not Found","section.error.message.notfound":"The page you are trying to find does not exist","section.error.title.invalidcast":"Invalid Cast Member Data","section.error.message.invalidcast":"We were unable to retrieve your cast member data.","notifications.label.notice":"Notice","notifications.label.warning":"Warning","notifications.label.error":"Error","notifications.label.success":"Success","notifications.message.noshifts":"There are no eligible shifts.","notifications.message.noperner":"Perner does not exist. Please enter a valid perner.","notifications.message.nopaytypes":"No pay types exist. Selection not possible.","notifications.message.wrong":"Something went wrong. Please refresh the page and try again.","notifications.message.saved":"Changes were successfully saved.","notifications.message.search.noresults":"No records were found matching your search criteria","notifications.warning.noselection":"You must make a selection","notifications.exception.unexpected":"An exception without any message was caught.","notifications.late.message.notime":"There are no scheduled shifts.","notifications.late.message.defaulttime":"You must select a time after the start of the shift.","notifications.late.message.invalidtime":"Arrival time can not be at or after the end of the shift.","notifications.calendar.message.noschedulepool":"Cast Member is not part of an existing Schedule Pool. Please contact Workforce Management if assistance is needed.","notifications.calendar-request-periods.overlapping":"Request periods are overlapping","notifications.bid.message.notscheduler":"Cast Member is not a scheduler.","notifications.shift-maintenance.assign-to-cast":"Assign To Cast was successful","modal.calendar.futurerequests.title":"Future Requests","modal.request.header.add":"Request Time Off","modal.request.header.edit":"Edit Time off","modal.request.body.add":"Complete the following form to submit your request","modal.request.override":"Leader Override","model.request.daterange.error":"Date range must be within 7 days","model.request.daterange.error.ahsu":"Date range must be within 7 weeks","modal.expiration.title.warning":"Expiration Warning","modal.expiration.title.expired":"Page Expired","modal.expiration.message.warning":"This page will expire unless a response is received within 2 minutes. Click OK to prevent expiration.","modal.expiration.message.expired":"The page has expired. Click OK to refresh the page.","modal.message.cancel":"Are you sure you want to cancel? This will erase all changes.","modal.message.delete":"Are you sure you want to delete? This can not be undone.","modal.title.cancel":"Cancel Changes","modal.close.x":"X","modal.timeoff.message.delete":"Are you sure you wish to delete these time off requests?","modal.timeoff.message.delete.adjusted-seniority-date":"Are you sure you wish to delete the adjusted date?","modal.timeoff.title.delete":"Delete Time off Request","modal.timeoff.title.delete.adjusted-seniority-date":"Delete Adjusted Date","modal.timeoff.override.title":"Override Waitlist","modal.timeoff.override.list.header":"Submitting this Waitlist Override will:","modal.timeoff.override.list.thresholds":"Exceed Time-Off Thresholds","modal.timeoff.override.list.bypass":"Bypass other Cast Members on the Waitlist","modal.timeoff.override.leader.header":"Do you wish to submit this Waitlist Override?","modal.timeoff.override.leader.name":"Enter Approving Leader Name","modal.timeoff.message.bidappt":"I want a vacation bid appointment?","modal.timeoff.message.allotmentbalance.exceeded":"Please delete a pending request before adding a new request","modal.ahsu.message.delete":"Are you sure you wish to delete these additional availability requests?","modal.ahsu.title.delete":"Delete Additional Availability Request","modal.threshold.comment.title":"Submit Time Off Threshold","modal.threshold.comment.label":"Add a comment associated with your change","modal.threshold.comment.placeholder":"Enter comment","modal.bid.header.title":"Adjust Bid Seniority Date","placeholder.threshold.poolname":"Select Pool Name","placeholder.transfer.orgunit":"Different Org Units Selected","placeholder.transfer.enddate":"Different End Dates Selected","placeholder.transfer.perners":"Enter one or more perners, comma separated","placeholder.bid.filter":"Enter a perner or name","calendar.weekday.label.0":"Sun","calendar.weekday.label.1":"Mon","calendar.weekday.label.2":"Tue","calendar.weekday.label.3":"Wed","calendar.weekday.label.4":"Thu","calendar.weekday.label.5":"Fri","calendar.weekday.label.6":"Sat","section.transfer.table.header.perner":"Perner","section.transfer.table.header.fullname":"Cast Member Name","section.transfer.table.header.oldorg":"Old Org Unit","section.transfer.table.header.neworg":"New Org Unit","section.transfer.table.header.enddate":"End Date","section.bid.page.title":"Seniority Based Time Off Processing","section.bid.table.header.castmemberbidstatus":"Processed?","section.bid.table.header.appointmentstatus":"Appointment?","section.bid.table.header.senioritydate":"Seniority Date","section.bid.table.header.vacationbidoverridedate":"Adjusted Date","section.bid.table.header.requesteddate":"Requested Date","section.bid.table.header.requesteddateavailability":"Availability","section.bid.label.filter":"Filter Search Results","section.bid.label.filter.processed":"Show processed Cast Members","validation.out.selectshift":"Please select at least one shift","validation.out.calltype.empty":"Please select a call-out type","validation.transfer.search":"You must fill out at least ONE field","validation.perner.empty":"Perner is required","validation.perner.required":"Perner is required","validation.perner.pattern":"Perner can only be numbers","validation.perner.minlength":"Perner must be 8 characters long","validation.perners.required":"Please enter one or more perners","validation.phone.empty":"Phone is required","validation.phone.pattern":"Phone can only contain numbers","validation.phone.minlength":"Phone must have at least 10 digits","validation.date.required":"Date is required","validation.reason.empty":"Reason is required","validation.reason.maxlength":"Maximum length is 48 characters","validation.poolname.required":"Pool name is required","validation.poolname.maxlength":"Maxium length is 50 characters","validation.startdate.required":"Start date is required","validation.enddate.required":"End date is required","validation.daterange":"Start Date must proceed End Date","validation.orgunit.required":"Org unit cannot be empty","validation.orgunit.pattern":"Org unit can only be numbers","validation.orgunit.minlength":"Org unit must be 8 characters long","validation.jobkey.required":"Job key cannot be empty","validation.jobkey.pattern":"Job key can only be numbers","validation.jobkey.minlength":"Job key must be 8 characters long","validation.blockdays.required":"Block out day is required","validation.blockdays.pattern":"Block out day can only have numbers 1-9"}}();var stubs={perner:"00142749",cast:{hasError:!1,data:{perner:"00142749",name:"Christina Desilets",orgUnit:"10007679(ATR-EC WSC Canada)",employeeSubGroup:"02(Regular NE)",phones:[]}},shifts:[{isCallOutAllowed:!1,shifts:[{shiftId:114280318,shiftDate:"2015-08-10T00:00:00",shiftStartTime:"2015-08-10T14:00:00",shiftEndTime:"2015-08-10T17:00:00",schedulingPositionDescription:"EC Seasons TRG REQ`F&B Shift Conversion"}]},{isCallOutAllowed:!1,shifts:[{shiftId:114280319,shiftDate:"2015-08-10T00:00:00",shiftStartTime:"2015-08-10T20:00:00",shiftEndTime:"2015-08-10T23:00:00",schedulingPositionDescription:"EC Fountainview TRG REQ`F&B Shift Conve"}]}],callOutTypes:{hasError:!1,data:[{id:1,name:"Call In",isDefault:!1},{id:2,name:"Call Sick",isDefault:!0},{id:3,name:"FMLA Self",isDefault:!1},{id:4,name:"FMLA Other",isDefault:!1},{id:5,name:"Bereavement",isDefault:!1},{id:6,name:"Jury Duty",isDefault:!1},{id:7,name:"No Call No Show",isDefault:!1}]},payTypes:{hasError:!1,data:[{id:1,name:"Unpaid",isDefault:!0,callOutRuleId:25},{id:6,name:"Floating Holiday",isDefault:!1,callOutRuleId:28},{id:4,name:"Sick",isDefault:!1,callOutRuleId:61},{id:5,name:"Vacation",isDefault:!1,callOutRuleId:94}]},bids:{hasError:!1,requested:4,available:4,data:[{id:114311513,type:"vacation",startDate:"2015-08-15",endDate:"2015-08-16",calendar:[{type:"available",date:"2015-08-12"},{type:"available",date:"2015-08-13"},{type:"available",date:"2015-08-14"},{type:"reserved",date:"2015-08-15"},{type:"reserved",date:"2015-08-16"},{type:"RDO",date:"2015-08-17"},{type:"available",date:"2015-08-18"},{type:"RDO",date:"2015-08-19"},{type:"unavailable",date:"2015-08-20"},{type:"unavailable",date:"2015-08-21"},{type:"unavailable",date:"2015-08-22"},{type:"unavailable",date:"2015-08-23"},{type:"RDO",date:"2015-08-24"},{type:"available",date:"2015-08-25"}],description:"Family in town"},{id:114311273,type:"vacation",startDate:"2015-08-15",endDate:"2015-08-16",calendar:[{type:"available",date:"2015-08-12"},{type:"available",date:"2015-08-13"},{type:"available",date:"2015-08-14"},{type:"reserved",date:"2015-08-15"},{type:"reserved",date:"2015-08-16"},{type:"RDO",date:"2015-08-17"},{type:"available",date:"2015-08-18"},{type:"RDO",date:"2015-08-19"},{type:"unavailable",date:"2015-08-20"},{type:"unavailable",date:"2015-08-21"},{type:"unavailable",date:"2015-08-22"},{type:"unavailable",date:"2015-08-23"},{type:"RDO",date:"2015-08-24"},{type:"available",date:"2015-08-25"}],description:"Concert"},{id:114311538,type:"vacation",startDate:"2015-08-15",endDate:"2015-08-16",calendar:[{type:"available",date:"2015-08-12"},{type:"available",date:"2015-08-13"},{type:"available",date:"2015-08-14"},{type:"reserved",date:"2015-08-15"},{type:"reserved",date:"2015-08-16"},{type:"RDO",date:"2015-08-17"},{type:"available",date:"2015-08-18"},{type:"RDO",date:"2015-08-19"},{type:"unavailable",date:"2015-08-20"},{type:"unavailable",date:"2015-08-21"},{type:"unavailable",date:"2015-08-22"},{type:"unavailable",date:"2015-08-23"},{type:"RDO",date:"2015-08-24"},{type:"available",date:"2015-08-25"}],description:"Baseball Game"},{id:114311539,type:"vacation",startDate:"2015-08-15",endDate:"2015-08-16",calendar:[{type:"available",date:"2015-08-12"},{type:"available",date:"2015-08-13"},{type:"available",date:"2015-08-14"},{type:"reserved",date:"2015-08-15"},{type:"reserved",date:"2015-08-16"},{type:"RDO",date:"2015-08-17"},{type:"available",date:"2015-08-18"},{type:"RDO",date:"2015-08-19"},{type:"unavailable",date:"2015-08-20"},{type:"unavailable",date:"2015-08-21"},{
type:"unavailable",date:"2015-08-22"},{type:"unavailable",date:"2015-08-23"},{type:"RDO",date:"2015-08-24"},{type:"available",date:"2015-08-25"}],description:"Funeral"}]},schedule:{"2016-01-31":[{startTime:"2016-01-31 00:00:00",endTime:"2016-01-31 23:59:59",available:!0}],"2016-02-01":[{startTime:"2016-02-01 00:00:00",endTime:"2016-02-01 23:59:59",available:!0}],"2016-02-02":[{startTime:"2016-02-02 00:00:00",endTime:"2016-02-02 23:59:59",available:!1,pay:{type:"RDO",label:"RDO"}}],"2016-02-03":[{startTime:"2016-02-03 00:00:00",endTime:"2016-02-03 23:59:59",available:!1,pay:{type:"RDO",label:"RDO"}}],"2016-02-04":[{startTime:"2016-02-04 00:00:00",endTime:"2016-02-04 23:59:59",available:!0}],"2016-02-05":[{shiftId:141283082,title:"EC Mission Space ",startTime:"2016-02-05 20:00:00",endTime:"2016-02-06 02:00:00",pay:{type:"Work",label:"W"}}],"2016-02-07":[{startTime:"2016-02-07 00:00:00",endTime:"2016-02-07 23:59:59",pay:{type:"PDO",label:"P"}}],"2016-02-08":[{startTime:"2016-02-08 00:00:00",endTime:"2016-02-08 23:59:59",pay:{type:"PDO",label:"P"}}],"2016-02-09":[{startTime:"2016-02-09 00:00:00",endTime:"2016-02-09 23:59:59",available:!0}],"2016-02-010":[{startTime:"2016-02-10 00:00:00",endTime:"2016-02-10 23:59:59",available:!0}],"2016-02-011":[{startTime:"2016-02-11 00:00:00",endTime:"2016-02-11 23:59:59",available:!0}],"2016-02-12":[{shiftId:141283082,title:"EC Mission Space ",startTime:"2016-02-12 13:00:00",endTime:"2016-02-12 20:00:00",waitlist:!0,pay:{type:"Work",label:"W"}}],"2016-02-13":[{shiftId:141283082,title:"EC Mission Space ",startTime:"2016-02-13 13:00:00",endTime:"2016-02-13 20:00:00",pay:{type:"Work",label:"W"}}],"2016-02-14":[{shiftId:141283082,title:"EC Mission Space ",startTime:"2016-02-14 13:00:00",endTime:"2016-02-14 20:00:00",pay:{type:"Work",label:"W"}}],"2016-02-16":[{shiftId:141283082,title:"EC Mission Space ",startTime:"2016-02-16 13:00:00",endTime:"2016-02-16 20:00:00",pay:{type:"Work",label:"W"}}],"2016-02-17":[{shiftId:141283082,title:"EC Mission Space ",startTime:"2016-02-17 13:00:00",endTime:"2016-02-17 20:00:00",pay:{type:"Work",label:"W"}}],"2016-02-21":[{startTime:"2016-02-21 00:00:00",endTime:"2016-02-21 23:59:59",available:!0}],"2016-02-22":[{startTime:"2016-02-22 00:00:00",endTime:"2016-02-22 23:59:59",available:!0}],"2016-02-26":[{shiftId:141283083,title:"EC Mission Space ",startTime:"2016-02-26 10:00:00",endTime:"2016-02-26 17:30:00",pay:{type:"Work",label:"W"}},{shiftId:141283084,title:"EC Mission Space ",startTime:"2016-02-26 20:00:00",endTime:"2016-02-27 01:00:00",pay:{type:"Work",label:"W"}}],"2016-02-15":[{title:"Trip to Alaska",startTime:"2016-02-15 00:00:00",endTime:"2016-02-15 23:59:59",pay:{type:"vacation",label:"V"}}],"2016-02-23":[{startTime:"2016-02-23 00:00:00",endTime:"2016-02-23 23:59:59",pay:{type:"bereavement",label:"B"}}],"2016-02-24":[{startTime:"2016-02-24 00:00:00",endTime:"2016-02-24 23:59:59",available:!0}],"2016-02-25":[{startTime:"2016-02-25 00:00:00",endTime:"2016-02-25 23:59:59",available:!0}],"2016-02-18":[{title:"RDO",startTime:"2016-02-18 00:00:00",endTime:"2016-02-20 23:59:59",available:!1,pay:{type:"RDO",label:"RDO"}}],"2016-02-28":[{startTime:"2016-02-28 00:00:00",endTime:"2016-02-28 23:59:59",available:!0}],"2016-02-29":[{shiftId:141283083,title:"EC Mission Space ",startTime:"2016-02-29 10:00:00",endTime:"2016-02-29 17:30:00",pay:{type:"Work",label:"W"}}],"2016-03-01":[{startTime:"2016-03-01 00:00:00",endTime:"2016-03-01 23:59:59",available:!0}]}};!function(){"use strict";function a(){}angular.module("app.layout").config(a)}(),function(){"use strict";function a(a,b){function c(c){var d='<div alert-modal id="'+c.alertModalId+'"> </div>';$("body").append(d);var e=a.$new(!1);e.onAcknowledge=c.onAcknowledge,e.headline=c.headline,e.explanation=c.explanation,b($("#"+c.alertModalId)[0])(e)}return{launchAlertModal:c}}angular.module("app.services").factory("alertModalService",a),a.$inject=["$rootScope","$compile"]}(),function(){"use strict";function a(a,b,c,d){function e(e){var f=c.getEnvPath("cms/getContent/"+e);return a.get(f,{timeout:d.xhr}).success(function(a){return a.body}).error(function(a){return b.defer().reject(a.body)})}function f(a){var b=a[a.length-1].customProperties.Answer,c=b.indexOf('"')+1,d=b.indexOf('"',c);return b.substring(c,d)}return{getContent:e,getUrl:f}}angular.module("app.services").factory("cmsService",a),a.$inject=["$http","$q","utilities","timeout"]}(),function(){"use strict";function a(){}angular.module("app.services").config(a)}(),function(){"use strict";function a(a,b){function c(c,d){var e=b.defer();return a({method:"GET",url:"https://mbt-gopublish.cloud.corp.dig.com/productiondcs/dcs/content/"+d+"?format=json&expanded=true"}).success(function(a,b,c,d){e.resolve(a)}).error(function(a,b,c,d){e.reject(b)}),e.promise}return{getContent:c}}angular.module("app.services").factory("contentService",a),a.$inject=["$http","$q"]}(),function(){"use strict";function a(){function a(a){var c=null,d=b();switch(a){case d.ehhShiftUnavailable:c={headline:"section.shiftdetail.unavailable.headline",explanation:"section.shiftdetail.unavailable.explanation"}}return c}function b(){return{ehhShiftUnavailable:1}}return{getError:a,getErrorCodes:b}}angular.module("app.services").factory("errorMessageService",a),a.$inject=[]}(),function(){"use strict";function a(){function a(a){return window.i18n.en[a]}return{getLocale:a}}angular.module("app.services").factory("language",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){return{unauthorized:0,self:1,onBehalfOf:2}}function g(e){var f=c.getEnvPath("schedule/getAllFutureRequests/");return a.get(f+e,{timeout:d.xhr}).success(function(a){return a.body}).error(function(a){b.defer().reject(a.body)})}function h(e){var f=c.getEnvPath("schedule/getFutureRequests/");return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function i(e){var f=c.getEnvPath("schedule/getSchedule/");return a.get(f+e,{timeout:d.xhr}).success(function(a){return a.body}).error(function(a){b.defer().reject(a.body)})}function j(e){var f=c.getEnvPath("schedule/getPayTypes/");return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function k(){return{past:"Past",blocked:"Blocked",adhoc:"AdHoc",bid:"BidPeriod"}}function l(a){return q.allotmentBalance=angular.isDefined(a)?a:q.allotmentBalance,q.allotmentBalance}function m(e){var f=c.getEnvPath("schedule/submitTimeoff/");return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){return a.body}).error(function(a){return b.defer().reject(a.body)})}function n(e){var f=c.getEnvPath("schedule/deleteTimeoff/");return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){return a.body.data}).error(function(a){return b.defer().reject(a.body.data)})}function o(e){var f=c.getEnvPath("schedule/submitBidAppt/");return a.post(f,e,{timeout:d.xhr,headers:{"Content-Type":"application/json"}}).success(function(a){return a.body}).error(function(a){return b.defer().reject(a.body)})}function p(a){return a.map(function(a,b){return{currentPool:{id:a.id,name:a.name},startDate:a.startDateTime,endDate:a.endDateTime,display:a.name+": "+e(a.startDateTime).format("MM/DD/YYYY")+" - "+e(a.endDateTime).format("MM/DD/YYYY")}})}var q=this;return{getAllFutureRequests:g,getSchedule:i,getFutureRequests:h,getPayTypes:j,getDayStates:k,submitTimeoff:m,deleteTimeoff:n,getAllotmentBalance:l,submitBidAppt:o,getBidPools:p,getAccessStates:f}}angular.module("app.services").factory("scheduleService",a),a.$inject=["$http","$q","utilities","timeout","moment"]}(),function(){"use strict";function a(a,c,d){function e(d,e){var f=!1,g=c.defer(),h=f?"http://myschedule-dev.cloud.corp.dig.com/testdata/shiftdetail.json":b.app+"shift/"+d+"?shiftId="+e;return a({method:"GET",url:h}).success(function(a,b,c,d){g.resolve(a)}).error(function(a,b,c,d){g.reject(b)}),g.promise}return{getDetails:e}}var b={app:"http://sena-apps.wdw.disney.com/LSMMobileAPI/",dev:"http://sena-devapps.wdw.disney.com/LSMMobileAPI/",qa:"http://sena-appsqa.wdw.disney.com/LSMMobileAPI/"};angular.module("app.services").factory("shiftDetailService",a),a.$inject=["$http","$q","utilities"]}(),function(){"use strict";function a(a,b,c,d,e){function f(b){var e=c.getEnvPath("shift/")+b;return a.get(e,{timeout:d.xhr})}function g(b){var e=c.getEnvPath("shift/search/")+b.date+"/"+b.perner+"/"+b.isEligible+"/"+b.isMyLocation;return a.get(e,{timeout:d.xhr})}function h(b){var e=c.getEnvPath("shift/")+b+"/reopen";return a.post(e,{},{timeout:d.xhr})}function i(b,e,f,g){var h=c.getEnvPath("shift/")+e+"/signUp",i={perner:b,isRecommended:f};return c.hasValue(g)&&(i.swapBackShiftId=g),a.post(h,i,{timeout:d.xhr})}function j(e){var f=c.getEnvPath("shift/getAll/"),g=b.defer();return a.get(f+e,{timeout:d.xhr}).success(function(a){o.shifts=a.body.data,g.resolve(a.body.data)}).error(function(a){g.reject(a.body)}),g.promise}function k(e){var f=c.getEnvPath("shift/getSchedule/"),g=b.defer();return a.get(f+e,{timeout:d.xhr}).success(function(a){o.shifts=a.body,g.resolve(a.body)}).error(function(a){g.reject(a.body)}),g.promise}function l(e,f,g){var h=c.getEnvPath("shift/getInRange/"),i=b.defer();return a.get(h+e+"/"+f+"/"+g,{timeout:d.xhr}).success(function(a){i.resolve(a.body)}).error(function(a){i.reject(a.body)}),i.promise}function m(e,f){var g=c.getEnvPath("shift/getDetails/");return a.get(g+e+"/"+f,{timeout:d.xhr}).success(function(a){return a}).error(function(a){return b.defer().reject(a)})}function n(e,f,g,h,i){var j=c.getEnvPath("shift/")+e;return!0===i&&(j+=!1===g?"/Ineligible/"+h:f?"/Recommendation/"+h:"/OpenShift/"+h),a.get(j,{timeout:d.xhr}).success(function(a){return a}).error(function(a){return b.defer().reject(a)})}var o={get:f,getShifts:j,getSchedule:k,scheduleDateFormat:"MM/DD/YYYY HH:mm:SS",getShiftsInRange:l,shifts:{},getShiftDetails:m,getShift:n,signUp:i,reopen:h,search:g};return o}angular.module("app.services").factory("shiftService",a),a.$inject=["$http","$q","utilities","timeout","$timeout"]}(),function(){"use strict";function a(a){function b(b){a.spinner&&a.spinner.start(b)}function c(b){a.spinner&&a.spinner.stop(b)}return{spin:b,stop:c}}angular.module("app.services").factory("spinnerService",a),a.$inject=["$rootScope"]}(),function(){"use strict";function a(a,b){function c(){f(),g(),d(),e()}function d(){h.handle.expiration=window.setTimeout(function(){i.warning&&i.warning.dismiss(),i.expiration=b.notify(a.getLocale("modal.expiration.title.expired"),a.getLocale("modal.expiration.message.expired")),i.expiration.result.then(function(){window.location.reload(1)})},h.expiration)}function e(){h.handle.warning=window.setTimeout(function(){i.warning=b.notify(a.getLocale("modal.expiration.title.warning"),a.getLocale("modal.expiration.message.warning")),i.warning.result.then(function(){return c()})},h.warning)}function f(){h.handle.warning&&window.clearTimeout(h.handle.warning)}function g(){h.handle.expiration&&window.clearTimeout(h.handle.expiration)}var h={handle:{expiration:0,warning:0},expiration:12e5,warning:108e4},i={expiration:{},warning:{}};return window.activity=parseInt((h.expiration-h.warning)/1e3/60),{start:c,xhr:6e4}}angular.module("app.services").service("timeout",a),a.$inject=["language","dialogs"]}(),function(){"use strict";function a(a,b,c,d){function e(a){return a&&(a=a.trim()),a}function f(a){var b=a;return null!==b&&b.length>0&&-1===b.indexOf("(")&&(10===b.length?b=b.substr(0,3)+"-"+b.substr(3,3)+"-"+b.substr(6,4):b.length>10&&(b=b.substr(0,1)+"-"+b.substr(1,3)+"-"+b.substr(4,3)+"-"+b.substr(7,4))),b}function g(b){return a.$$absUrl+b}function h(b){var c=a.$$protocol+"://"+a.$$host;return b=b||"",80!==a.$$port&&(c+=":"+a.$$port),c+="/"+b}function i(a){return API_HOST+"/api/v1/"+a}function j(){return["/","/late","/leader","/trade","/schedule"]}function k(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function l(a){return angular.isDefined(a)&&null!==a&&""!==a}function m(a){function b(a){if("string"==typeof a||"number"==typeof a)return a;var e=a.length;if(e){e|=0;var f=[];f.length=e;for(var g=0;g<e;g++)d=a[g],f[g]="string"==typeof d?d:b(d);return f}var h={};for(var i in a){var j="string"==typeof i?i:String(i),k=c[j];void 0===k&&(k=j.substring(0,1).toLowerCase()+j.substring(1),c[j]=k),d=a[i],h[k]="string"==typeof d?d:b(d)}return h}var c={},d={};return b(a)}function n(a,c,d){var e=angular.element(a),f=angular.element("#custom-backdrop");"focus"===c?(e.addClass("show"),f.addClass("show"),!1!==d&&b.scrollTo(0,0),$("body").addClass("hide-scrollbar")):(e.removeClass("show"),f.removeClass("show"),$("body").removeClass("hide-scrollbar"))}function o(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")&&parseInt(a.split("msie")[1])}function p(a){for(var b=document.querySelectorAll(a),c=0;c<b.length;c++)b[c].parentNode.insertBefore(b[c],b[c])}function q(a){localStorage.removeItem("userSearch"),localStorage.removeItem("userSession"),a.destroySession().then(function(a){window.location.href="mobile"===device?MOBILE_RETURN:PORTAL_RETURN}).catch(function(a){console.error(a)})}function r(){return l(c.$current.locals["@cast"])?c.$current.locals["@cast"].session:null}function s(a){return!isNaN(parseFloat(a))&&isFinite(a)}function t(){return $("body")[0].clientWidth<1200}function u(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}return{getAbsPath:g,getDomain:h,getEnvPath:i,getLsmRoutes:j,isEmpty:k,hasValue:l,formatPhone:f,propertyToLower:m,visibility:n,isIE:o,forceRender:p,redirectToOrigin:q,getSession:r,isNumeric:s,removeSpace:e,isMobileWidth:t,getQueryParameterByName:u}}angular.module("app.services").factory("utilities",a),a.$inject=["$location","$window","$state","moment"]}(),function(){"use strict";function a(){function a(){return new RegExp(/^[0-9]*$/)}function b(){return new RegExp(/^[0-9-]*$/)}function c(){return new RegExp(/^[1-9][0-9]*$/)}return{onlyNumbers:a,phoneNumbers:b,onlyNaturalNumbers:c}}angular.module("app.services").factory("validation",a)}(),angular.module("app.directives").directive("alertModal",alertModal),alertModal.$inject=["utilities","language"],angular.module("app.directives").directive("confirmDialog",confirmDialog),confirmDialog.$inject=["utilities","language"],function(){"use strict";function a(){function a(a){a.altVm.id=a.id,a.altVm.count=parseInt(a.count),a.altVm.dateFormat="MM/dd/yyyy",a.altVm.minDate="01/03/2016",a.altVm.maxDate="01/07/2017",a.altVm.status={start:{open:!1},end:{open:!1}},a.altVm.dateOptions={"year-format":"'yy'","show-weeks":!1},a.$watch("altVm.startDate",function(){var b=a.altVm.startDate,c=a.altVm.endDate;moment(c)<moment(b)&&(a.altVm.endDate=moment(b).format("MM/DD/YYYY").toString())}),a.altVm.startDate=a.$parent.alternateDate&&a.$parent.alternateDate.startDate?a.$parent.alternateDate.startDate:a.altVm.minDate,a.altVm.endDate=a.$parent.alternateDate&&a.$parent.alternateDate.endDate?a.$parent.alternateDate.endDate:a.altVm.minDate,a.altVm.openDatePicker=b}function b(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function c(a,b){function c(b){a.altVm.element.remove(),a.$emit("ui.alternate.removed",b)}a.altVm.removeAlt=c,a.altVm.element=b}var d={replace:!1,restrict:"A",templateUrl:"app/directives/partials/alternate-date.html",scope:{id:"@id",startDate:"=startDate",endDate:"=endDate",count:"@count"},controller:a,controllerAs:"altVm",link:c};return a.$inject=["$scope"],d}angular.module("app.directives").directive("alternateDate",a)}(),function(){"use strict";function a(){function a(a,b){var c={schedule:null,about:"About",feedback:"Feedback/Support",faq:"FAQs"};a.history||(a.history=[]),a.backVm.ref=b.$$url.split("/")[1],a.backVm.title=c[a.backVm.ref],a.history.push({ref:a.backVm.ref,title:a.backVm.title})}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/back-arrow.html",controller:a,controllerAs:"backVm"};return a.$inject=["$scope","$location"],b}angular.module("app.directives").directive("backArrow",a)}(),function(){"use strict";function a(){function a(a,b,c){function d(){e(b.getUserSearch()),f.link=PORTAL_NOTIFICATION_URL}function e(a){a&&a.access&&(f.notification={show:a.access.hasNotification,count:a.unReadNotificationCount})}var f=this;a.$on("event.userSessionSet",function(a,b){e(b)}),d()}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/bell-notification.html",controller:a,controllerAs:"bellNotificationVm"};return a.$inject=["$scope","castService","utilities"],b}angular.module("app.directives").directive("bellNotification",a)}(),function(){"use strict";function a(){function a(a,b,c,d,e,f,g,h,i){function j(a,b){a.preventDefault(),a.stopPropagation(),"start"===b?this.status.start.open=!0:"end"===b&&(this.status.end.open=!0)}function k(a,b){var c=0;return angular.forEach(a,function(){var d="altId["+c+"]",e="altStartDate["+c+"]",f="altEndDate["+c+"]";angular.isDefined(a[d])&&angular.isDefined(a[e])&&angular.isDefined(a[f])&&a[d].$modelValue===b&&(delete a[d],delete a[e],delete a[f]),c++}),a}function l(a,b){if(b.bidFormVm.altCounter<3){var d=angular.element("#"+a),e=c('<div alternate-date data-count="'+b.bidFormVm.altCounter+'" class="alternate-date"></div>')(b);d.append(e),b.bidFormVm.altCounter++}}function m(a,b){h.closeModal(a,b)}function n(a){a.bidFormVm.saveBid({arg1:a.bidForm})}function o(a){a.bidFormVm.deleteBid({arg1:a.bidForm})}var p=a.$parent.bid;a.index=a.$parent.index,a.bidFormVm.dateFormat="MM/dd/yyyy",a.bidFormVm.status={start:{open:!1},end:{open:!1}},a.bidFormVm.dateOptions={"year-format":"'yy'","show-weeks":!1},a.bidFormVm.minDate="01/03/2016",a.bidFormVm.maxDate="01/07/2017",a.bidFormVm.startDate=a.bidFormVm.minDate,a.bidFormVm.endDate=a.bidFormVm.minDate,a.bidFormVm.editModal=0,a.bidFormVm.altCounter=0,a.bidFormVm.waitlist=!0,a.bidFormVm.bidForm={},a.bidFormVm.saveBid=a.save,a.bidFormVm.deleteBid=a.delete,a.bidFormVm.deleteAlternate=a.alt,p&&(a.bidFormVm.id=p.id,a.bidFormVm.waitlist=p.isWaitList,a.bidFormVm.floatingHoliday=p.isFloatingHoliday,a.bidFormVm.startDate=moment(p.startDate).format("MM/DD/YYYY").toString(),a.bidFormVm.endDate=moment(p.endDate).format("MM/DD/YYYY").toString(),a.bidFormVm.description=p.description,a.bidFormVm.alternateDates=p.alternateDates,a.bidFormVm.altCounter=p.alternateDates.length>0?p.alternateDates.length:0,a.bidFormVm.editModal=1),a.bidFormVm.openDatePicker=j,a.bidFormVm.addAlternate=l,a.bidFormVm.cancelModal=m,a.bidFormVm.submitForm=n,a.bidFormVm.removeBid=o,a.language=d,a.$on("ui.alternate.removed",function(b,c){a.bidForm=k(a.bidForm,c),a.bidFormVm.altCounter--,c&&a.$emit("alternate.removed",c)}),b.$on("bids.loaded",function(){m("#bid-modal-"+b.modalId)}),a.$watch("bidFormVm.startDate",function(){var b=a.bidFormVm.startDate,c=a.bidFormVm.endDate;moment(c)<moment(b)&&(a.bidFormVm.endDate=moment(b).format("MM/DD/YYYY").toString())})}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/bid-form.html",scope:{save:"&save",delete:"&delete",alt:"&alt"},controller:a,controllerAs:"bidFormVm"};return a.$inject=["$scope","$rootScope","$compile","language","utilities","dialogs","toastr","modalService","spinnerService"],b}angular.module("app.directives").directive("bidForm",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a,d){function e(){a.title="Calendar Day Detail Section",a.language=c,a.options=k,a.options.init()}a.$watch("calendarDate",function(){a.options.update(a.calendarDate)});var k={userSession:{access:{canRequestAdditionalHours:!1,canRequestTimeOff:!1}},targetDate:null,inPast:!1,navigateToWorkBrain:function(a){b.location.href="https://wb5timerecording.disney.com/etm/time/timesheet/dsnyEtmTnsDetail.jsp?date="+f(a).format("MM.DD.YYYY")},isTimeOffRequestBlocked:!1,isAdditionalHoursBlocked:!1,isRdo:!1,isAdhocPeriod:!1,isBidPeriod:!1,timeoff:{},additionalHours:{},update:function(b){if(!b)return void(this.targetDate=null);this.targetDate=b.events[0],this.inPast="Past"===this.targetDate.timeOffDayState,this.isAdhocPeriod="AdHoc"===this.targetDate.timeOffDayState,this.isTimeOffRequestBlocked="Blocked"===this.targetDate.timeOffDayState,this.isRdo=this.targetDate.isRdo,this.isBidPeriod="BidPeriod"===this.targetDate.timeOffDayState,this.timeoff=this.targetDate.timeoff,this.additionalHours=this.targetDate.additionalHours,this.timeoff&&!this.inPast?(this.timeoff.canDelete&&(this.timeoff.canDelete=!this.isTimeOffRequestBlocked),this.timeoff.hasTimeoff||this.isAdhocPeriod||this.timeoff.allotmentBalance>0?this.timeoff.open=function(){a.options.clear(),a.calendarDate=null,j.launchTimeOffRequest({day:a.options.targetDate,calendarView:"month",refreshMonthlyCalendar:null})}:this.timeoff.open=function(){h.launchAlertModal({alertModalId:"timeoff-allotmentbalanceexceeded-alert-modal",headline:c.getLocale("modal.timeoff.message.allotmentbalance.exceeded")})}):this.timeoff={open:function(){a.options.clear(),a.calendarDate=null,j.launchTimeOffRequest({day:a.options.targetDate,calendarView:"month",refreshMonthlyCalendar:null})}},this.isAdditionalHoursBlocked="Blocked"===this.targetDate.additionalHoursDayState,this.additionalHours?this.additionalHours.hasAdditionalHours=!0:this.additionalHours={hasAdditionalHours:!1},this.additionalHours.canAdd=!this.isAdditionalHoursBlocked&&!this.additionalHours.hasAdditionalHours,this.additionalHours.open=function(){a.options.clear(),a.calendarDate=null,i.launch({day:a.options.targetDate})}},clear:function(){this.inPast=!1,this.isTimeOffRequestBlocked=!1,this.isAdditionalHoursBlocked=!1,this.isRdo=!1,this.isBidPeriod=!1,this.isAdhocPeriod=!1,this.additionalHours={canAdd:!1}},init:function(){this.clear(),this.userSession=g.getSession()}};e()}return{replace:!1,restrict:"A",templateUrl:"app/directives/partials/calendar-day-detail.html",scope:{calendarDate:"=calendarDate"},link:k}}angular.module("app.directives").directive("calendarDayDetail",a),a.$inject=["$rootScope","$window","language","spinnerService","utilities","moment","castService","alertModalService","ahsuService","calendarService"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(c,d){c.title="Request Periods Section",c.language=b,c.header=i,c.lookups=j,c.requestDate=l,c.dateRange=k,c.markAsDirty=m,c.getFormattedDate=function(a){return a?f(a).format(this.momentFormat):null},c.$watch("calendar",function(){c.header.update(c.calendar)}),c.notifyChange=function(a){if(!a){for(var b=c.header.requestPeriods,d=0;d<b.length;d++)if(b[d].hasError)return void c.notifyDataChange(!1);if(c.hasFormErrors())return void c.notifyDataChange(!1)}c.notifyDataChange(!a)},c.setForm=function(a){c.myform=a},c.hasFormErrors=function(){var a=c.myform;return a.adHocTypeDetail&&a.adHocTypeDetail.$dirty&&a.adHocTypeDetail.$invalid||a.allotmentDetail.$dirty&&a.allotmentDetail.$invalid||a.firstProcessingDetail&&a.firstProcessingDetail.$dirty&&a.firstProcessingDetail.$invalid||a.processingFrequencyDetail&&a.processingFrequencyDetail.$dirty&&a.processingFrequencyDetail.$invalid||a.requestStartDetail.$dirty&&a.requestStartDetail.$invalid||a.requestEndDetail.$dirty&&a.requestEndDetail.$invalid||a.seniorityTypeDetail.$dirty&&a.seniorityTypeDetail.$invalid||a.vacationBidTypeDetail.$dirty&&a.vacationBidTypeDetail.$invalid||a.questionStartDetail&&a.questionStartDetail&&a.questionStartDetail.$dirty&&a.questionStartDetail.$invalid||a.questionEndDetail&&a.questionEndDetail&&a.questionEndDetail.$dirty&&a.questionEndDetail.$invalid||a.evaluationStartDetail&&a.evaluationStartDetail&&a.evaluationStartDetail.$dirty&&a.evaluationStartDetail.$invalid||a.evaluationEndDetail&&a.evaluationEndDetail&&a.evaluationEndDetail.$dirty&&a.evaluationEndDetail.$invalid||a.collectionStartDetail&&a.collectionStartDetail&&a.collectionStartDetail.$dirty&&a.collectionStartDetail.$invalid||a.withoutCollectionStartDetail&&a.withoutCollectionStartDetail&&a.withoutCollectionStartDetail.$dirty&&a.withoutCollectionStartDetail.$invalid||a.withoutCollectionEndDetail&&a.withoutCollectionEndDetail&&a.withoutCollectionEndDetail.$dirty&&a.withoutCollectionEndDetail.$invalid||a.withoutEvaluationDetail&&a.withoutEvaluationDetail&&a.withoutEvaluationDetail.$dirty&&a.withoutEvaluationDetail.$invalid},c.getRequestPeriods=function(){var a=[];return angular.forEach(c.header.requestPeriods,function(b){a.push(b.data)}),a},c.updateRequestPeriodInfo=function(a){c.calendar=a,c.requestPeriods=a.timeOffCalendarRequestPeriodDtos,c.header.init(c)},c.updateRequestPeriodInfo(c.calendar),c.openAllotmentView=function(){var b=c.header,d=c.lookups;a.$emit("calendar-maintenance.viewAllotment",c.lookups.allotment.data,b,d)}}var h={replace:!1,restrict:"A",templateUrl:"app/directives/partials/calendar-request-periods.html",scope:{calendar:"=calendar",notifyDataChange:"=notifyDataChange",updateRequestPeriodInfo:"=updateRequestPeriodInfo"},link:g},i={calendarId:0,calendar:null,lookups:null,getRequestPeriod:function(a){return{data:null,isNewRecord:!1,isCollapsed:!0,canEdit:!0,isPastDate:!1,isDirty:!1,vacationBidTypeUpdated:!1,adhocCyclicalUpdated:!1,shouldDelete:!1,notifyChange:a,markIsDirty:function(){this.isDirty=!0,this.data.isDirty=!0},hasError:!1,set:function(a){this.data=a,this.isCollapsed=!0;var b=new Date;e.hasValue(this.data.timeOffCalendarRequestPeriodAdHocStartDate)||(this.data.timeOffCalendarRequestPeriodAdHocStartDate=b),e.hasValue(this.data.vacationBidWithAppointment)||(this.data.vacationBidWithAppointment={vacationBidWithAppointmentId:0,vacationBidWithAppointmentQuestionStartDate:b,vacationBidWithAppointmentQuestionEndDate:b,vacationBidWithAppointmentCollectionStartDate:b,vacationBidWithAppointmentEvaluationStartDate:b,vacationBidWithAppointmentEvaluationEndDate:b,isDirty:!1}),e.hasValue(this.data.vacationBidWithoutAppointment)||(this.data.vacationBidWithoutAppointment={vacationBidWithoutAppointmentId:0,vacationBidWithoutAppointmentCollectionStartDate:b,vacationBidWithoutAppointmentEvaluationDate:b,vacationBidWithoutAppointmentCollectionEndDate:b,isDirty:!1}),e.hasValue(this.data.adHocTimeOffCyclicalSchedule)||(this.data.adHocTimeOffCyclicalSchedule={adHocTimeOffCyclicalScheduleProcessStartDate:b,adHocTimeOffCyclicalScheduleProcessFrequencyDayCount:1,isDirty:!1})},toggleDisplay:function(){this.hasError||(this.isCollapsed=!this.isCollapsed)},toggleDelete:function(){this.data.shouldDelete=!this.data.shouldDelete,this.shouldDelete=this.data.shouldDelete,this.markIsDirty(),this.notifyChange(!1)}}},addRequest:function(){var a=this.getRequestPeriod(this.notifyChange),b=new Date,c={timeOffCalendarRequestPeriodId:0,timeOffCalendarRequestPeriodStartDate:b,timeOffCalendarRequestPeriodEndDate:b,timeOffCalendarRequestPeriodAdHocStartDate:b,vacationAllotmentRule:{id:0},seniorityEvaluationType:{id:0},vacationBidType:{id:0},timeOffAdHocType:{id:0},vacationBidWithAppointment:{vacationBidWithAppointmentId:0,vacationBidWithAppointmentQuestionStartDate:b,vacationBidWithAppointmentQuestionEndDate:b,vacationBidWithAppointmentCollectionStartDate:b,vacationBidWithAppointmentEvaluationStartDate:b,vacationBidWithAppointmentEvaluationEndDate:b,isDirty:!1,shouldDelete:!1},vacationBidWithoutAppointment:{vacationBidWithoutAppointmentId:0,vacationBidWithoutAppointmentCollectionStartDate:b,vacationBidWithoutAppointmentEvaluationDate:b,vacationBidWithoutAppointmentCollectionEndDate:b,isDirty:!1,shouldDelete:!1},adHocTimeOffCyclicalSchedule:{adHocTimeOffCyclicalScheduleId:0,adHocTimeOffCyclicalScheduleProcessStartDate:b,adHocTimeOffCyclicalScheduleProcessFrequencyDayCount:0,isDirty:!1,shouldDelete:!1},isDirty:!0,shouldDelete:!1};this.requestPeriodData.splice(0,0,c),a.set(c),a.isNewRecord=!0,a.isCollapsed=!1,a.isDirty=!0,this.requestPeriods.splice(0,0,a),this.calendar.timeOffCalendarRequestPeriodDtos=this.requestPeriodData,this.lookups.allotment.hasData?this.lookups.allotment.set(a,this.lookups.allotment.data):this.lookups.allotment.getAllotments(this),this.lookups.seniorityType.hasData?this.lookups.seniorityType.set(a,this.lookups.seniorityType.data):this.lookups.seniorityType.getSeniorityTypes(this),this.lookups.vacationBidType.hasData?this.lookups.vacationBidType.set(a,this.lookups.vacationBidType.data):this.lookups.vacationBidType.getVacationBidTypes(this),this.lookups.adHocType.hasData?this.lookups.adHocType.set(a,this.lookups.adHocType.data):this.lookups.adHocType.getAdHocTypes(this),this.notifyChange(!1)},requestPeriods:[],requestPeriodData:[],language:null,collapseAllCaption:"",shouldCollapseAll:!1,toggleCollapseAll:function(){this.shouldCollapseAll=!this.shouldCollapseAll,this.collapseAllCaption=this.shouldCollapseAll?b.getLocale("section.calendar-request-periods.label.expandall"):b.getLocale("section.calendar-request-periods.label.collapseall");for(var a=0;a<this.requestPeriods.length;a++)this.requestPeriods[a].isCollapsed=this.shouldCollapseAll},includePastDates:!1,pastRequestPeriods:[],getPastRequestPeriods:function(){var a=this;return c.getPastRequestPeriods(a.calendar.id).success(function(b){!1===b.body.hasError&&a.addPastRequestPeriods(b.body.data)}).error(function(a){}).finally(function(){})},addPastRequestPeriods:function(a){for(var b=this.getRequestPeriod,c=this.lookups,d=this.notifyChange,e=0;e<a.length;e++){var f=b(d);f.set(a[e]),f.canEdit=!1,f.isPastDate=!0,c.allotment.set(f,c.allotment.data),c.seniorityType.set(f,c.seniorityType.data),c.vacationBidType.set(f,c.vacationBidType.data),c.adHocType.set(f,c.adHocType.data),this.requestPeriods.splice(e,0,f),this.pastRequestPeriods.push(f)}},togglePastRequestPeriods:function(){if(this.includePastDates)if(0===this.pastRequestPeriods.length)this.getPastRequestPeriods();else for(var a=0;a<this.pastRequestPeriods.length;a++)this.requestPeriods.splice(a,0,this.pastRequestPeriods[a]);else this.requestPeriods=this.requestPeriods.filter(function(a){return!a.isPastDate})},setRequestPeriods:function(a){var b=[],c=this.getRequestPeriod,d=this.notifyChange;angular.forEach(a,function(a){var e=c(d);e.set(a),b.push(e)}),this.requestPeriods=b},changeFrequency:function(a){a.isDirty=!0,this.notifyChange(!e.hasValue(a.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount))},update:function(a){if(e.hasValue(a.id)){if(0===this.calendarId)return void(this.calendarId=a.id);var b=a.timeOffCalendarRequestPeriodDtos,c=this.requestPeriods.filter(function(a){return 0===a.timeOffCalendarRequestPeriodId});angular.forEach(c,function(a){var c=b.filter(function(b){return a.timeOffCalendarRequestPeriodStartDate===b.timeOffCalendarRequestPeriodStartDate&&a.timeOffCalendarRequestPeriodEndDate===b.timeOffCalendarRequestPeriodEndDate})[0];a.timeOffCalendarRequestPeriodId=c.timeOffCalendarRequestPeriodId})}},notifyChange:null,init:function(a){this.calendar=a.calendar,this.calendarId=e.hasValue(a.calendar.id)?a.calendar.Id:0,this.notifyChange=a.notifyChange,this.requestPeriodData=e.hasValue(a.requestPeriods)?a.requestPeriods:[],this.setRequestPeriods(a.requestPeriods),this.language=a.language,this.shouldCollapseAll=!1,this.toggleCollapseAll(),this.lookups=a.lookups,this.lookups.init(a,i)}},j={init:function(a,b){a.lookups.allotment.getAllotments(b),a.lookups.seniorityType.getSeniorityTypes(b),a.lookups.vacationBidType.getVacationBidTypes(b),a.lookups.adHocType.getAdHocTypes(b)},allotment:{data:[],getAllotments:function(a){var b=a.requestPeriods,d=this;return c.getAllotments().success(function(a){!1===a.body.hasError&&angular.forEach(b,function(b){d.set(b,a.body.data)})}).error(function(a){}).finally(function(){})},set:function(a,b){this.data=e.hasValue(b)?b:[],this.hasData=this.data.length>0;for(var c=a.data.vacationAllotmentRule.id,d=this.data,f=null,g=0;g<d.length;g++)d[g].id=d[g].vacationAllotmentRuleId
;if(0===c&&this.hasData&&(c=this.data[0].vacationAllotmentRuleId),e.hasValue(c)&&0!==c)for(var h=0;h<d.length;h++)if(c===d[h].vacationAllotmentRuleId){f=d[h];break}a.data.vacationAllotmentRule=f},hasData:!1},seniorityType:{data:[],getSeniorityTypes:function(a){var b=a.requestPeriods,d=this;return c.getSeniorityTypes().success(function(a){!1===a.body.hasError&&angular.forEach(b,function(b){d.set(b,a.body.data)})}).error(function(a){}).finally(function(){})},set:function(a,b){this.data=e.hasValue(b)?b:[],this.hasData=this.data.length>0;for(var c=a.data.seniorityEvaluationType.id,d=this.data,f=0;f<d.length;f++)d[f].id=d[f].seniorityEvaluationTypeId;var g=null;if(0===c&&this.hasData&&(c=d[0].seniorityEvaluationTypeId),e.hasValue(c)&&0!==c)for(var h=0;h<d.length;h++)if(c===d[h].seniorityEvaluationTypeId){g=d[h];break}a.data.seniorityEvaluationType=g},hasData:!1},vacationBidType:{constant:{VacationBidWithAppointment:"Vacation Bid With Appointment",VacationBidWithoutAppointment:"Vacation Bid Without Appointment"},data:[],getVacationBidTypes:function(a){var b=a.requestPeriods,d=this;return c.getVacationBidTypes().success(function(a){!1===a.body.hasError&&angular.forEach(b,function(b){d.set(b,a.body.data)})}).error(function(a){}).finally(function(){})},set:function(a,b){this.data=e.hasValue(b)?b:[],this.hasData=this.data.length>0;var c=a.data.vacationBidType.id,d=this.data,f=null;if(0===c&&this.hasData&&(c=d[0].id),e.hasValue(c)&&0!==c)for(var g=0;g<d.length;g++)if(c===d[g].id){f=d[g];break}a.data.vacationBidType=f},hasData:!1},adHocType:{constant:{CyclicalEvaluation:"Cyclical Evaluation"},data:[],getAdHocTypes:function(a){var b=a.requestPeriods,d=this;return c.getAdHocTypes().success(function(a){!1===a.body.hasError&&angular.forEach(b,function(b){d.set(b,a.body.data)})}).error(function(a){}).finally(function(){})},set:function(a,b){this.data=e.hasValue(b)?b:[],this.hasData=this.data.length>0;for(var c=a.data.timeOffAdHocType.id,d=this.data,f=null,g=0;g<d.length;g++)d[g].id=d[g].timeOffAdHocTypeId;if(0===c&&this.hasData&&(c=d[0].timeOffAdHocTypeId),e.hasValue(c)&&0!==c)for(var h=0;h<d.length;h++)if(c===d[h].timeOffAdHocTypeId){f=d[h];break}a.data.timeOffAdHocType=f},hasData:!1}},k=function(a){return{dateFormat:"MM/dd/yyyy",datePlaceholder:"mm/dd/yyyy",momentFormat:"MM/DD/YYYY",dateOptions:{"year-format":"'yy'","show-weeks":!1},minDate:new Date,isStartOpen:!1,toggleStartDatePicker:function(){this.isStartOpen=!this.isStartOpen},isEndOpen:!1,toggleEndDatePicker:function(){this.isEndOpen=!this.isEndOpen},notifyChange:a,hasError:!1,fieldHasError:!1,startDate:null,endDate:null,isDateRangeValid:function(){return this.startDate&&this.endDate&&f(this.startDate)<=f(this.endDate)},isDateValid:function(a){return"Invalid Date"!==f(a.$modelValue)._d.toString()},setDateFields:function(a,b,c,d){b.hasError=a.$invalid,b.hasError||(this.startDate=c,this.endDate=d,this.hasError=!this.isDateRangeValid(),this.fieldHasError=!this.isDateValid(a),b.hasError=this.hasError||this.fieldHasError),this.notifyChange(b.hasError)}}},l=function(a){return{dateFormat:"MM/dd/yyyy",datePlaceholder:"mm/dd/yyyy",momentFormat:"MM/DD/YYYY",dateOptions:{"year-format":"'yy'","show-weeks":!1},minDate:new Date,isOpen:!1,toggleDatePicker:function(){this.isOpen=!this.isOpen},notifyChange:this.notifyChange,isDateValid:function(a){return"Invalid Date"!==f(a.$modelValue)._d.toString()},setDateField:function(a,b,c){this.fieldHasError=!this.isDateValid(a),b.hasError=a.$invalid||this.fieldHasError,b.hasError||b.markIsDirty(),this.notifyChange(b.hasError)},hasError:!1}},m=function(a,b,c,d){if("vacationBidType"===a&&(b.data.vacationBidWithAppointment.isDirty=!1,b.data.vacationBidWithAppointment.shouldDelete=!1,b.data.vacationBidWithoutAppointment.isDirty=!1,b.data.vacationBidWithoutAppointment.shouldDelete=!1),"adhocCyclical"===a&&(b.data.adHocTimeOffCyclicalSchedule.isDirty=!1,b.data.adHocTimeOffCyclicalSchedule.shouldDelete=!1,e.hasValue(b)&&e.hasValue(c))){if(!(e.isNumeric(c.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount)&&c.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount>0))return d.processingFrequencyDetail&&(d.processingFrequencyDetail.$invalid=!0),void this.notifyChange(!0);d.processingFrequencyDetail.$invalid=!1,b.data.adHocTimeOffCyclicalSchedule.isDirty=!0}c&&(c.isDirty=!0),b.data.areAnySubItemsDirty=!0,b.markIsDirty(),this.notifyChange(!1)};return h}angular.module("app.directives").directive("calendarRequestPeriods",a),a.$inject=["$rootScope","language","calendarMaintenanceService","spinnerService","utilities","moment"]}(),function(){"use strict";function a(){}angular.module("app.directives").config(a)}(),function(){"use strict";function a(){function a(a){function b(b){b.preventDefault(),b.stopPropagation(),a.faqVm.showAnswer?a.faqVm.showAnswer=!1:a.faqVm.showAnswer=!0}a.faqVm.toggleAnswer=b,a.faqVm.showAnswer=!1}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/faq-item.html",controller:a,controllerAs:"faqVm"};return a.$inject=["$scope"],b}angular.module("app.directives").directive("faqItem",a)}(),function(){"use strict";function a(){function a(a,b,c,d,e){function f(){localStorage.removeItem("userSearch"),localStorage.removeItem("userSession"),c.destroySession().then(function(a){window.location.href="https://myid.disney.com/services/ssoReset?msgId=101"}).catch(function(a){console.error(a)})}a.nav.errorStatus=d.getStatus(),a.nav.logout=f,a.nav.language=e}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/navigation.html",controller:a,controllerAs:"nav"};return a.$inject=["$scope","$state","castService","unauthService","language"],b}angular.module("app.directives").directive("navigation",a)}(),function(){"use strict";function a(){function a(a,b){a.$watch("types",function(){a.types&&a.types[0]&&(a.pt.selected=a.types[0]),angular.forEach(a.types,function(b){b.hasOwnProperty("isDefault")&&b.isDefault&&(a.pt.selected=b)}),a.types&&b.isIE()&&b.forceRender(".pay-type")},!0)}var b='<select name="payType[{{row}}]" class="form-control pay-type" ng-options="item as item.name for item in types track by item.id" ng-model="pt.selected"></select>',c={replace:!1,restrict:"A",require:"?ngModel",template:b,scope:{types:"=types",row:"=row"},controller:a,controllerAs:"pt"};return a.$inject=["$scope","utilities"],c}angular.module("app.directives").directive("payType",a)}(),function(){"use strict";function a(){return{replace:!1,restrict:"A",templateUrl:"app/directives/partials/perner-search.html"}}angular.module("app.directives").directive("pernerSearch",a)}(),function(){"use strict";function a(){function a(a,b,c,d,e,f){function g(){!1!==l&&(l=!1,k.inHelpPage=!1,d.go(d.params.prevState,{data:d.params.data}),l=!0)}function h(){!1!==l&&(l=!1,k.navigateToScheduleView.isActive=!1,k.$secondaryScope&&(k.$secondaryScope.$destroy(),k.$secondaryScope=null),f.hasValue(m)?(d.go(m,{},{reload:!0,inherit:!1}),m=null):d.go("cast.schedule",{},{reload:!0,inherit:!1}),l=!0)}function i(){l=!0}function j(){if(k.navigateToScheduleView.isActive=!1,!1!==l){l=!1;var c=a.$new(!0),d="cast-mobile-main-menu",e='<div id="'+d+'" main-menu class="main-menu-panel" ng-swipe-left="mainMenuVm.cancelModal()"> </div>';$("body").append(e),c.onCloseMenu=i,b($("#"+d)[0])(c)}}var k=this,l=!0,m=null;k.openMenu=j,k.navigateToScheduleView={isActive:!1},k.inHelpPage=!1,k.handlePreviousClick=h,k.handlePreviousClickFromHelp=g,c.$on("event.inSecondaryPage",function(a,b){k.navigateToScheduleView.isActive=b.setLink,b.$secondaryScope&&(k.$secondaryScope=b.$secondaryScope),k.inHelpPage=!1,f.hasValue(b.returnToState)&&(m=b.returnToState)}),c.$on("event.leaveSecondaryPage",function(a,b){k.navigateToScheduleView.isActive=!1,k.$secondaryScope=null}),c.$on("event.inHelpPage",function(){k.inHelpPage=!0}),c.$on("event.leaveHelpPage",function(){k.inHelpPage=!1})}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/return-to-landing.html",controller:a,controllerAs:"returnToLandingVm"};return a.$inject=["$scope","$compile","$rootScope","$state","helpService","utilities"],b}angular.module("app.directives").directive("returnToLanding",a)}(),function(){"use strict";function a(a){function b(b,c){function d(a){angular.element("#"+a).removeClass("hide")}function e(a){angular.element("#"+a).addClass("hide")}a.spinner={start:d,stop:e}}return{replace:!1,restrict:"A",link:b}}angular.module("app.directives").directive("spinner",a),a.$inject=["$rootScope"]}(),function(){"use strict";function a(a,b){function c(a){if(null===a.offsetParent||void 0===a.offsetParent||"BODY"===a.offsetParent.tagName.toUpperCase())return 0;for(var b=a.offsetTop,c=a.offsetParent;null!==c&&void 0!==c;)b+=c.offsetTop,c=c.offsetParent;return b}function d(b,c,d){b.$on("$destroy",function(){f=[]}),a(function(){var a=c.children()[0],b=angular.element(a);c.css("height",a.clientHeight+"px"),b.data("pos",a.offsetTop),f.push(b),f.sort(function(a,b){return a.data("pos")-b.data("pos")})},500)}function e(){var a=function(){angular.forEach(f,function(a,d){var e=a[0],g=a.data("pos"),i=$(".sticky-container")[0],j=c(i);if(g&&g+j<=b.pageYOffset+h){var k=f[d+1],l=k?k[0]:null,m=i.clientWidth,n=i.getBoundingClientRect().left;if(a.addClass("fixed").css("top",h+"px").css("left",n+"px").css("width",m+"px"),l){var o=k.data("pos"),p=o-e.clientHeight-1;b.pageYOffset+h>=p+j&&a.addClass("absolute").css("top",p+"px").css("left","0px")}}else if(g){var q=f[d-1],r=q?q[0]:null;if(a.removeClass("fixed").removeAttr("style"),r){var s=g-r.clientHeight;b.pageYOffset+h<=s+j&&q.removeClass("absolute").css("top",h+"px").css("left",i.getBoundingClientRect().left+"px")}}})},d=function(){window.requestAnimationFrame(a)};angular.element(b).off("scroll",d).on("scroll",d),angular.element(b).off("touchmove",d).on("touchmove",d),angular.element(b).off("onresize",d).on("onresize",d)}var f=[],g={restrict:"E",transclude:!0,template:"<dis-sticky ng-transclude></dis-sticky>",link:d,controller:e},h=angular.element("#main-navbar-container")[0].clientHeight;return g}angular.module("app.directives").directive("disStickyHeader",a),a.$inject=["$timeout","$window"]}(),function(){"use strict";function a(){function a(a){this.language=a}var b={replace:!1,restrict:"A",templateUrl:"app/directives/partials/unauthorized.html",controller:a,controllerAs:"unauthorizedVm"};return a.$inject=["language"],b}angular.module("app.directives").directive("unauthorized",a)}(),function(){"use strict";function a(a){function b(a,b,c,d){a.$watch("uiDataProvider",function(b,c){b&&b.length>0&&a.init()},!0);var e=angular.element("#"+a.container),f=a.rowHeight?parseInt(a.rowHeight):40;a.height=a.height?parseInt(a.height):200,a.scrollTop=0,a.visibleProvider=[],a.cellsPerPage=0,a.numberOfCells=0,a.canvasHeight={},a.parentVm&&(a[a.parentVm]=a.$parent[a.parentVm]),a.init=function(){a.cellsPerPage=Math.round(a.height/f),a.numberOfCells=3*a.cellsPerPage,a.canvasHeight={height:a.uiDataProvider.length*f+"px"},a.updateDisplayList()},a.updateDisplayList=function(){var b=Math.max(Math.floor(a.scrollTop/f)-a.cellsPerPage,0),c=Math.min(b+a.numberOfCells,a.numberOfCells);a.visibleProvider=angular.copy(a.uiDataProvider.slice(b,b+c));for(var d=0;d<a.visibleProvider.length;d++)a.visibleProvider[d].styles={top:(b+d)*f+"px"}},e.on("scroll",function(b){a.scrollTop=e.prop("scrollTop"),a.updateDisplayList(),a.$apply()})}return{replace:!1,restrict:"A",scope:{uiDataProvider:"=uiDataProvider",container:"@container",rowHeight:"@rowHeight",height:"@height",parentVm:"@parentVm"},link:b,templateUrl:function(a,b){return b.templateUrl}}}angular.module("app.directives").directive("virtualList",a),a.$inject=["$rootScope"]}(),angular.module("app.directives").directive("dropDown",dropDown),dropDown.$inject=["language","$timeout"],angular.module("app.directives").directive("informationalModal",informationalModal),informationalModal.$inject=["utilities","language","$timeout"],angular.module("app.directives").directive("mainMenu",mainMenu),mainMenu.$inject=["utilities","language","castService","$timeout"],angular.module("app.directives").directive("typeAhead",typeAhead),typeAhead.$inject=["language","$timeout","utilities"],angular.module("app.directives").directive("wfmNgRepeatComplete",wfmNgRepeatComplete),wfmNgRepeatComplete.$inject=["utilities","$timeout"],function(){"use strict";function a(){return function(a){var b="date";switch(a=a.toLowerCase()){case"available":b+=" available";break;case"unavailable":b+=" unavailable";break;case"requested":b+=" requested";break;case"rdo":b+=" rdo"}return b}}angular.module("app.filters").filter("calendarType",a)}(),function(){"use strict";function a(){return function(a){return a?a.charAt(0).toUpperCase()+a.substr(1).toLowerCase():""}}angular.module("app.filters").filter("capitalize",a)}(),function(){"use strict";function a(){}angular.module("app.filters").config(a)}(),function(){"use strict";function a(){return function(a,b){var c=0;angular.forEach(a,function(a){if(c++,moment(a.shiftDate,"MM/DD/YYYY HH:mm:ss").dayOfYear()==b.dayOfYear())return c})}}angular.module("app.filters").filter("currentIndex",a)}(),function(){"use strict";function a(a){return function(b,c,d){d=d||"MMMM DD, YYYY";var e="";return angular.isArray(b)?(e=angular.copy(b),angular.forEach(e,function(b){b[c]=a(b[c]).format(d)}),e):(b&&(e=a(b).format(d)),e)}}angular.module("app.filters").filter("dateTime",a),a.$inject=["moment"]}(),function(){"use strict";function a(){return function(a,b,c){return a.slice(c,c+b)}}angular.module("app.filters").filter("limitRange",a)}(),function(){"use strict";function a(){return function(a){var b=a.split(" ");b=b.length>1?b:a.split("T");var c=b[1].slice(0,5);return"0"===b[1].charAt(0)&&(c=c.substr(1)),c}}angular.module("app.filters").filter("militaryTime",a)}(),function(){"use strict";function a(a){return function(b){return a.formatPhone(b)}}angular.module("app.filters").filter("phone",a),a.$inject=["utilities"]}(),function(){"use strict";function a(){return function(a,b){return angular.isArray(a)&&a.length>1&&a.sort(function(a,c){return a[b].match(/\d/g).join("")-c[b].match(/\d/g).join("")}),a}}angular.module("app.filters").filter("timeSort",a)}(),function(){"use strict";function a(){return function(a){var b=a.split(" ");return b=b.length>1?b:a.split("T"),moment().format("DD",b[0])}}angular.module("app.filters").filter("weekDate",a)}(),function(){"use strict";function a(){return function(a){var b=a.split(" ");return b=b.length>1?b:a.split("T"),moment().format("ddd",b[0])}}angular.module("app.filters").filter("weekDay",a)}();var dev=!1,device="";!function(){"use strict";angular.module("app").config(["$translateProvider","$httpProvider","$urlMatcherFactoryProvider",function(a,b,c){b.defaults.headers.post["Content-Type"]="application/json",b.defaults.headers.get||(b.defaults.headers.get={}),b.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",b.defaults.headers.get["Cache-Control"]="no-cache",b.defaults.headers.get.Pragma="no-cache",b.interceptors.push(["$q",function(a){return{responseError:function(b){if(401!==b.status&&403!==b.status&&(!b.data||!b.data.error||"UNAUTHORIZED"!==b.data.error.typeId&&"FORBIDDEN"!==b.data.error.typeId))return a.reject(b);var c=window.location.href;window.location.href=MY_ID_BASE_URL+"&TargetResource="+c}}}]),a.useSanitizeValueStrategy("sanitize"),a.preferredLanguage("en-US"),a.translations("en-US",{DIALOGS_OK:"Ok",DIALOGS_NO:"No",DIALOGS_YES:"Yes"}),c.strictMode(!1);var d=new MobileDetect(window.navigator.userAgent),e=d.mobile();device=e?"mobile":"desktop"}])}(),function(){"use strict";function a(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}angular.module("app").run([function(){localStorage.removeItem("userSearch"),localStorage.removeItem("userSession"),a()}])}(),function(){"use strict";function a(a){a.templates.calendar="mwl/templates/calendar.html",a.templates.calendarDayView="mwl/templates/calendarDayView.html",a.templates.calendarHourList="mwl/templates/calendarHourList.html",a.templates.calendarMonthCell="mwl/templates/calendarMonthCell.html",a.templates.calendarMonthCellEvents="mwl/templates/calendarMonthCellEvents.html",a.templates.calendarMonthView="mwl/templates/calendarMonthView.html",a.templates.calendarSlideBox="mwl/templates/calendarSlideBox.html",a.templates.calendarWeekView="mwl/templates/calendarWeekView.html",a.templates.calendarYearView="mwl/templates/calendarYearView.html",a.displayEventEndTimes=!0,a.dateFormatter="moment",a.allDateFormats.moment.date.hour="HH:mm",a.displayAllMonthEvents=!0}angular.module("mwl.calendar").config(a),a.$inject=["calendarConfig"]}(),angular.module("mwl.calendar").constant("calendarConfig",{allDateFormats:{angular:{date:{hour:"ha",day:"d MMM",month:"MMMM",weekDay:"EEEE",time:"HH:mm",datetime:"MMM d, h:mm a"},title:{day:"EEEE d MMMM, yyyy",week:"Week {week} of {year}",month:"MMMM yyyy",year:"yyyy"}},moment:{date:{hour:"ha",day:"D MMM",month:"MMMM",weekDay:"dddd",time:"HH:mm",datetime:"MMM D, h:mm a"},title:{day:"dddd D MMMM, YYYY",week:"Week {week} of {year}",month:"MMMM YYYY",year:"YYYY"}}},get dateFormats(){return this.allDateFormats[this.dateFormatter].date},get titleFormats(){return this.allDateFormats[this.dateFormatter].title},dateFormatter:"angular",displayEventEndTimes:!1,showTimesOnWeekView:!1,displayAllMonthEvents:!1,i18nStrings:{eventsLabel:"Events",timeLabel:"Time",weekNumber:"Week {week}"},templates:{}}),angular.module("mwl.calendar").factory("calendarHelper",calendarHelper),calendarHelper.$inject=["dateFilter","moment","calendarConfig"],angular.module("mwl.calendar").factory("calendarTitle",calendarTitle),calendarTitle.$inject=["moment","calendarConfig","calendarHelper"];var interact=interact||null;angular.module("mwl.calendar").constant("interact",interact),angular.module("mwl.calendar").constant("moment",moment),angular.module("mwl.calendar").controller("MwlCalendarCtrl",MwlCalendarCtrl),MwlCalendarCtrl.$inject=["$log","$locale","moment","$rootScope"],angular.module("mwl.calendar").directive("mwlCalendar",["calendarConfig",function(a){return{templateUrl:a.templates.calendar,restrict:"E",scope:{calendarVm:"=",events:"=",view:"=",viewTitle:"=?",viewDate:"=",editEventHtml:"=?",deleteEventHtml:"=?",cellIsOpen:"=?",onEventClick:"&",onEventTimesChanged:"&",onEditEventClick:"&",onDeleteEventClick:"&",onTimespanClick:"&",onViewChangeClick:"&",cellModifier:"&",dayViewStart:"@",dayViewEnd:"@",dayViewSplit:"@"},controller:"MwlCalendarCtrl as vm",bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCalendarDayCtrl",MwlCalendarDayCtrl),MwlCalendarDayCtrl.$inject=["$rootScope","$sce","moment","calendarHelper","calendarConfig"],angular.module("mwl.calendar").directive("mwlCalendarDay",["calendarConfig",function(a){return{templateUrl:a.templates.calendarDayView,restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onTimespanClick:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"="},controller:"MwlCalendarDayCtrl as vm",bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCalendarHourListCtrl",MwlCalendarHourListCtrl),MwlCalendarHourListCtrl.$inject=["$scope","moment","calendarHelper","calendarConfig"],angular.module("mwl.calendar").directive("mwlCalendarHourList",["calendarConfig",function(a){return{restrict:"E",templateUrl:a.templates.calendarHourList,controller:"MwlCalendarHourListCtrl as vm",scope:{viewDate:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",onTimespanClick:"="},bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCalendarMonthCtrl",MwlCalendarMonthCtrl),MwlCalendarMonthCtrl.$inject=["$scope","$rootScope","moment","scheduleService","spinnerService","calendarHelper","calendarConfig","ahsuService"],angular.module("mwl.calendar").directive("mwlCalendarMonth",["calendarConfig",function(a){return{templateUrl:a.templates.calendarMonthView,restrict:"E",require:"^mwlCalendar",scope:{calendarVm:"=",events:"=",viewDate:"=",onEventClick:"=",onEditEventClick:"=",onDeleteEventClick:"=",onEventTimesChanged:"=",editEventHtml:"=",deleteEventHtml:"=",cellIsOpen:"=",onTimespanClick:"=",cellModifier:"="},controller:"MwlCalendarMonthCtrl as vm",link:function(a,b,c,d){a.vm.calendarCtrl=d},bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCalendarSlideBoxCtrl",MwlCalendarSlideBoxCtrl),MwlCalendarSlideBoxCtrl.$inject=["$sce","$scope","$timeout","calendarConfig","scheduleService","language"],angular.module("mwl.calendar").directive("mwlCalendarSlideBox",["calendarConfig",function(a){return{restrict:"E",templateUrl:a.templates.calendarSlideBox,replace:!0,controller:"MwlCalendarSlideBoxCtrl as vm",require:["^?mwlCalendarMonth","^?mwlCalendarYear"],link:function(a,b,c,d){a.isMonthView=!!d[0],a.isYearView=!!d[1]},scope:{isOpen:"=",events:"=",onEventClick:"=",editEventHtml:"=",onEditEventClick:"=",deleteEventHtml:"=",onDeleteEventClick:"="},bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCalendarWeekCtrl",MwlCalendarWeekCtrl),MwlCalendarWeekCtrl.$inject=["$rootScope","$sce","moment","calendarHelper","calendarConfig","language","shiftService","toastr","spinnerService","$compile","$scope","errorMessageService","ehhSearchService","castService","utilities","alertModalService","$timeout","calendarService"],angular.module("mwl.calendar").directive("mwlCalendarWeek",["calendarConfig",function(a){return{templateUrl:a.templates.calendarWeekView,restrict:"E",require:"^mwlCalendar",scope:{calendarVm:"=",events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"=",onTimespanClick:"="},controller:"MwlCalendarWeekCtrl as vm",link:function(a,b,c,d){a.vm.calendarCtrl=d},bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCalendarYearCtrl",MwlCalendarYearCtrl),MwlCalendarYearCtrl.$inject=["$rootScope","moment","calendarConfig","calendarHelper"],angular.module("mwl.calendar").directive("mwlCalendarYear",["calendarConfig",function(a){return{templateUrl:a.templates.calendarYearView,restrict:"E",require:"^mwlCalendar",scope:{events:"=",viewDate:"=",onEventClick:"=",onEventTimesChanged:"=",onEditEventClick:"=",onDeleteEventClick:"=",editEventHtml:"=",deleteEventHtml:"=",cellIsOpen:"=",onTimespanClick:"=",cellModifier:"="},controller:"MwlCalendarYearCtrl as vm",link:function(a,b,c,d){a.vm.calendarCtrl=d},bindToController:!0}}]),angular.module("mwl.calendar").controller("MwlCollapseFallbackCtrl",MwlCollapseFallbackCtrl),MwlCollapseFallbackCtrl.$inject=["$scope","$attrs","$element"],angular.module("mwl.calendar").directive("mwlCollapseFallback",["$injector",function(a){return a.has("uibCollapseDirective")?{}:{restrict:"A",controller:"MwlCollapseFallbackCtrl"}}]),angular.module("mwl.calendar").controller("MwlDateModifierCtrl",MwlDateModifierCtrl),MwlDateModifierCtrl.$inject=["$element","$attrs","$scope","moment"],angular.module("mwl.calendar").directive("mwlDateModifier",function(){return{restrict:"A",controller:"MwlDateModifierCtrl as vm",scope:{date:"=",increment:"=",decrement:"="},bindToController:!0}}),angular.module("mwl.calendar").controller("MwlDraggableCtrl",MwlDraggableCtrl),MwlDraggableCtrl.$inject=["$element","$scope","$window","$parse","$attrs","$timeout","interact"],angular.module("mwl.calendar").directive("mwlDraggable",function(){return{restrict:"A",controller:"MwlDraggableCtrl"}}),angular.module("mwl.calendar").controller("MwlDroppableCtrl",MwlDroppableCtrl),MwlDroppableCtrl.$inject=["$element","$scope","$parse","$attrs","interact"],angular.module("mwl.calendar").directive("mwlDroppable",function(){return{restrict:"A",controller:"MwlDroppableCtrl"}}),angular.module("mwl.calendar").controller("MwlElementDimensionsCtrl",MwlElementDimensionsCtrl),MwlElementDimensionsCtrl.$inject=["$element","$scope","$parse","$attrs"],angular.module("mwl.calendar").directive("mwlElementDimensions",function(){return{restrict:"A",controller:"MwlElementDimensionsCtrl"}}),angular.module("mwl.calendar").controller("MwlResizableCtrl",MwlResizableCtrl),MwlResizableCtrl.$inject=["$element","$scope","$parse","$attrs","$timeout","interact"],angular.module("mwl.calendar").directive("mwlResizable",function(){return{restrict:"A",controller:"MwlResizableCtrl"}}),angular.module("mwl.calendar").directive("reopenEhhShift",reopenEhhShift),reopenEhhShift.$inject=["$rootScope","$q","utilities","language","toastr","shiftService","spinnerService","$timeout","moment"],angular.module("mwl.calendar").directive("shiftDetail",shiftDetail),shiftDetail.$inject=["$rootScope","$q","utilities","language","dialogs","toastr","modalService","castService","scheduleService","spinnerService","moment","$state","$timeout","$compile","shiftService","alertModalService"],angular.module("mwl.calendar").directive("signUp",signUp),signUp.$inject=["$rootScope","$q","utilities","language","dialogs","toastr","modalService","castService","shiftService","spinnerService","moment","helpService","$timeout","$compile","alertModalService"],angular.module("mwl.calendar").directive("swapBackSelect",swapBackSelect),swapBackSelect.$inject=["$rootScope","$q","utilities","language","dialogs","toastr","modalService","castService","shiftService","spinnerService","moment","$window","$timeout","$compile","alertModalService"],function(){"use strict";function a(a,b){return function(c,d,e){return!0===e&&(d=b.dateFormats[d]),a.formatDate(c,d)}}angular.module("mwl.calendar").filter("calendarDate",a),a.$stateful=!0,a.$inject=["calendarHelper","calendarConfig"]}(),angular.module("mwl.calendar").filter("calendarLimitTo",calendarLimitTo),calendarLimitTo.$inject=["limitToFilter"],angular.module("mwl.calendar").filter("calendarTruncateEventTitle",calendarTruncateEventTitle),function(){"use strict";function a(a){return function(b){return a.trustAsHtml(b)}}angular.module("mwl.calendar").filter("calendarTrustAsHtml",a),a.$inject=["$sce"]}(),function(){"use strict";function a(){}angular.module("mwl").config(a)}(),angular.module("app").run(["$templateCache",function(a){"use strict";a.put("app/directives/partials/alertModal.html",'<div class="alert-modal-content"> <span class="alert-modal-icon kng-icon-font kng-ic_alert"> </span> <span class="alert-modal-headline" ng-if="headline" ng-bind="headline"> </span> <span class="alert-modal-explanation" ng-if="explanation" ng-bind="explanation"> </span> </div> <div class="alert-modal-footer"> <button type="button" class="btn btn-default btn-success" ng-click="alertModalVm.cancelModal()" ng-bind="alertModalVm.language.getLocale(\'button.ok\')"> </button> </div>'),a.put("app/directives/partials/alternate-date.html",'<div class="inline-block date-container"> <input type="hidden" name="altId[{{altVm.count}}]" ng-model="altVm.id"> <input type="text" name="altStartDate[{{altVm.count}}]" class="form-control date-selector inline-block" datepicker-popup="{{altVm.dateFormat}}" datepicker-options="altVm.dateOptions" ng-model="altVm.startDate" is-open="altVm.status.start.open" min-date="altVm.minDate" max-date="altVm.maxDate" ng-required="true" placeholder="{{altVm.dateFormat}}" close-text="Close"> <span class="input-group-btn inline-block bottom-align"> <button type="button" class="btn btn-default" ng-click="altVm.openDatePicker($event, \'start\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> <div class="inline-block date-container"> <input type="text" name="altEndDate[{{altVm.count}}]" class="form-control date-selector inline-block" datepicker-popup="{{altVm.dateFormat}}" datepicker-options="altVm.dateOptions" ng-model="altVm.endDate" is-open="altVm.status.end.open" min-date="altVm.minDate" max-date="altVm.maxDate" ng-required="true" placeholder="{{altVm.dateFormat}}" close-text="Close"> <span class="input-group-btn inline-block bottom-align"> <button type="button" class="btn btn-default" ng-click="altVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> <div class="inline-block"> <button type="button" class="btn btn-default unstyled" ng-click="altVm.removeAlt(altVm.id)"> <i class="glyphter custom-icon-delete light-bg"></i> </button> </div>'),a.put("app/directives/partials/back-arrow.html",'<div ng-show="history && history.length > 1"> <span> <a href="{{backVm.ref}}" ui-sref="{{backVm.ref}}"> <img id="backArrow" src="/assets/images/ico_left_chevron.ae81d65f.png"> </a> </span> <span id="details-headerDateText" ng-bind="backVm.title"></span> </div>'),a.put("app/directives/partials/bell-notification.html",'<div ng-if="bellNotificationVm.notification.show" class="bell-notification-container"> <a class="link" href="{{bellNotificationVm.link}}" target="_blank"> <div> <span class="notification-count" ng-bind="bellNotificationVm.notification.count" ng-if="bellNotificationVm.notification.count > 0"></span> <i class="workforce-icon-font wm-Icon_Notification_Bell notification-item"></i> </div> </a> </div>'),
a.put("app/directives/partials/bid-form.html",'<div class="white-container"> <div class="modal-header clearfix"> <h3 class="float-left" ng-if="!bidFormVm.editModal" ng-bind="language.getLocale(\'modal.bid.header.add\')"> </h3> <h3 class="float-left" ng-if="bidFormVm.editModal" ng-bind="language.getLocale(\'modal.bid.header.modify\')"> </h3> <button type="button" class="float-right close-modal unstyled" ng-click="bidFormVm.cancelModal(\'#bid-modal-{{index}}\', bidFormVm.editModal)"> X </button> </div> <div class="padding"> <form name="bidForm" ng-submit="bidFormVm.submitForm(this)" novalidate> <div class="gray-pane bmargin-20"> <div class="bmargin-20"> <div class="inline-block date-container"> <input type="hidden" name="id" ng-model="bidFormVm.id"> <div><label class="unstyled">Start</label></div> <input type="text" name="bidStartDate" class="form-control date-selector inline-block" datepicker-popup="{{bidFormVm.dateFormat}}" datepicker-options="bidFormVm.dateOptions" ng-model="bidFormVm.startDate" is-open="bidFormVm.status.start.open" min-date="bidFormVm.minDate" max-date="bidFormVm.maxDate" ng-required="true" placeholder="{{bidFormVm.dateFormat}}" close-text="Close"> <span class="input-group-btn inline-block bottom-align"> <button type="button" class="btn btn-default" ng-click="bidFormVm.openDatePicker($event, \'start\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> <div class="inline-block date-container"> <div><label class="unstyled">End</label></div> <input type="text" name="bidEndDate" class="form-control date-selector inline-block" datepicker-popup="{{bidFormVm.dateFormat}}" datepicker-options="bidFormVm.dateOptions" ng-model="bidFormVm.endDate" is-open="bidFormVm.status.end.open" min-date="bidFormVm.minDate" max-date="bidFormVm.maxDate" ng-required="true" placeholder="{{bidFormVm.dateFormat}}" close-text="Close"> <span class="input-group-btn inline-block bottom-align"> <button type="button" class="btn btn-default" ng-click="bidFormVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div class="inline-block vertical-partition partition-padding"> <input type="checkbox" name="floatingHoliday" id="floatingHoliday" ng-model="bidFormVm.floatingHoliday"> <label for="floatingHoliday" class="unstyled">Floating Holiday</label> </div> <div class="inline-block"> <input type="checkbox" name="waitList" id="waitList" ng-model="bidFormVm.waitlist"> <label for="waitList" class="unstyled">Wait List</label> </div> </div> <div class="horizontal-partition"> <div> <label for="description" class="unstyled">Description (optional)</label> </div> <input type="text" name="description" id="description" ng-model="bidFormVm.description" class="form-control"> </div> <div class="bmargin-20"> <button type="button" class="inline-block unstyled" ng-click="bidFormVm.addAlternate(\'alternate-container\', this)"> <i class="glyphter custom-icon-add"></i> </button> <label for="alternate" class="unstyled inline-block">Alternate Date</label> <div class="glyphicon glyphicon-info-sign light-bg inline-block"></div> </div> <div id="alternate-container" class="bmargin-40"> <div ng-repeat="alternateDate in bidFormVm.alternateDates track by $index"> <div alternate-date data-count="{{$index}}" data-startdate="alternateDate.startDate" data-enddate="alternateDate.endDate" data-id="{{alternateDate.id}}" class="alternate-date"> </div> </div> </div> <div class="button-container"> <button type="submit" class="btn btn-success bmargin-20" ng-bind="language.getLocale(\'button.save\')"> </button> <button type="button" class="btn btn-default cancel-btn" ng-click="bidFormVm.cancelModal(\'#bid-modal-{{index}}\', bidFormVm.editModal)" ng-bind="language.getLocale(\'button.cancel\')"> </button> <div ng-if="bidFormVm.editModal"> <div class="horizontal-partition"></div> <button type="button" class="btn btn-danger" ng-click="bidFormVm.removeBid(this)" ng-bind="language.getLocale(\'button.delete\')"> </button> </div> </div> </form> </div> </div>'),a.put("app/directives/partials/calendar-day-detail.html",'<div class="calendar-day-detail" ng-show="options.targetDate && options.targetDate.userSelectedDay === true"> <p class="title"> <span class="title-header">{{calendarDate.date.toDate() | date:\'EEE,\'}}</span> {{calendarDate.date.toDate() | date:\'MMM dd, yyyy\'}}</p> <div ng-if="options.inPast"> <span class="past-date" ng-click="options.navigateToWorkBrain(calendarDate.date.toDate())" ng-bind="language.getLocale(\'section.day-detail.past-date.title\')"></span> </div> <div ng-if="(options.isTimeOffRequestBlocked && options.isAdditionalHoursBlocked) && !(options.timeoff.hasTimeoff || options.additionalHours.hasAdditionalHours)"> <span class="past-date" ng-bind="language.getLocale(\'section.day-detail.blockout.title\')"></span> </div> \x3c!-- Add Section --\x3e <div class="row selection-buttons-row day-tray" ng-if="!options.inPast && !(options.timeoff.hasTimeoff || options.additionalHours.hasAdditionalHours)"> <div class="col-md-6 selection-buttons" ng-if="!options.isAdditionalHoursBlocked && options.userSession.access.canRequestAdditionalHours && options.additionalHours.canAdd" ng-click="options.additionalHours.open()"> <div ng-if="!options.isRdo"> <i class="workforce-icon-font wm-Icon_AHSU icon-large"></i><br> <span class="sub-text" ng-bind="language.getLocale(\'section.main-menu.ahsu.link.name\')"></span> </div> <div class="regular-day-off" ng-if="options.isRdo"> <span class="title-header regular-day-off-header" ng-bind="language.getLocale(\'section.day-detail.regular-day-off.title\')"></span> <div class="regular-day-off-container"> <i class="workforce-icon-font wm-Icon_AHSU icon-small"></i> <span class="caption" ng-bind="language.getLocale(\'section.main-menu.ahsu.link.name\')"></span> </div> </div> </div> <div class="col-md-6 selection-buttons" ng-if="!options.isRdo && options.userSession.access.canRequestTimeOff && !options.isTimeOffRequestBlocked"> <div ng-if="options.timeoff.isAvailable || options.isBidPeriod" ng-click="options.timeoff.open()"> <i class="kng-icon-font kng-ic_add icon-large"></i><br> <span class="sub-text" ng-bind="language.getLocale(\'section.day-detail.time-off.title\')"></span> </div> <div ng-if="!options.timeoff.isAvailable && !options.isBidPeriod && !options.isTimeOffRequestBlocked" class="sub-text" ng-click="options.timeoff.open()"> <i class="workforce-icon-font wm-Icon_Waitlist icon-large"></i><br> <span ng-bind="language.getLocale(\'section.day-detail.time-off-waitlist.title\')"></span><br> <span class="minor-text" ng-bind="options.timeoff.waitListCount + \' Waitlisted\'"></span> </div> </div> </div> \x3c!-- Edit Section --\x3e <div ng-if="!options.inPast && options.additionalHours.hasAdditionalHours" ng-disabled="options.isAdditionalHoursBlocked" class="additionalHours-on-day day-tray" ng-click="options.additionalHours.open()"> <div class="title-header body-container"> <span ng-bind="language.getLocale(\'section.day-detail.pending\')"></span> </div> <div class="caption body-container"> <span ng-bind="language.getLocale(\'section.main-menu.ahsu.link.name\')"></span> </div> <div class="edit"> <i class="kng-icon-font kng-ic_edit"></i> </div> </div> <div ng-if="!options.inPast && options.timeoff.hasTimeoff" class="timeoff-on-day day-tray" ng-click="options.timeoff.open()"> <div class="title-header body-container"> <span ng-bind="options.timeoff.ebType.status + \' \' + language.getLocale(\'section.main-menu.time-off.link.name\')"></span> </div> <div class="caption body-container"> <span ng-bind="options.timeoff.ebType.name"></span> </div> <div class="edit"> <i class="kng-icon-font kng-ic_edit"></i> </div> </div> </div>'),
a.put("app/directives/partials/calendar-request-periods.html",'<div class="calendar-request-periods-container"> \x3c!-- Header Section --\x3e <div class="header-section"> <div class="row"> <div class="toggle-all-records"> <button class="btn btn-link expand-all" ng-bind="header.collapseAllCaption" ng-click="header.toggleCollapseAll()" ng-disabled="header.calendarId === 0"></button> <div class="vertical-separator"></div> <input type="checkbox" id="includePastDates" ng-model="header.includePastDates" ng-change="header.togglePastRequestPeriods()" ng-disabled="header.calendarId === 0"> <label for="includePastDates" ng-bind="language.getLocale(\'section.calendar-request-periods.label.pastdates\')"></label> <button class="btn btn-primary add-request-period" ng-bind="language.getLocale(\'section.calendar-request-periods.label.addrequestperiod\')" ng-click="header.addRequest()" ng-disabled="header.calendarId === 0"></button> </div> </div> </div> \x3c!-- Requesting Periods --\x3e <div ng-repeat="item in header.requestPeriods"> \x3c!-- Show Summary View --\x3e <div class="summary-records" ng-if="item.isCollapsed" ng-class="{\'delete-item-indicator\': item.shouldDelete}"> <div class="row summary-record-section"> <div class="col-md-1 summary-record-selection"> <div> <button class="btn btn-link" ng-click="item.toggleDisplay()"> <span class="glyphicon glyphicon-triangle-right light-bg"></span> </button> </div> </div> <div class="col-md-11 data-section"> <div class="row"> <label class="col-md-3" for="requestStart" ng-bind="language.getLocale(\'section.calendar-request-periods.column.requeststart\')"></label> <label class="col-md-2" for="requestEnd" ng-bind="language.getLocale(\'section.calendar-request-periods.column.requestend\')"></label> <label class="col-md-3" for="bidType" ng-bind="language.getLocale(\'section.calendar-request-periods.column.bidType\')"></label> <label class="col-md-3" for="adHocType" ng-bind="language.getLocale(\'section.calendar-request-periods.column.adHocType\')"></label> <div class="col-md-1" ng-if="item.shouldDelete"> <span ng-bind="language.getLocale(\'section.calendar-request-periods.delete.message\')"></span> <button class="bt btn-link" ng-click="item.toggleDelete()" ng-bind="language.getLocale(\'button.undo\')"></button> </div> </div> <div class="row"> <span class="col-md-3" id="requestStart" ng-bind="item.data.timeOffCalendarRequestPeriodStartDate  | date:requestStart.dateFormat"></span> <span class="col-md-2" id="requestEnd" ng-bind="item.data.timeOffCalendarRequestPeriodEndDate  | date:requestEnd.dateFormat"></span> <span class="col-md-3" id="bidType" ng-bind="item.data.vacationBidType.description"></span> <span class="col-md-3" id="adHocType" ng-bind="item.data.timeOffAdHocType.timeOffAdHocTypeName"></span> </div> </div> </div> </div> \x3c!-- Show Detail view--\x3e <div ng-if="!item.isCollapsed"> <div class="row detail-records-section" ng-class="{\'delete-item-indicator\': item.shouldDelete}"> <div class="col-md-1 detail-record-selection"> <button class="btn btn-link" ng-click="item.toggleDisplay()"> <span class="glyphicon glyphicon-triangle-bottom light-bg"></span> </button> </div> <form name="detailForm" novalidate> <div class="col-md-11" ng-class="{\'record-error-details\': item.hasError,\'data-section\': !item.hasError}" data-ng-init="setForm(detailForm)"> <div class="row" ng-init="requestDateRange = dateRange(notifyChange)"> <div class="col-md-9"> <table> <tr> <td> <label class="date-range-request" for="requestStartDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.requeststart\')"></label> <div class="date-selector inline-block"> <input type="text" id="requestStartDetail" name="requestStartDetail" class="form-control" ng-class="{\'error-indicator\':requestDateRange.hasError || requestDate.fieldHasError}" uib-datepicker-popup="{{ ::requestDateRange.dateFormat}}" datepicker-options="requestDateRange.dateOptions" ng-init="item.data.timeOffCalendarRequestPeriodStartDate = getFormattedDate(item.data.timeOffCalendarRequestPeriodStartDate);" ng-model="item.data.timeOffCalendarRequestPeriodStartDate" is-open="requestDateRange.isStartOpen" min-date="requestDateRange.minDate" ng-required="true" ng-change="markAsDirty(null, item);requestDateRange.setDateFields(detailForm.requestStartDetail,item,item.data.timeOffCalendarRequestPeriodStartDate,item.data.timeOffCalendarRequestPeriodEndDate);" placeholder="{{ ::requestDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || ( !item.hasError && !requestDateRange.isDateValid(detailForm.requestStartDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="requestDateRange.toggleStartDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.requestStartDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to" ng-bind="language.getLocale(\'text.to\')"> </div>  <td> <label class="date-range-request" for="requestEndDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.requestend\')"></label> <div class="date-selector inline-block"> <input type="text" id="requestEndDetail" name="requestEndDetail" class="form-control" ng-class="{\'error-indicator\':requestDateRange.hasError}" uib-datepicker-popup="{{ ::requestDateRange.dateFormat}}" datepicker-options="requestDateRange.dateOptions" ng-init="item.data.timeOffCalendarRequestPeriodEndDate = getFormattedDate(item.data.timeOffCalendarRequestPeriodEndDate);" ng-model="item.data.timeOffCalendarRequestPeriodEndDate" is-open="requestDateRange.isEndOpen" min-date="requestDateRange.minDate" ng-required="true" ng-change="markAsDirty(null, item);requestDateRange.setDateFields(detailForm.requestEndDetail,item,item.data.timeOffCalendarRequestPeriodStartDate,item.data.timeOffCalendarRequestPeriodEndDate)" placeholder="{{ ::requestDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.requestEndDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="requestDateRange.toggleEndDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.requestEndDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> !item.canEdit:{{!item.canEdit}}<br> !item.hasError:{{!item.hasError}}<br> !requestDateRange.isDateValid(detailForm.requestEndDetail):{{!requestDateRange.isDateValid(detailForm.requestEndDetail)}} </span> </div>   <tr ng-if="requestDateRange.hasError"> <td colspan="3"> <span class="error-message-indicator" ng-bind="language.getLocale(\'validation.daterange\')"></span>   </table> </div> <div class="col-md-3"> <button class="btn btn-link pull-right" ng-click="item.toggleDelete()" ng-bind="language.getLocale(\'button.delete\')" ng-if="item.canEdit && !item.shouldDelete"></button> <div ng-if="item.shouldDelete"> <button class="btn btn-link pull-right" ng-click="item.toggleDelete()" ng-bind="language.getLocale(\'button.undodelete\')"></button> </div> </div> </div> <div class="row"> <div class="col-md-12"><hr></div> </div> <div class="row"> <div class="col-md-5"> <label for="allotmentDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.allotment\')"></label> <button class="btn btn-link display-allotment pull-right" ng-click="openAllotmentView()" ng-disabled="!lookups.allotment.hasData" ng-bind="language.getLocale(\'button.add\')"></button> <select id="allotmentDetail" name="allotmentDetail" class="form-control" ng-options="item as item.vacationAllotmentRuleName for item in lookups.allotment.data" ng-model="item.data.vacationAllotmentRule" ng-change="markAsDirty(null, item);" ng-disabled="!lookups.allotment.hasData || !item.canEdit" ng-required="true" required> </select> <span class="processing-indicator" ng-if="!lookups.allotment.hasData && !item.isNewRecord" ng-bind="language.getLocale(\'retrieve.data.notification\')"></span> </div> <div class="col-md-5"> <label for="seniorityTypeDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.seniorityType\')"></label> <select id="seniorityTypeDetail" name="seniorityTypeDetail" class="form-control" ng-options="item as item.seniorityEvaluationTypeName for item in lookups.seniorityType.data" ng-model="item.data.seniorityEvaluationType" ng-change="markAsDirty(null, item);" ng-disabled="!lookups.seniorityType.hasData || !item.canEdit" ng-required="true" required> </select> <span class="processing-indicator" ng-if="!lookups.seniorityType.hasData && !item.isNewRecord" ng-bind="language.getLocale(\'retrieve.data.notification\')"></span> </div> </div> <div class="row"> <div class="col-md-12"><hr></div> </div> <div class="row"> <div class="col-md-5"> <label for="vacationBidTypeDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType\')"></label> <select id="vacationBidTypeDetail" name="vacationBidTypeDetail" class="form-control" ng-options="item as item.description for item in lookups.vacationBidType.data" ng-model="item.data.vacationBidType" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidType.description === lookups.vacationBidType.constant.VacationBidWithAppointment ? item.data.vacationBidWithAppointment : item.data.vacationBidWithoutAppointment);" ng-disabled="!lookups.vacationBidType.hasData || !item.canEdit" ng-required="true" required> </select> <span class="processing-indicator" ng-if="!lookups.vacationBidType.hasData && !item.isNewRecord" ng-bind="language.getLocale(\'retrieve.data.notification\')"></span> </div> <div class="col-md-7"> \x3c!-- With Bid Appointment --\x3e <div ng-if="item.data.vacationBidType.description === lookups.vacationBidType.constant.VacationBidWithAppointment" ng-init="questionDateRange = dateRange(notifyChange)"> <table> <tr> <td> <label class="date-range-request" for="questionStartDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.questionstart\')"></label> <div class="date-selector inline-block"> <input type="text" id="questionStartDetail" name="questionStartDetail" class="form-control" ng-class="{\'error-indicator\':questionDateRange.hasError || questionDateRange.fieldHasError}" uib-datepicker-popup="{{ ::questionDateRange.dateFormat}}" datepicker-options="questionDateRange.dateOptions" ng-init="item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate = getFormattedDate(item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate);" ng-model="item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate" is-open="questionDateRange.isStartOpen" min-date="questionDateRange.minDate" ng-required="true" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithAppointment); questionDateRange.setDateFields(detailForm.questionStartDetail,item,item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate,item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate)" placeholder="{{ ::questionDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.questionStartDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="questionDateRange.toggleStartDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.questionStartDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to" ng-bind="language.getLocale(\'text.to\')"> </div>  <td> <label class="date-range-request" for="questionEndDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.questionend\')"></label> <div class="date-selector inline-block"> <input type="text" id="questionEndDetail" name="questionEndDetail" class="form-control" ng-class="{\'error-indicator\':questionDateRange.hasError}" uib-datepicker-popup="{{ ::questionDateRange.dateFormat}}" datepicker-options="questionDateRange.dateOptions" ng-init="item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate = getFormattedDate(item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate);" ng-model="item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate" is-open="questionDateRange.isEndOpen" min-date="questionDateRange.minDate" ng-required="true" ng-change="markAsDirty(\'vacationBidType\', item,item.data.vacationBidWithAppointment); questionDateRange.setDateFields(detailForm.questionEndDetail,item,item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionStartDate,item.data.vacationBidWithAppointment.vacationBidWithAppointmentQuestionEndDate)" placeholder="{{ ::questionDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.questionEndDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="questionDateRange.toggleEndDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.questionEndDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to"> </div>  <td ng-init="collectionStart = requestDate(notifyChange)"> <label class="date-range-request" for="collectionStartDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.collectionstart\')"></label> <div class="date-selector inline-block"> <input type="text" id="collectionStartDetail" name="collectionStartDetail" class="form-control" ng-class="{\'error-indicator\':collectionStart.fieldHasError" uib-datepicker-popup="{{ ::collectionStart.dateFormat}}" datepicker-options="collectionStart.dateOptions" ng-init="item.data.vacationBidWithAppointment.vacationBidWithAppointmentCollectionStartDate = getFormattedDate(item.data.vacationBidWithAppointment.vacationBidWithAppointmentCollectionStartDate);" ng-model="item.data.vacationBidWithAppointment.vacationBidWithAppointmentCollectionStartDate" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithAppointment); collectionStart.setDateField(detailForm.collectionStartDetail,item,item.data.vacationBidWithAppointment.vacationBidWithAppointmentCollectionStartDate)" is-open="collectionStart.isOpen" min-date="collectionStart.minDate" ng-required="true" placeholder="{{ ::collectionStart.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.collectionStartDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="collectionStart.toggleDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.collectionStartDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>   <tr ng-if="questionDateRange.hasError"> <td colspan="3"> <span class="error-message-indicator" ng-bind="language.getLocale(\'validation.daterange\')"></span>   <tr ng-init="evaluationDateRange = dateRange(notifyChange)"> <td> <label class="date-range-request" for="evaluationStartDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.evaluationstart\')"></label> <div class="date-selector inline-block"> <input type="text" id="evaluationStartDetail" name="evaluationStartDetail" class="form-control" ng-class="{\'error-indicator\':evaluationDateRange.hasError || evaluationDateRange.fieldHasError}" uib-datepicker-popup="{{ ::evaluationDateRange.dateFormat}}" datepicker-options="evaluationDateRange.dateOptions" ng-init="item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate = getFormattedDate(item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate);" ng-model="item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate" is-open="evaluationDateRange.isStartOpen" min-date="evaluationDateRange.minDate" ng-required="true" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithAppointment); evaluationDateRange.setDateFields(detailForm.evaluationStartDetail,item,item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate,item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate)" placeholder="{{ ::evaluationDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.evaluationStartDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="evaluationDateRange.toggleStartDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.evaluationStartDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to" ng-bind="language.getLocale(\'text.to\')"> </div>  <td> <label class="date-range-request" for="evaluationEndDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.evaluationend\')"></label> <div class="date-selector inline-block"> <input type="text" id="evaluationEndDetail" name="evaluationEndDetail" class="form-control" ng-class="{\'error-indicator\':evaluationDateRange.hasError}" uib-datepicker-popup="{{ ::evaluationDateRange.dateFormat}}" datepicker-options="evaluationDateRange.dateOptions" ng-init="item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate = getFormattedDate(item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate);" ng-model="item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate" is-open="evaluationDateRange.isEndOpen" min-date="evaluationDateRange.minDate" ng-required="true" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithAppointment); evaluationDateRange.setDateFields(detailForm.evaluationEndDetail,item,item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationStartDate,item.data.vacationBidWithAppointment.vacationBidWithAppointmentEvaluationEndDate)" placeholder="{{ ::evaluationDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.evaluationEndDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="evaluationDateRange.toggleEndDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.evaluationEndDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>   <tr ng-if="evaluationDateRange.hasError"> <td colspan="3"> <span class="error-message-indicator" ng-bind="language.getLocale(\'validation.daterange\')"></span>   </table> </div> \x3c!-- Without Bid Appointment --\x3e <div ng-if="item.data.vacationBidType.description === lookups.vacationBidType.constant.VacationBidWithoutAppointment" ng-init="withoutCollectionDateRange = dateRange(notifyChange)"> <table> <tr> <td> <label class="date-range-request" for="withoutCollectionStartDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.collectionstart\')"></label> <div class="date-selector inline-block"> <input type="text" id="withoutCollectionStartDetail" name="withoutCollectionStartDetail" class="form-control" ng-class="{\'error-indicator\':withoutCollectionDateRange.hasError || withoutCollectionDateRange.fieldHasError}" uib-datepicker-popup="{{ ::withoutCollectionDateRange.dateFormat}}" datepicker-options="withoutCollectionDateRange.dateOptions" ng-init="item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate = getFormattedDate(item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate);" ng-model="item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate" is-open="withoutCollectionDateRange.isStartOpen" min-date="withoutCollectionDateRange.minDate" ng-required="true" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithoutAppointment); withoutCollectionDateRange.setDateFields(detailForm.withoutCollectionStartDetail,item,item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate,item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate)" placeholder="{{ ::withoutCollectionDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.withoutCollectionStartDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="withoutCollectionDateRange.toggleStartDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.withoutCollectionStartDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to" ng-bind="language.getLocale(\'text.to\')"> </div>  <td> <label class="date-range-request" for="withoutCollectionEndDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.collectionend\')"></label> <div class="date-selector inline-block"> <input type="text" id="withoutCollectionEndDetail" name="withoutCollectionEndDetail" class="form-control" ng-class="{\'error-indicator\':withoutCollectionDateRange.hasError}" uib-datepicker-popup="{{ ::withoutCollectionDateRange.dateFormat}}" datepicker-options="withoutCollectionDateRange.dateOptions" ng-init="item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate = getFormattedDate(item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate);" ng-model="item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate" is-open="withoutCollectionDateRange.isEndOpen" min-date="withoutCollectionDateRange.minDate" ng-required="true" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithoutAppointment); withoutCollectionDateRange.setDateFields(detailForm.withoutCollectionEndDetail,item,item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionStartDate,item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentCollectionEndDate)" placeholder="{{ ::withoutCollectionDateRange.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.withoutCollectionEndDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="withoutCollectionDateRange.toggleEndDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.withoutCollectionEndDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to"> </div>  <td ng-init="withoutEvaluation = requestDate(notifyChange)"> <label class="date-range-request" for="withoutEvaluationDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.vacationBidType.evaluationdate\')"></label> <div class="date-selector inline-block"> <input type="text" id="withoutEvaluationDetail" name="withoutEvaluationDetail" class="form-control" ng-class="{\'error-indicator\': withoutEvaluation.fieldHasError}" uib-datepicker-popup="{{ ::withoutEvaluation.dateFormat}}" datepicker-options="withoutEvaluation.dateOptions" ng-init="item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentEvaluationDate = getFormattedDate(item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentEvaluationDate);" ng-model="item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentEvaluationDate" ng-change="markAsDirty(\'vacationBidType\', item, item.data.vacationBidWithoutAppointment); withoutEvaluation.setDateField(detailForm.withoutEvaluationDetail,item,item.data.vacationBidWithoutAppointment.vacationBidWithoutAppointmentEvaluationDate)" is-open="withoutEvaluation.isOpen" min-date="withoutEvaluation.minDate" ng-required="true" placeholder="{{ ::withoutEvaluation.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.withoutEvaluationDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="withoutEvaluation.toggleDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !requestDateRange.isDateValid(detailForm.withoutEvaluationDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>   <tr ng-if="withoutCollectionDateRange.hasError"> <td colspan="3"> <span class="error-message-indicator" ng-bind="language.getLocale(\'validation.daterange\')"></span>   </table> </div> </div> </div> <div class="row"> <div class="col-md-12"><hr></div> </div> <div class="row"> <div class="col-md-5"> <label for="adHocTypeDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.adHocType\')"></label> <select id="adHocTypeDetail" name="adHocTypeDetail" class="form-control" ng-options="item as item.timeOffAdHocTypeName for item in lookups.adHocType.data" ng-model="item.data.timeOffAdHocType" ng-change="markAsDirty(\'adhocCyclical\', item, item.data.timeOffAdHocType.timeOffAdHocTypeName === lookups.adHocType.constant.CyclicalEvaluation ? item.data.timeOffAdHocType : null, detailForm); " ng-disabled="!lookups.adHocType.hasData || !item.canEdit" ng-required="true" required> </select> <span class="processing-indicator" ng-if="!lookups.adHocType.hasData && !item.isNewRecord" ng-bind="language.getLocale(\'retrieve.data.notification\')"></span> </div> <div class="col-md-2" ng-init="adhocStart = requestDate(notifyChange)"> <label for="adHOCStartDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.adHocStart\')"></label> <div class="date-selector inline-block"> <input type="text" id="adHOCStartDetail" name="adHOCStartDetail" class="form-control" ng-class="{\'error-indicator\': adhocStart.fieldHasError}" uib-datepicker-popup="{{ ::adhocStart.dateFormat}}" datepicker-options="adhocStart.dateOptions" ng-init="item.data.timeOffCalendarRequestPeriodAdHocStartDate = getFormattedDate(item.data.timeOffCalendarRequestPeriodAdHocStartDate);" ng-model="item.data.timeOffCalendarRequestPeriodAdHocStartDate" ng-change="adhocStart.setDateField(detailForm.adHOCStartDetail,item,item.data.timeOffCalendarRequestPeriodAdHocStartDate)" is-open="adhocStart.isOpen" min-date="adhocStart.minDate" ng-required="true" placeholder="{{ ::adhocStart.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !adhocStart.isDateValid(detailForm.adHOCStartDetail))" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="adhocStart.toggleDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !adhocStart.isDateValid(detailForm.adHOCStartDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div class="col-md-5"> \x3c!-- Cyclical Evaluation --\x3e <div ng-if="item.data.timeOffAdHocType.timeOffAdHocTypeName === lookups.adHocType.constant.CyclicalEvaluation"> <table> <tr> <td> <div class="date-range-to"> </div>  <td ng-init="firstProcessing = requestDate(notifyChange)"> <label for="firstProcessingDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.adhocType.firstprocessing\')"></label> <div class="date-selector inline-block"> <input type="text" id="firstProcessingDetail" name="firstProcessingDetail" class="form-control" ng-class="{\'error-indicator\': firstProcessing.fieldHasError}" uib-datepicker-popup="{{ ::firstProcessing.dateFormat}}" datepicker-options="firstProcessing.dateOptions" ng-init="item.data.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessStartDate = getFormattedDate(item.data.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessStartDate);" ng-model="item.data.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessStartDate" ng-change="markAsDirty(\'adhocCyclical\', item, item.data.adHocTimeOffCyclicalSchedule, detailForm); firstProcessing.setDateField(detailForm.firstProcessingDetail,item,item.data.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessStartDate)" is-open="firstProcessing.isOpen" min-date="firstProcessing.minDate" ng-required="true" placeholder="{{ ::firstProcessing.datePlaceholder}}" close-text="Close" ng-disabled="!item.canEdit || (!item.hasError && !firstProcessing.isDateValid(detailForm.firstProcessingDetail))"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="firstProcessing.toggleDatePicker()" ng-disabled="!item.canEdit || (!item.hasError && !firstProcessing.isDateValid(detailForm.firstProcessingDetail))"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div>  <td> <div class="date-range-to"> </div>  <td> <label for="processingFrequencyDetail" ng-bind="language.getLocale(\'section.calendar-request-periods.column.adhocType.processingfrequency\')"></label> <div class="date-selector inline-block"> <input type="text" id="processingFrequencyDetail" name="processingFrequencyDetail" class="form-control" ng-class="{\'error-indicator\': detailForm.processingFrequencyDetail.$invalid}" ng-model="item.data.adHocTimeOffCyclicalSchedule.adHocTimeOffCyclicalScheduleProcessFrequencyDayCount" ng-change="markAsDirty(\'adhocCyclical\',item, item.data.adHocTimeOffCyclicalSchedule, detailForm);" ng-required="true" ng-disabled="!item.canEdit" required> </div> <span ng-if="detailForm.processingFrequencyDetail.$invalid" class="error-message-indicator" ng-bind="language.getLocale(\'section.calendar-request-periods.adhocType.processingfrequency.errormessage\')"></span>   </table> </div> </div> </div> </div> </form> </div> </div> </div> </div>'),a.put("app/directives/partials/confirmDialog.html",'<div class="alert-modal-content"> <span class="alert-modal-icon kng-icon-font kng-ic_alert"> </span> <span class="alert-modal-headline"> <span class="confirm-dialog-message" ng-bind="confirmDialogVm.message"> </span> <span class="confirm-dialog-message" ng-bind="confirmDialogVm.confirmQuestion"> </span> </span> </div> <div class="alert-modal-footer kng-button-bar"> <a class="kng-button kng-button-secondary" ng-click="confirmDialogVm.cancel()" ng-bind="confirmDialogVm.cancelButtonText"> </a> <a class="kng-button kng-button-primary" ng-bind="confirmDialogVm.confirmButtonText" ng-click="confirmDialogVm.confirm()"> </a> </div>'),
a.put("app/directives/partials/drop-down.html",'<span ng-class="{\'drop-down-label-disabled\': dropDownVm.disabled}" ng-bind="dropDownVm.label" ng-if="!dropDownVm.header"> </span> <span ng-if="dropDownVm.required === true" ng-if="!dropDownVm.header" ng-class="{\'drop-down-label-disabled\': dropDownVm.disabled}" class="drop-down-label-required"> * </span> <div class="drop-down-control"> <div class="display-window" ng-class="{\'drop-down-disabled\': dropDownVm.disabled}" ng-click="dropDownVm.toggle()"> <span class="option-summary" ng-class="{\'option-summary-open\': dropDownVm.dropDownOpen}" ng-bind="dropDownVm.optionSummary"></span> <span class="kng-icon-font kng-ic_arrow_opened"></span> </div> <div class="drop-down-position-container"> <div class="drop-down-options-container"> <div class="drop-down-options" ng-class="{\'drop-down-options-open\': dropDownVm.dropDownOpen}"> <div ng-repeat="option in dropDownVm.options" class="drop-down-option" ng-class="{\'drop-down-option-selected\': dropDownVm.optionSelected(option)}" ng-click="dropDownVm.toggleOption(option)"> <span class="kng-icon-font" ng-if="dropDownVm.multiple" ng-class="{\n              \'kng-check_off\': !option.selected,\n              \'kng-check_on\': option.selected\n              }"> </span> <span ng-class="{\'option-label\': dropDownVm.multiple}" ng-bind="option.label"> </span> </div> </div> </div> </div> </div>'),a.put("app/directives/partials/faq-item.html",'<p> <a href="#" class="faq-question" id="question_{{faqItem.name}}" ng-click="faqVm.toggleAnswer($event)"> <span ng-bind-html="faqItem.customProperties.Question"></span> </a> <div class="faq-answer" id="answer_{{faqItem.name}}" ng-show="faqVm.showAnswer" ng-bind-html="faqItem.customProperties.Answer"> </div> </p>'),a.put("app/directives/partials/informational-modal.html",'<div class="informational-modal-content"> <div id="informational-modal-header" class="informational-modal-header"> <span ng-bind="headline"> </span> </div> <div id="informational-modal-body" class="informational-modal-body"> <p ng-repeat="item in information" ng-bind="item"> </p> </div> </div> <div class="informational-modal-footer"> <button type="button" class="btn btn-default btn-success" ng-click="informationalModalVm.cancelModal()" ng-bind="informationalModalVm.language.getLocale(\'button.close\')"> </button> </div>'),a.put("app/directives/partials/main-menu.html",'<div class="main-menu-panel-header"> <span ng-bind="mainMenuVm.language.getLocale(\'section.main-menu.welcome\')"> </span>, <span ng-bind="mainMenuVm.firstName"> </span> </div> <div class="main-menu-panel-body"> <div ng-if="mainMenuVm.scheduleSection.hasItems" ng-repeat="scheduleItem in mainMenuVm.scheduleSection.items" class="main-menu-panel-link"> <span ng-bind="scheduleItem.name" ng-click="mainMenuVm.onNavigate(scheduleItem.route)"> </span> </div> <hr ng-if="mainMenuVm.callOutSection.hasItems && mainMenuVm.scheduleSection.hasItems"> <div ng-if="mainMenuVm.callOutSection.hasItems" ng-repeat="callOutItem in mainMenuVm.callOutSection.items" class="main-menu-panel-link"> <span ng-bind="callOutItem.name" ng-click="mainMenuVm.onLinkClick(callOutItem.route)"> </span> </div> <hr ng-if="(mainMenuVm.shiftTradeSection.hasItems || mainMenuVm.timeOffSection.hasItems) && (mainMenuVm.scheduleSection.hasItems || mainMenuVm.callOutSection.hasItems)"> <div ng-if="mainMenuVm.shiftTradeSection.hasItems" ng-repeat="shiftTradeItem in mainMenuVm.shiftTradeSection.items" class="main-menu-panel-link"> <span ng-bind="shiftTradeItem.name" ng-click="mainMenuVm.onLinkClick(shiftTradeItem.route)"> </span> </div> <div ng-if="mainMenuVm.timeOffSection.hasItems" ng-repeat="timeOffItem in mainMenuVm.timeOffSection.items" class="main-menu-panel-link"> <span ng-bind="timeOffItem.name" ng-click="mainMenuVm.onLinkClick(timeOffItem.route)"> </span> </div> <hr ng-if="(mainMenuVm.externalLinks.hasItems || mainMenuVm.adminSection.hasItems) && (mainMenuVm.shiftTradeSection.hasItems || mainMenuVm.scheduleSection.hasItems || mainMenuVm.callOutSection.hasItems || mainMenuVm.timeOffSection.hasItems)"> <div ng-if="mainMenuVm.adminSection.hasItems" ng-repeat="adminItem in mainMenuVm.adminSection.items" class="main-menu-panel-link"> <span ng-bind="adminItem.name" ng-click="mainMenuVm.onLinkClick(adminItem.route)"> </span> </div> <div ng-if="mainMenuVm.externalLinks.hasItems" ng-repeat="externalLinkItem in mainMenuVm.externalLinks.items" class="main-menu-panel-link"> <span ng-bind="externalLinkItem.name" ng-click="mainMenuVm.onExternalLinkClick(externalLinkItem.route)"> </span> </div> <div class="kng-button-bar"> <a class="kng-button kng-button-secondary" ng-click="mainMenuVm.logout()" ng-bind="mainMenuVm.language.getLocale(\'button.logout\')"> </a> </div> </div>'),a.put("app/directives/partials/navigation.html",'<div class="container"> <header class="navbar-header"> <div return-to-landing></div> <img src="/assets/images/wdw.5ac55b8e.png" alt="Walt Disney World" class="nav-logo"> <a class="navbar-logout-button" ng-bind="nav.language.getLocale(\'button.logout\')" ng-click="nav.logout()"></a> <div class="bell-notification" bell-notification></div> </header> </div>'),a.put("app/directives/partials/perner-search.html",'<form name="castVm.searchForm" novalidate> <div class="form-group perner search-form-container"> <div class="row"> <span class="global-perner-search" ng-bind="castVm.language.getLocale(\'text.on-behalf-of.description\')"> </span> <span class="perner-search-name" ng-bind="castVm.userSearchResult.firstName"> </span> <span class="perner-search-name" ng-bind="castVm.userSearchResult.lastName"> </span> </div> <div class="perner-input-container"> <input type="text" class="form-control" name="perner" id="pernerInput" placeholder="{{castVm.language.getLocale(\'text.on-behalf-of.placeholder\')}}" ng-model="castVm.session.searchPerner" autofocus tabindex="1" required ng-pattern="/^[0-9]{8,8}$/"> <div class="panel panel-alert" ng-show="castVm.searchForm.$submitted && castVm.searchForm.perner.$error.required" ng-bind="castVm.language.getLocale(\'validation.perner.empty\')"> </div> <div class="panel panel-alert" ng-show="castVm.searchForm.$error.pattern"> 8 digit perner </div> </div> <div id="searchContainer" class="inline-block"> <button type="submit" id="searchBtn" class="custom-icon-search" ng-click="castVm.getCastMember(true)" tabindex="2"> </button> </div> </div> </form>'),a.put("app/directives/partials/return-to-landing.html",'<div class="return-to-landing-container"> <a class="link" ng-click="returnToLandingVm.openMenu()" ng-if="!returnToLandingVm.inHelpPage && !returnToLandingVm.navigateToScheduleView.isActive"> <i class="landing-indicator kng-icon-font kng-ic_hd_menu_global_nav"></i> </a> <a href="#" id="return-to-landing-previous-link" class="link" ng-if="!returnToLandingVm.inHelpPage && returnToLandingVm.navigateToScheduleView.isActive" ng-click="returnToLandingVm.handlePreviousClick()"> <i class="landing-indicator workforce-icon-font wm-Icon_Previous"></i> </a> <a href="#" id="return-to-landing-previous-link" class="link" ng-if="returnToLandingVm.inHelpPage === true" ng-click="returnToLandingVm.handlePreviousClickFromHelp()"> <i class="landing-indicator workforce-icon-font wm-Icon_Previous"></i> </a> </div>'),a.put("app/directives/partials/type-ahead.html",'<span ng-bind="typeAheadVm.label"> </span> <span ng-if="typeAheadVm.getIsRequired()" class="type-ahead-label-required"> * </span> <div class="type-ahead-control" ng-class="{\'type-ahead-disabled\': typeAheadVm.disableUpdating}"> <div class="display-window"> <input type="text" class="option-summary" size="34" placeholder="{{typeAheadVm.placeholder}}" ng-model="typeAheadVm.searchString" ng-change="typeAheadVm.onOptionListChange()" ng-disabled="typeAheadVm.disableUpdating"> <span ng-if="typeAheadVm.showClearButton()" ng-click="typeAheadVm.clear()" tabindex="-1" class="type-ahead-clear kng-icon-font kng-ic_close"> </span> </div> <div class="type-ahead-position-container"> <div class="type-ahead-options-container"> <div class="type-ahead-options" ng-class="{\'type-ahead-options-open\': typeAheadVm.typeAheadOpen}"> <div ng-repeat="option in typeAheadVm.options" class="type-ahead-option" ng-click="typeAheadVm.toggleOption(option)"> <span ng-bind="option.label"> </span> </div> </div> </div> </div> </div>'),a.put("app/directives/partials/unauthorized.html",'<div class="hpadding bpadding"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="unauthorizedVm.language.getLocale(\'section.error.message.unauthorized\')"></div> </div> </div> </div>'),a.put("app/features/ahsu/ahsu.html",'<div id="ahsu-content-drawer-content" class="content-drawer-content" ng-class="{\'three-button\': ahsuVm.showDeleteButton}"> <div id="ahsu-content-drawer-header" class="content-drawer-header"> <div class="pocket-panel-title"> <span ng-bind="ahsuVm.language.getLocale(\'section.ahsu.title\')"> </span> </div> </div> <div id="ahsu-form" class="content-drawer-body"> <div class="ahsu-date-container"> <span ng-bind="ahsuVm.language.getLocale(\'label.startDate\')"> </span> * <br> <div class="date-selector"> <input type="text" name="startDate" class="form-control" uib-datepicker-popup="{{ahsuVm.dateFormat}}" datepicker-options="ahsuVm.dateOptions" ng-model="ahsuVm.startDate" min-date="ahsuVm.minDate" is-open="ahsuVm.status.start.open" ng-change="ahsuVm.dateRange.startDateChange(ahsuVm, ahsuVm.startDate, ahsuVm.endDate)" ng-required="true" placeholder="{{ahsuVm.datePlaceholder}}" close-text="Close" ng-disabled="true"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="ahsuVm.openDatePicker($event, \'start\')" ng-disabled="true"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div class="ahsu-date-container"> <span ng-class="{\'error-message\': ahsuVm.dateRange.endDateHasError || ahsuVm.dateRange.notInRange}"> <span ng-bind="ahsuVm.language.getLocale(\'label.endDate\')"> </span> * </span> <br> <div class="date-selector"> <input type="text" name="endDate" class="form-control" ng-class="{\'error-indicator\': ahsuVm.dateRange.endDateHasError || ahsuVm.dateRange.notInRange}" uib-datepicker-popup="{{ahsuVm.dateFormat}}" datepicker-options="ahsuVm.dateOptions" ng-model="ahsuVm.endDate" min-date="ahsuVm.startDate" is-open="ahsuVm.status.end.open" ng-change="ahsuVm.dateRange.endDateChange(ahsuVm, ahsuVm.startDate, ahsuVm.endDate)" ng-required="true" ng-disabled="!ahsuVm.isEdit" placeholder="{{ahsuVm.datePlaceholder}}" close-text="Close"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="ahsuVm.openDatePicker($event, \'end\')" ng-disabled="!ahsuVm.isEdit"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> <p class="error-message" ng-bind="ahsuVm.language.getLocale(\'model.request.daterange.error.ahsu\')" ng-if="ahsuVm.dateRange.notInRange"> </p> </div> <div drop-down id="availability-days-of-week-drop-down" ng-if="ahsuVm.access.canDoReoccurringAvailability && ahsuVm.multipleDaysSelected" class="drop-down panel-drop-down" label="ahsuVm.language.getLocale(\'section.ahsu.days-of-week.label\')" options="ahsuVm.daysOfWeek" required="false" multiple="true" get-option-summary="ahsuVm.getDaysOfWeekSummary()"></div> <div ng-if="ahsuVm.access.canCanDoPartialAvailability" class="ehh-search-control-container"> <div drop-down id="availability-time-range-drop-down" class="drop-down eligibility-drop-down" label="ahsuVm.language.getLocale(\'section.ahsu.time-range.label\')" options="ahsuVm.timeRangeOptions" required="true" multiple="false" get-option-summary="ahsuVm.getTimeRangeSummary()"></div> <div drop-down id="availability-time-drop-down" class="drop-down eligibility-drop-down" ng-if="ahsuVm.timeRange !== ahsuVm.timeRanges.allDay" options="ahsuVm.timeOptions" required="false" multiple="false" get-option-summary="ahsuVm.getTimeSummary()"></div> </div> <div drop-down id="availability-location-drop-down" class="drop-down panel-drop-down" label="ahsuVm.language.getLocale(\'section.ahsu.location.label\')" options="ahsuVm.locationOptions" required="true" multiple="false" get-option-summary="ahsuVm.getLocationSummary()"></div> </div> </div> <div class="content-drawer-footer"> <button type="button" class="btn btn-danger" ng-if="ahsuVm.showDeleteButton" ng-bind="ahsuVm.language.getLocale(\'button.delete.request\')" ng-click="ahsuVm.remove(ahsuVm)" ng-disabled="ahsuVm.isProcessing || ahsuVm.dateRange.endDateHasError || ahsuVm.dateRange.notInRange"> </button> <button type="button" class="btn btn-default" ng-click="ahsuVm.cancelModal()" ng-disabled="ahsuVm.isProcessing" ng-bind="ahsuVm.language.getLocale(\'button.cancel\')"> </button> <button type="button" class="btn btn-success" ng-if="ahsuVm.isEdit" ng-bind="ahsuVm.language.getLocale(\'button.submit\')" ng-click="ahsuVm.save(ahsuVm)" ng-disabled="ahsuVm.isProcessing || ahsuVm.dateRange.startDateHasError || ahsuVm.dateRange.endDateHasError || ahsuVm.dateRange.notInRange"> </button> </div>'),a.put("app/features/bid/bid.html",'<div class="pool bid page container back flex outer-modal-container"> <div class="page-header order-0 padding clearfix"> <h1 ng-bind="bidVm.title" class="page-title"></h1> </div> <div class="order-2"> <div ng-if="bidVm.userMsgType === \'notScheduler\'" class="hpadding bpadding"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="bidVm.language.getLocale(\'notifications.bid.message.notscheduler\')"></div> </div> </div> </div> <div class="white-pane search-form-container t-margin-0"> <div class="flex"> <div class="order-1 clearfix"> <form name="bidVm.searchForm" novalidate> <div class="clearfix"> <div class="float-left"> <div class="typeahead-selector"> <input type="text" name="pool" class="form-control" uib-typeahead="item as item.name for item in bidVm.pools | filter:{name:$viewValue} | limitTo:100" typeahead-min-length="0" typeahead-show-hint="true" typeahead-no-results="noPoolResults" ng-model="bidVm.searchPool" ng-disabled="bidVm.$state.$current.name.indexOf(\'cast-member-list\') === -1" typeahead-on-select="bidVm.getCastMembersByPool(true)" placeholder="{{ ::bidVm.language.getLocale(\'placeholder.threshold.poolname\')}}" required> <span auto-close="disabled" is-open="true" uib-dropdown uib-dropdown-toggle> <ul class="uib-dropdown-menu" ng-show="noPoolResults"> <li>No Results Found</li> </ul> </span> <div class="panel panel-alert" ng-show="bidVm.searchForm.$submitted && !bidVm.isObject(bidVm.searchPool)" ng-bind="bidVm.language.getLocale(\'validation.poolname.required\')"> </div> </div> </div> </div> </form> <div class="info-container"> <a ng-href="{{bidVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="bidVm.language.getLocale(\'section.help.label\')"></span> </a> </div> </div> </div> </div> <div class="main" ui-view="viewMain"> </div> </div> </div>'),a.put("app/features/bid/cast-member-detail.html",'<div ng-if="bidVm.castMemberLoaded" class="white-pane bid-detail-overflow"> <a href="#" class="float-right" ng-click="bidVm.refreshCastMember()"> <span class="glyphicon glyphicon-refresh"> </span> <span ng-bind="bidVm.language.getLocale(\'button.refresh\')"> </span> </a> <span class="cast-member-name" ng-bind="bidVm.castMember.name"> </span> <br> <span ng-bind="bidVm.castMember.employeePersonnelNumber"> </span> <br> <span ng-bind="bidVm.language.getLocale(\'section.bid.table.header.senioritydate\')"></span>: <span ng-bind="bidVm.castMember.seniorityDate  | dateTime : \'\': \'MM/DD/YYYY\'"> </span> <br> <span ng-bind="bidVm.language.getLocale(\'section.bid.table.header.vacationbidoverridedate\')"></span>: <span ng-bind="bidVm.castMember.vacationBidOverrideDate  | dateTime : \'\': \'MM/DD/YYYY\'"> </span> <br> <span ng-if="bidVm.bidPoolHasAppointments"> <span ng-bind="bidVm.language.getLocale(\'section.bid.table.header.appointmentstatus\')"></span> <span class="glyphicon" ng-class="{\n                \'glyphicon-ok\': bidVm.castMember.appointment.hasAppointment,\n                \'glyphicon-remove\': bidVm.castMember.noAppointment,\n                \'processed\' : bidVm.castMember.appointment.hasAppointment,\n                \'not-processed\': bidVm.castMember.noAppointment,\n                \'glyphicon-minus\' : bidVm.castMember.noAnswer,\n                \'no-answer\': bidVm.castMember.noAnswer\n            }"> </span> </span> <br> <br> <table class="availability-list bmargin-40"> <thead> <tr> <th class="tcell col"> <span ng-bind="bidVm.language.getLocale(\'section.bid.table.header.requesteddate\')"> </span>  <th class="tcell col"> <span ng-bind="bidVm.language.getLocale(\'section.bid.table.header.requesteddateavailability\')"> </span>    <tbody> <tr class="trow" ng-repeat="item in bidVm.castMember.requestedDates"> <td class="tcell col"> <span ng-bind="item.requestedDate | dateTime : \'\': \'MM/DD/YYYY\'"> </span>  <td class="tcell col"> <div ng-class="{\n                        \'approved\': item.isAvailable, \n                        \'waitlist\': !item.isAvailable\n                        }"> </div>    </table> </div> <div class="clearfix button-container padding order-4 white-pane"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ui-sref="cast.bid.cast-member-list" ng-bind="bidVm.language.getLocale(\'button.cancel\')"> </button> <button href="#" type="submit" class="btn btn-success order-1 submit" ng-disabled="bidVm.processingCastMember || !bidVm.editMode" ng-click="bidVm.processCastMember()" ng-bind="bidVm.language.getLocale(\'button.bid.processcastmember\')"> </button> </div> </div>'),a.put("app/features/bid/cast-member-list.html",'<div ng-show="bidVm.castMembersLoaded"> <div class="white-pane"> <div class="relative"> <div class="inline-block"> <label for="filterByName" class="unstyled" ng-bind="bidVm.language.getLocale(\'section.bid.label.filter\')"> </label> <input type="text" name="filterByName" id="filterByName" class="form-control width-290 bmargin-20" ng-model="bidVm.filterByName" ng-model-options="{ debounce: 500 }" ng-change="bidVm.filterChanged()" placeholder="{{ ::bidVm.language.getLocale(\'placeholder.bid.filter\')}}"> </div> <div class="toggle-processed inline-block"> <input type="checkbox" name="filterByProcessed" id="filterByProcessed" ng-model="bidVm.filterByProcessed" ng-change="bidVm.filterChanged()"> <label for="toggleProcessed" class="unstyled" ng-bind="bidVm.language.getLocale(\'section.bid.label.filter.processed\')"> </label> </div> <div class="absolute-right offset-30"> <div spinner id="filter-spinner" class="hide"> <div class="spinner spinner-sm"> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> <div class="spinner-blade"></div> </div> </div> </div> </div> <div class="userNotification notice fill-container" role="alert" aria-live="assertive" ng-if="bidVm.filteredCastMembers.length === 0"> <div class="inline-block"> <div ng-bind="bidVm.language.getLocale(\'notifications.message.search.noresults\')"></div> </div> </div> <div ng-show="bidVm.filteredCastMembers.length > 0"> <div class="cast-member-list"> <div class="thead trow"> <div class="tcell tperner" ng-bind="bidVm.language.getLocale(\'section.transfer.table.header.perner\')"> </div> <div class="tcell fullname" ng-bind="bidVm.language.getLocale(\'section.transfer.table.header.fullname\')"> </div> <div class="tcell tprocessed" ng-bind="bidVm.language.getLocale(\'section.bid.table.header.castmemberbidstatus\')"> </div> <div class="tcell appointment" ng-if="bidVm.bidPoolHasAppointments" ng-bind="bidVm.language.getLocale(\'section.bid.table.header.appointmentstatus\')"> </div> <div class="tcell date" ng-bind="bidVm.language.getLocale(\'section.bid.table.header.senioritydate\')"> </div> <div class="tcell date" ng-bind="bidVm.language.getLocale(\'section.bid.table.header.vacationbidoverridedate\')"> </div> </div> <div id="bid-virtual-list" class="virtual-list" virtual-list container="bid-virtual-list" parent-vm="bidVm" ui-data-provider="bidVm.filteredCastMembers" template-url="app/features/bid/partials/bid-virtual-list.html"> </div> </div> </div> </div> <div class="clearfix button-container padding order-4 white-pane"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="bidVm.handleCancelClick()" ng-bind="bidVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-disabled="bidVm.bidListContinueDisabled || bidVm.processingBidComplete || !bidVm.editMode" ng-click="bidVm.handleContinueClick()" ng-bind="bidVm.bidListContinueLabel"> </button> </div> </div> <div edit-seniority-date-container></div> </div>'),a.put("app/features/bid/partials/bid-virtual-list.html",'<div ng-style="canvasHeight"> <div class="rendered-item" ng-repeat="item in visibleProvider" ng-style="item.styles"> <div class="tcell tperner"> <div ng-bind="item.employeePersonnelNumber"></div> </div> <div class="tcell fullname"> <div ng-bind="item.name"></div> </div> <div class="tcell center tprocessed"> <span class="glyphicon" ng-class="{\n                \'glyphicon-ok\': item.isProcessed,\n                \'processed\' : item.isProcessed\n                }"> </span> </div> <div class="tcell center appointment" ng-if="bidVm.bidPoolHasAppointments"> <span class="glyphicon" ng-class="{\n                \'glyphicon-ok\': item.appointment.hasAppointment,\n                \'glyphicon-remove\': item.noAppointment,\n                \'processed\' : item.appointment.hasAppointment,\n                \'not-processed\': item.noAppointment,\n                \'glyphicon-minus\' : item.noAnswer,\n                \'no-answer\': item.noAnswer\n                }"> </span> </div> <div class="tcell date"> <div ng-bind="item.seniorityDate  | dateTime : \'\': \'MM/DD/YYYY\'"></div> </div> <div class="tcell date"> <div ng-bind="item.vacationBidOverrideDate  | dateTime : \'\': \'MM/DD/YYYY\'"></div> </div> <div class="tcell edit"> <a href="#" ng-if="item.isProcessed === false" ng-click="bidVm.castMemberEdited(item)"> <div class="glyphicon glyphicon-pencil"> </div> </a> </div> </div> </div>'),a.put("app/features/bid/partials/edit-seniority-date-form.html",'<div class="side-modal-body white-container"> <div class="modal-header clearfix"> <div class="title float-left" ng-bind="editSeniorityDateFormVm.language.getLocale(\'modal.bid.header.title\')"> </div> <button type="button" class="float-right close-modal unstyled" ng-click="editSeniorityDateFormVm.cancelModal(\'#edit-seniority-date-modal\', true)"> X </button> </div> <div class="padding"> <form name="editSeniorityDateFormVm.form" novalidate> <div class="gray-pane bmargin-20"> <div class="inline-block date-container"> <div> <label class="unstyled" ng-bind="editSeniorityDateFormVm.language.getLocale(\'label.date\')"> </label> </div> <div class="date-selector"> <input type="text" name="vacationBidOverrideDate" class="form-control" uib-datepicker-popup="{{editSeniorityDateFormVm.dateFormat}}" datepicker-options="editSeniorityDateFormVm.dateOptions" ng-model="editSeniorityDateFormVm.vacationBidOverrideDate" min-date="editSeniorityDateFormVm.minDate" max-date="editSeniorityDateFormVm.maxDate" is-open="editSeniorityDateFormVm.status.open" ng-required="true" placeholder="{{editSeniorityDateFormVm.datePlaceholder}}" close-text="Close"> <input type="hidden" name="employeePersonnelNumber" value="{{editSeniorityDateFormVm.employeePersonnelNumber}}"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="editSeniorityDateFormVm.openDatePicker($event)"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> </div> <div class="bpadding"></div><div class="bmargin-40"></div> <div class="button-container"> <button type="submit" class="btn btn-success bmargin-20" ng-click="editSeniorityDateFormVm.submit(editSeniorityDateFormVm.scope)" ng-bind="editSeniorityDateFormVm.language.getLocale(\'button.save\')" ng-disabled="editSeniorityDateFormVm.form.$valid === false || editSeniorityDateFormVm.processing === true"> </button> <button type="button" class="btn btn-default cancel-btn" ng-click="editSeniorityDateFormVm.cancelModal(\'#edit-seniority-date-modal\', true)" ng-bind="editSeniorityDateFormVm.language.getLocale(\'button.cancel\')"> </button> <div ng-if="editSeniorityDateFormVm.vacationBidOverrideDate"> <div class="horizontal-partition"></div> <button type="button" class="btn btn-danger" ng-click="editSeniorityDateFormVm.deleteAdjustedDate()" ng-bind="editSeniorityDateFormVm.language.getLocale(\'button.delete\')"> </button> </div> </div> </form> </div> </div>'),a.put("app/features/calendar-maintenance/calendar-maintenance.directive.view-allotment-form.html",'<div class="side-modal-body white-container"> <div class="modal-header clearfix"> <div class="title float-left" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.title\')"> </div> <button type="button" class="float-right close-modal unstyled" ng-click="viewAllotmentFormVm.cancelModal(\'{{viewAllotmentFormVm.modalId}}\')" ng-bind="viewAllotmentFormVm.language.getLocale(\'modal.close.x\')"> </button> </div> \x3c!-- Allotments Section --\x3e <div class="calendar-list"> <div class="allotment-row allotment-row-header"> <div class="row"> <span class="col-md-4 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.column.name\')"></span> <span class="col-md-3 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.column.floatingholidays\')"></span> <span class="col-md-3 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.column.ebbank\')"></span> </div> </div> <div class="allotment-row-details"> <div class="allotment-row details" ng-repeat="item in viewAllotmentFormVm.allotments"> <div class="row" ng-class="{\'odd-row\':$index%2==1,\'even-row\':$index%2==0}"> <span class="col-md-4 col-sm-1" ng-bind="item.vacationAllotmentRuleName"></span> <span class="col-md-3 col-sm-1" ng-bind="item.vacationAllotmentRuleFloatingHolidayDayCount"></span> <span class="col-md-3 col-sm-1" ng-bind="item.vacationAllotmentRuleEmployeeBenefitBankInclusionIndicator"></span> <div class="col-md-2 col-sm-1"> <a href="#" ng-click="viewAllotmentFormVm.editAllotment(item)"> <div class="glyphicon glyphicon-pencil"> </div> </a> </div> </div> </div> </div> </div> <button class="btn btn-link create-allotment" ng-click="viewAllotmentFormVm.allotment.createAllotment()" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.createallotment\')"></button> <form name="viewAllotmentFormVm.editForm" class="allotment-edit-form"> <div ng-if="viewAllotmentFormVm.allotment.data" class="allotment-edit"> <div class="row"> <span class="col-md-6 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.column.name\')"></span> <span class="col-md-4 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.column.floatingholidays\')"></span> <span class="col-md-2 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.column.ebbank\')"></span> </div> <div class="row"> <div class="col-md-6 col-sm-1"> <input type="text" class="form-control" ng-model="viewAllotmentFormVm.allotment.data.vacationAllotmentRuleName" ng-required="true"> </div> <div class="col-md-4 col-sm-1"> <input type="text" class="form-control" ng-model="viewAllotmentFormVm.allotment.data.vacationAllotmentRuleFloatingHolidayDayCount" ng-required="true"> </div> <input type="checkbox" id="bankInclusionIndicator" class="col-md-2 col-sm-1" ng-model="viewAllotmentFormVm.allotment.data.vacationAllotmentRuleEmployeeBenefitBankInclusionIndicator" ng-true-value="\'Y\'" ng-false-value="\'N\'"> </div> <div class="allotment-spacer"></div> <div ng-if="viewAllotmentFormVm.allotment.data.vacationAccrualRules && viewAllotmentFormVm.allotment.data.vacationAccrualRules.length > 0" class="row"> <span class="col-md-3 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.accrual.column.from\')"></span> <span class="col-md-3 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.accrual.column.to\')"></span> <span class="col-md-4 col-sm-1" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.accrual.column.noofdays\')"></span> </div> <div ng-repeat="accrual in viewAllotmentFormVm.allotment.data.vacationAccrualRules"> <div class="row" ng-class="{\'delete-item-indicator\': accrual.shouldDelete}"> <div class="col-md-3 col-sm-1" ng-class="{\'error-indicator\': accrual.timeOffCalendarVacationFromYearNumber > accrual.timeOffCalendarVacationToYearNumber}"> <input type="text" class="form-control" ng-model="accrual.timeOffCalendarVacationFromYearNumber" ng-change="viewAllotmentFormVm.allotment.setForm(viewAllotmentFormVm.editForm,viewAllotmentFormVm.allotment.data.vacationAccrualRules)" ng-required="true"> </div> <div class="col-md-3 col-sm-1" ng-class="{\'error-indicator\': accrual.timeOffCalendarVacationFromYearNumber > accrual.timeOffCalendarVacationToYearNumber}"> <input type="text" class="form-control" ng-model="accrual.timeOffCalendarVacationToYearNumber" ng-change="viewAllotmentFormVm.allotment.setForm(viewAllotmentFormVm.editForm,viewAllotmentFormVm.allotment.data.vacationAccrualRules)" ng-required="true"> </div> <div class="col-md-4 col-sm-1"> <input type="text" class="form-control" ng-model="accrual.vacationDayCount" ng-required="true"> </div> <div class="col-md-1 col-sm-1"> <button class="delete-button btn btn-danger" ng-click="accrual.shouldDelete = !accrual.shouldDelete; viewAllotmentFormVm.editForm.$dirty = true;"> <span ng-if="accrual.shouldDelete" class="glyphicon glyphicon-remove-circle"></span> <span ng-if="!accrual.shouldDelete" class="glyphicon glyphicon-remove"></span> </button> </div> </div> <div> </div> </div> <button class="btn btn-link create-allotment" ng-click="viewAllotmentFormVm.allotment.addAccrual()" ng-bind="viewAllotmentFormVm.language.getLocale(\'section.calendar-maintenance.allotment.createaccrual\')"></button> </div> </form> <div class="bpadding"></div> <div class="button-container"> <button type="submit" class="btn btn-success order-1 submit" ng-click="viewAllotmentFormVm.allotment.save()" ng-bind="viewAllotmentFormVm.language.getLocale(\'button.save\')" ng-disabled="viewAllotmentFormVm.isProcessing || !viewAllotmentFormVm.allotment.data || !viewAllotmentFormVm.editForm.$dirty || viewAllotmentFormVm.editForm.$invalid"> </button> <button type="button" class="btn btn-default cancel-btn" ng-click="viewAllotmentFormVm.cancelModal(\'{{viewAllotmentFormVm.modalId}}\')" ng-bind="viewAllotmentFormVm.language.getLocale(\'button.cancel\')"> </button> </div> </div>'),
a.put("app/features/calendar-maintenance/calendar-maintenance.html",'<div class="calendar-maintenance-container container back flex outer-modal-container"> <div class="page-header order-0 padding clearfix" ng-click="calendarMaintenanceVm.getCalendars()"> <h1 ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.title\')" class="page-title"></h1> </div> <div ng-if="!calendarMaintenanceVm.editMode"> \x3c!-- Header Section --\x3e <div class="white-pane search-form-container t-margin-0"> <div class="flex"> <div class="row order-1 clearfix"> <form class="col-md-7" name="calendarMaintenanceVm.searchForm" novalidate> <div class="clearfix"> <div class="float-left"> <div class="typeahead-selector"> <input type="text" name="searchCalendar" class="form-control" uib-typeahead="item as item.name for item in calendarMaintenanceVm.calendars | filter:{name:$viewValue} | limitTo:100" typeahead-min-length="0" typeahead-show-hint="true" typeahead-no-results="noCalendarResults" ng-model="calendarMaintenanceVm.calendar" ng-disabled="!calendarMaintenanceVm.hasCalendars" ng-change="calendarMaintenanceVm.change()" typeahead-on-select="calendarMaintenanceVm.filter()" placeholder="{{ ::calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.search.placeholder\')}}"> <span auto-close="disabled" is-open="true" uib-dropdown uib-dropdown-toggle> <ul class="uib-dropdown-menu" ng-show="noCalendarResults"> <li>No Results Found</li> </ul> </span> </div> </div> </div> </form> <button class="btn btn-primary col-md-3" ng-click="calendarMaintenanceVm.createCalendar()" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.create.title\')"> </button> <div class="info-container col-md-2 help-section"> <div class="vertical-separator"></div> <div> <a ng-href="{{calendarMaintenanceVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="calendarMaintenanceVm.language.getLocale(\'section.help.label\')"></span> </a> </div> </div> </div> </div> </div> \x3c!-- Detail Section --\x3e <div class="calendar-list white-pane"> \x3c!-- Read Only --\x3e <div ng-if="calendarMaintenanceVm.hasCalendars"> <div class="row"> <span class="col-md-4 col-sm-1" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.column.name\')"></span> <span class="col-md-3 col-sm-1" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.column.waitlistorder\')"></span> <span class="col-md-3 col-sm-1" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.column.crinclusion\')"></span> </div> <div class="row"> <hr> </div> <div class="details" ng-repeat="item in calendarMaintenanceVm.filteredCalendars"> <div class="row" ng-class="{\'odd-row\':$index%2==1,\'even-row\':$index%2==0}"> <span class="col-md-4 col-sm-1" ng-bind="item.name"></span> <span class="col-md-3 col-sm-1" ng-bind="item.waitListSortType.waitListSortTypeName"></span> <span class="col-md-3 col-sm-1" ng-bind="item.casualRegularParticipationIndicator" ng-value-true="\'Y\'" ng-value-false="\'N\'"></span> <div class="col-md-2 col-sm-1"> <a href="#" ng-click="calendarMaintenanceVm.getCalendar(item.id)"> <div class="glyphicon glyphicon-pencil"> </div> </a> </div> </div> </div> </div> </div> </div> \x3c!--Edit Form Section --\x3e <div ng-if="calendarMaintenanceVm.editMode"> <div class="go-back-container"> <a ng-click="calendarMaintenanceVm.landingPage()"> <span class="glyphicon glyphicon-chevron-left"></span> <span class="go-back-text" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.navigate-to-landing-page\')"></span> </a> </div> <form name="editForm"> <div class="white-pane search-form-container t-margin-0 row"> <div class="col-md-4"> <label for="calendarName" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.column.name\')"></label> <input type="text" id="calendarName" ng-model="calendarMaintenanceVm.calendar.name" class="form-control" ng-required="true"> </div> <div class="col-md-4"> <label for="waitListSortType" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.column.waitlistorder\')"></label> <select name="calendar" class="form-control" ng-options="item as item.waitListSortTypeName for item in calendarMaintenanceVm.waitListSortTypes" ng-model="calendarMaintenanceVm.calendar.waitListSortType" ng-required="true" required> </select> </div> <div class="col-md-2 cr-inclusion"> <input type="checkbox" id="crInclusion" ng-model="calendarMaintenanceVm.calendar.casualRegularParticipationIndicator" ng-true-value="\'Y\'" ng-false-value="\'N\'"> <label for="crInclusion" ng-bind="calendarMaintenanceVm.language.getLocale(\'section.calendar-maintenance.calendar.column.crinclusion\')"></label> </div> <div class="info-container col-md-2 help-section"> <div class="pull-right"> <a ng-href="{{calendarMaintenanceVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="calendarMaintenanceVm.language.getLocale(\'section.help.label\')"></span> </a> </div> </div> </div> </form> \x3c!-- Edit --\x3e <div class="calendar-list white-pane"> <div calendar-request-periods calendar="calendarMaintenanceVm.calendar" notify-data-change="calendarMaintenanceVm.requestPeriodUpdated" update-request-period-info="calendarMaintenanceVm.updateRequestPeriodInfo"></div> </div> <div class="clearfix button-container padding order-4 white-pane"> <div class="float-right"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="calendarMaintenanceVm.cancel()" ng-bind="calendarMaintenanceVm.language.getLocale(\'button.cancel\')"> </button> <button href="#" type="submit" class="btn btn-success order-1 submit" ng-disabled="(!calendarMaintenanceVm.isRequestPeriodDirty && !editForm.$dirty) || editForm.$invalid || calendarMaintenanceVm.isProcessing" ng-click="calendarMaintenanceVm.saveCalendar(editForm.$dirty)" ng-bind="calendarMaintenanceVm.saveCalendar.title"> </button> </div> </div> </div> <div view-allotment-container></div> </div>'),a.put("app/features/calendar/calendar.html",'<div class="calendar page container back flex outer-modal-container"> <div class="order-0 on-behalf-of"> <div perner-search ng-if="calendarVm.userSession.access.calendarAccessLevel === calendarVm.accessStates.onBehalfOf" class="perner-search"></div> <div ng-repeat="bidPool in calendarVm.bidPools" ng-show="calendarVm.inWeeklyView === false" class="calendar-bid-pool-section"> <a ui-sref="cast.threshold({ data: { currentPool: bidPool.currentPool, startDate: bidPool.startDate, endDate: bidPool.endDate, prevState: calendarVm.$state.current.name, prevStateMessage: \'Return to Calendar\', viewDate: calendarVm.viewDate, view: calendarVm.calendarView }})" class="link"> <span ng-bind="bidPool.display"></span> </a> </div> </div> <div ng-if="calendarVm.inWeeklyView === false" class="calendar-month-section"> <div class="calendar-button-row section-panel"> <div class="calendar-button-title"> <h3><span ng-bind="calendarVm.language.getLocale(\'modal.calendar.futurerequests.title\')"></span></h3> </div> <div class="calendar-button indicator-button"> <a ng-href="{{calendarVm.helpUrl}}" class="link" target="_blank"> <span class="kng-icon-font kng-ic_info calendar-help-icon"> </span> </a> </div> <div class="calendar-button" ng-class="{\'empty-calendar-button\': !calendarVm.hasMonthlyAccess}"> <a class="link indicator-button" ng-if="calendarVm.futureRequests.display && calendarVm.hasMonthlyAccess === true" ng-click="calendarVm.showAllFutureRequests()"> <i class="workforce-icon-font wm-Icon_Lists icon-large"></i> </a> </div> </div> <div class="calendar-future-request-welcome" ng-if="calendarVm.calendarView !== \'week\'"> <p class="calendar-future-request-greeting"> <span class="calendar-future-request-name" ng-bind="calendarVm.session.member.firstName"> </span> <span class="calendar-future-request-name" ng-bind="calendarVm.session.member.lastName"> </span> <span class="calendar-future-request-perner" ng-bind="calendarVm.session.member.perner"> </span> </p> </div> <div class="calendar-button-row bidpool-title section-panel" ng-if="calendarVm.session.member.appointment && calendarVm.inWeeklyView === false"> <a href="#" ng-click="calendarVm.showBidAppt(true)"> <span ng-if="calendarVm.session.member.appointment.hasAppointment === true" ng-bind="calendarVm.language.getLocale(\'section.calendar.text.hasappointment\')"> </span> <span ng-if="calendarVm.session.member.appointment.hasAppointment === false" ng-bind="calendarVm.language.getLocale(\'section.calendar.text.noappointment\')"> </span> <span ng-if="calendarVm.session.member.appointment.hasAppointment === null" ng-bind="calendarVm.language.getLocale(\'section.calendar.text.unanswered\')"> </span> </a> </div> </div> <div class="order-2"> <div ng-if="!calendarVm.events.length && calendarVm.userMsgType === \'noSchedulePool\'" class="hpadding bpadding"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="calendarVm.language.getLocale(\'notifications.calendar.message.noschedulepool\')"></div> </div> </div> </div> <div ng-show="calendarVm.calendarReady && calendarVm.events.length > 0"> <div class="white-pane no-tmargin calendar-pane sticky-container"> <div class="home-welcome" ng-if="calendarVm.calendarView === \'week\'"> <p class="home-welcome-greeting"> <span ng-bind="calendarVm.language.getLocale(\'section.main-menu.welcome\')"> </span>, <span class="home-welcome-name" ng-bind="calendarVm.session.member.firstName"> </span> </p> <p ng-bind="calendarVm.session.member.perner" class="home-welcome-perner"> </p> </div> <div class="calendar-button-row" ng-if="calendarVm.calendarView === \'week\' && calendarVm.userSession.access.calendarAccessLevel > 0"> <div class="calendar-button" ng-if="calendarVm.hasMonthlyAccess" ng-click="calendarVm.navigateToFutureRequests()"> <i class="kng-icon-font kng-ic_calendar_month calendar-future-requests-icon"> </i> <span ng-bind="calendarVm.language.getLocale(\'section.calendar.futureRequests.link\')" class="calendar-future-requests-label"> </span> </div> <div class="calendar-button"> <a ng-href="{{calendarVm.helpUrl}}" class="link" target="_blank"> <span class="kng-icon-font kng-ic_info calendar-help-icon"> </span> </a> </div> <hr> </div> <div class="flex mwl-calendar-container"> <div class="order-1"> <div class="cal-date-selector text-center" ng-if="calendarVm.calendarView !== \'week\'"> <button class="workforce-icon-font wm-Icon_Previous arrow month-selector" mwl-date-modifier date="calendarVm.viewDateMonth" decrement="calendarVm.calendarView" ng-click="calendarVm.calendarChanged()"> </button> <div calendar-year-option id="calendarYearOptionId" place-holder="calendarVm.calendarTitle" start-date="calendarVm.viewDate" calendar-changed="calendarVm.calendarChanged" class="calendar-year-option-button"> </div> <button class="kng-icon-font kng-ic_next icon-large arrow month-selector" mwl-date-modifier date="calendarVm.viewDateMonth" increment="calendarVm.calendarView" ng-click="calendarVm.calendarChanged()"> </button> </div> <mwl-calendar calendar-vm="calendarVm" events="calendarVm.events" view="calendarVm.calendarView" view-title="calendarVm.calendarTitle" view-date="calendarVm.viewDate" edit-event-html="\'<i class=\\\'glyphicon glyphicon-pencil\\\'></i>\'" delete-event-html="\'<i class=\\\'glyphicon glyphicon-remove\\\'></i>\'" on-edit-event-click="calendarVm.editTimeoff(calendarEvent,\'month\')" day-view-split="30"> </mwl-calendar> <div cal-day-container></div> </div> </div> </div> </div> </div> <div view-future-requests-container></div> </div>'),a.put("app/features/calendar/partials/calendar-year-option.html",'<span ng-bind="calendarYearOptionVm.label"></span> <br> <div class="calendar-year-control"> <div class="display-window" ng-class="{\'calendar-year-disabled\': calendarYearOptionVm.disabled}" ng-click="calendarYearOptionVm.toggle()"> <span class="option-summary" ng-bind="calendarYearOptionVm.placeHolder"></span> </div> <div class="calendar-year-position-container"> <div class="calendar-year-options-container"> <div class="calendar-year-options" ng-class="{\'calendar-year-options-open\': calendarYearOptionVm.dropDownOpen}"> <div class="calendar-year-options-header"> <button class="workforce-icon-font wm-Icon_Previous year-selector pull-left" ng-click="calendarYearOptionVm.previousYear()"> </button> <div class="calendar-year-options-title"> <span ng-bind="calendarYearOptionVm.year"></span> </div> <button class="kng-icon-font kng-ic_next icon-large year-selector pull-right" ng-click="calendarYearOptionVm.nextYear()"> </button> </div> <div class="calendar-year-options-body"> <div> <button ng-click="calendarYearOptionVm.monthSelected(1)">January</button> <button ng-click="calendarYearOptionVm.monthSelected(2)">February</button> <button ng-click="calendarYearOptionVm.monthSelected(3)">March</button> </div> <div> <button ng-click="calendarYearOptionVm.monthSelected(4)">April</button> <button ng-click="calendarYearOptionVm.monthSelected(5)">May</button> <button ng-click="calendarYearOptionVm.monthSelected(6)">June</button> </div> <div> <button ng-click="calendarYearOptionVm.monthSelected(7)">July</button> <button ng-click="calendarYearOptionVm.monthSelected(8)">August</button> <button ng-click="calendarYearOptionVm.monthSelected(9)">September</button> </div> <div> <button ng-click="calendarYearOptionVm.monthSelected(10)">October</button> <button ng-click="calendarYearOptionVm.monthSelected(11)">November</button> <button ng-click="calendarYearOptionVm.monthSelected(12)">December</button> </div> </div> <div class="calendar-year-options-footer"> <button class="btn btn-success" ng-disabled="!calendarYearOptionVm.wasMonthSelected" ng-click="calendarYearOptionVm.submit()">Go</button> </div> </div> </div> </div> </div>'),a.put("app/features/calendar/partials/time-off-request.html",'<div id="time-off-request-content-drawer-content" class="content-drawer-content" ng-class="{\'three-button\': timeOffRequestVm.showDeleteButton}"> <div id="time-off-request-content-drawer-header" class="content-drawer-header"> <div class="pocket-panel-title"> <span ng-if="!timeOffRequestVm.editModal" ng-bind="timeOffRequestVm.language.getLocale(\'modal.request.header.add\')"> </span> <span ng-if="timeOffRequestVm.editModal" ng-bind="timeOffRequestVm.language.getLocale(\'modal.request.header.edit\')"> </span> <p ng-bind="timeOffRequestVm.language.getLocale(\'modal.request.body.add\')"></p> </div> </div> <div id="time-off-request-form" class="content-drawer-body"> <div class="ahsu-date-container"> <span ng-bind="timeOffRequestVm.language.getLocale(\'label.startDate\')"> </span> * <br> <div class="date-selector"> <input type="text" name="startDate" class="form-control" uib-datepicker-popup="{{timeOffRequestVm.dateFormat}}" datepicker-options="timeOffRequestVm.dateOptions" ng-model="timeOffRequestVm.startDate" min-date="timeOffRequestVm.minDate" is-open="timeOffRequestVm.status.start.open" ng-change="timeOffRequestVm.dateRange.startDateChange(timeOffRequestVm, timeOffRequestVm.startDate, timeOffRequestVm.endDate)" ng-required="true" placeholder="{{timeOffRequestVm.datePlaceholder}}" close-text="Close" ng-disabled="true"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="timeOffRequestVm.openDatePicker($event, \'start\')" ng-disabled="true"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div class="ahsu-date-container"> <span ng-class="{\'error-message\': timeOffRequestVm.dateRange.endDateHasError || timeOffRequestVm.dateRange.notInRange}"> <span ng-bind="timeOffRequestVm.language.getLocale(\'label.endDate\')"> </span> * </span> <br> <div class="date-selector"> <input type="text" name="endDate" class="form-control" ng-class="{\'error-indicator\': timeOffRequestVm.dateRange.endDateHasError || timeOffRequestVm.dateRange.notInRange}" uib-datepicker-popup="{{timeOffRequestVm.dateFormat}}" datepicker-options="timeOffRequestVm.dateOptions" ng-model="timeOffRequestVm.endDate" min-date="timeOffRequestVm.startDate" is-open="timeOffRequestVm.status.end.open" ng-change="timeOffRequestVm.dateRange.endDateChange(timeOffRequestVm, timeOffRequestVm.startDate, timeOffRequestVm.endDate)" ng-required="true" placeholder="{{timeOffRequestVm.datePlaceholder}}" close-text="Close"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="timeOffRequestVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> <p class="error-message" ng-bind="timeOffRequestVm.language.getLocale(\'model.request.daterange.error\')" ng-if="timeOffRequestVm.dateRange.notInRange"> </p> </div> <div drop-down ng-if="timeOffRequestVm.payTypeOptions.length > 0" id="time-off-request-pay-type-drop-down" class="drop-down panel-drop-down" label="timeOffRequestVm.language.getLocale(\'label.paytype\')" options="timeOffRequestVm.payTypeOptions" required="true" multiple="false" get-option-summary="timeOffRequestVm.getPayTypeSummary()" disabled="timeOffRequestVm.day.isUneditable"></div> <p ng-if="timeOffRequestVm.day.timeoff.canOverride" ng-click="timeOffRequestVm.toggleIsOverride()"> <span class="kng-icon-font" ng-class="{\n            \'kng-check_off\': !timeOffRequestVm.isOverride,\n            \'kng-check_on\': timeOffRequestVm.isOverride\n            }"> </span> <span ng-bind="timeOffRequestVm.language.getLocale(\'modal.request.override\')"> </span> </p> </div> </div> <div class="content-drawer-footer"> <button type="button" class="btn btn-danger" ng-if="timeOffRequestVm.showDeleteButton" ng-click="timeOffRequestVm.deleteTimeoff(calendarView, timeOffRequestVm.refreshMonthlyCalendar)" ng-bind="timeOffRequestVm.language.getLocale(\'button.delete\')" ng-disabled="timeOffRequestVm.calDayForm.processing || timeOffRequestVm.dateRange.startDateHasError || timeOffRequestVm.dateRange.endDateHasError || timeOffRequestVm.dateRange.notInRange"> </button> <button type="button" class="btn btn-default" ng-click="timeOffRequestVm.cancelModal()" ng-bind="timeOffRequestVm.language.getLocale(\'button.cancel\')" ng-disabled="timeOffRequestVm.calDayForm.processing"> </button> <button type="button" class="btn btn-success" ng-if="timeOffRequestVm.day.isUneditable === false && timeOffRequestVm.payTypesLoaded === true" ng-click="timeOffRequestVm.submitTimeoff(calendarView, timeOffRequestVm.refreshMonthlyCalendar)" ng-bind="timeOffRequestVm.language.getLocale(\'button.submit\')" ng-disabled="timeOffRequestVm.calDayForm.processing || timeOffRequestVm.dateRange.startDateHasError || timeOffRequestVm.dateRange.endDateHasError || timeOffRequestVm.dateRange.notInRange"> </button> </div>'),a.put("app/features/calendar/partials/view-future-requests-form.html",'<div class="pocket-panel-content"> <div class="pocket-panel-header clearfix"> <div class="pocket-panel-title mod-pocket-panel-title"> <span ng-bind="viewFutureRequestsFormVm.language.getLocale(\'section.calendar.futureRequests.title\')"> </span> <button type="button" class="float-right unstyled" ng-click="viewFutureRequestsFormVm.cancelModal()"> <span class="kng-icon-font kng-ic_close"> </span> </button> <div class="tab-group"> <button class="tab-btn" ng-class="{\'selected\': showTimeoff,\'unselected\': !showTimeoff}" ng-click="showTimeoff=true;showAhsu=false" ng-bind="viewFutureRequestsFormVm.language.getLocale(\'section.main-menu.time-off.link.name\')"></button> <button class="tab-btn" ng-class="{\'selected\': showAhsu,\'unselected\': !showAhsu}" ng-click="showTimeoff=false;showAhsu=true" ng-bind="viewFutureRequestsFormVm.language.getLocale(\'section.main-menu.ahsu.link.name\')"></button> </div> </div> </div> <div class="pocket-panel-body" ng-init="futureRequests=viewFutureRequestsFormVm.futureRequests;showTimeoff=true;showAhsu=false"> <div ng-show="showTimeoff"> <div class="empty-day" ng-if="!futureRequests.timeoff.data || futureRequests.timeoff.data.length === 0"> <span ng-bind="viewFutureRequestsFormVm.language.getLocale(\'section.calendar.futureRequests.emptyTimeoffRequests\')"> </span> </div> <table class="availability-list bmargin-40 future-requests" ng-if="showTimeoff && futureRequests.timeoff.data && futureRequests.timeoff.data.length > 0"> <tbody> <tr class="trow" ng-repeat="item in futureRequests.timeoff.data" ng-click="viewFutureRequestsFormVm.open(item.date)"> <td> <div ng-class="{\n                                \'approved\': !item.isWaitlisted && !item.isPending, \n                                \'waitlist\': item.isWaitlisted || item.isPending\n                                }"> </div>  <td class="bottom-border-row td-date"> <span ng-bind="item.date | dateTime : \'\': \'MMM DD, YYYY\'"> </span>  <td class="bottom-border-row"> <span ng-bind="item.ebType.name"></span>    </table> </div> <div ng-show="showAhsu"> <div class="empty-day" ng-if="!futureRequests.additionalHours.data || futureRequests.additionalHours.data.length === 0"> <span ng-bind="viewFutureRequestsFormVm.language.getLocale(\'section.calendar.futureRequests.emptyAhsuRequests\')"></span> </div> <table class="availability-list bmargin-40 future-requests" ng-if="showAhsu && futureRequests.additionalHours.data && futureRequests.additionalHours.data.length > 0"> <tbody> <tr class="trow" ng-repeat="item in futureRequests.additionalHours.data" ng-click="viewFutureRequestsFormVm.open(item.date)"> <td class="bottom-border-row"> <span ng-bind="item.date | dateTime : \'\': \'MMM DD, YYYY\'"> </span>    </table> </div> </div> <div class="pocket-panel-footer mod-pocket-panel-footer"> <button type="button" class="btn btn-default" ng-click="viewFutureRequestsFormVm.cancelModal()" ng-bind="viewFutureRequestsFormVm.language.getLocale(\'button.close\')"> </button> </div> </div>'),a.put("app/features/cast/cast.html",'<div class="dataGrid" ng-show="castVm.session.member"> <table> <tbody> <tr class="hide"><td><td> <tr> <td><b><span ng-bind="language.getLocale(\'label.perner\')"></span></b> <td ng-bind="castVm.session.member.perner">  <tr> <td><b><span ng-bind="language.getLocale(\'section.cast.label.name\')"></span></b> <td ng-bind="castVm.session.member.name">  <tr> <td><b><span ng-bind="language.getLocale(\'section.cast.label.org\')"></span></b> <td ng-bind="castVm.session.member.orgUnit">  <tr> <td><b><span ng-bind="language.getLocale(\'section.cast.label.subgroup\')"></span></b> <td ng-bind="castVm.session.member.employeeSubGroup">  <tr ng-repeat="phone in castVm.session.member.phones"> <td><b><span ng-bind="language.getLocale(\'section.cast.label.phone\')"></span><span ng-bind="$index + 1"></span></b> <td ng-bind="phone">   </table> </div>'),a.put("app/features/ehh-search/ehh-search.html",'<div class="order-0 on-behalf-of"> <div perner-search ng-if="ehhSearchVm.userSession.access.calendarAccessLevel === ehhSearchVm.accessStates.onBehalfOf" class="perner-search"></div> </div> <p class="ehh-search-header"> <span ng-bind="ehhSearchVm.language.getLocale(\'section.ehh.search.headline\')"> </span> <a href="{{ehhSearchVm.helpUrl}}" target="_blank"> <span class="kng-icon-font kng-ic_info calendar-help-icon"> </span> </a> </p> <div class="ehh-search-control-container"> <div> <span ng-bind="ehhSearchVm.language.getLocale(\'label.date\')"> </span> * <br> <div class="date-selector"> <input type="text" name="ehhSearchDate" class="form-control" uib-datepicker-popup="{{ehhSearchVm.dateFormat}}" datepicker-options="ehhSearchVm.dateOptions" ng-model="ehhSearchVm.searchDate" min-date="ehhSearchVm.minDate" max-date="ehhSearchVm.maxDate" is-open="ehhSearchVm.status.open" ng-required="true" placeholder="{{ehhSearchVm.datePlaceholder}}" close-text="Close" ng-change="ehhSearchVm.onSearchDateChange()"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="ehhSearchVm.openDatePicker($event)"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div drop-down id="ehh-search-eligibility-drop-down" class="drop-down eligibility-drop-down" label="ehhSearchVm.language.getLocale(\'section.ehh.search.eligibility.label\')" options="ehhSearchVm.eligibilityOptions" required="true" multiple="false" get-option-summary="ehhSearchVm.getEligibilitySummary()"></div> <div drop-down id="ehh-search-location-drop-down" class="drop-down location-drop-down" label="ehhSearchVm.language.getLocale(\'section.ehh.search.location.label\')" options="ehhSearchVm.locationOptions" required="true" multiple="false" get-option-summary="ehhSearchVm.getLocationSummary()"></div> </div> <p class="ehh-search-shift-list-date"> <span ng-bind="ehhSearchVm.language.getLocale(\'section.ehh.search.shift-date-descriptor\')"> </span> <span ng-bind="ehhSearchVm.searchDateFormatted"> </span> </p> <div ng-show="ehhSearchVm.searchResultsReady"> <p ng-if="ehhSearchVm.searchResults.length === 0 && ehhSearchVm.isEligible === true" class="ehh-search-no-available-shifts" ng-bind="ehhSearchVm.language.getLocale(\'section.ehh.search.no-results\')"> </p> <p ng-if="ehhSearchVm.searchResults.length === 0 && ehhSearchVm.isEligible === false" class="ehh-search-no-available-shifts" ng-bind="ehhSearchVm.language.getLocale(\'section.ehh.search.no-results.ineligible\')"> </p> <div ng-repeat="shift in ehhSearchVm.searchResults" class="ehh-search-result-shift" ng-click="ehhSearchVm.shiftSelected(shift)"> <p class="ehh-search-result-shift-times"> {{ shift.start.format("HH:mm") + \' - \' + shift.end.format("HH:mm") }} </p> <p ng-bind="shift.positionDescription"> </p> </div> </div>'),a.put("app/features/ehh-search/partials/ineligible-reasons.html",'<div> <hr class="ineligible-reason-divider"> <div class="status-indicator"> <span class="centered-line"> <span class="kng-icon-font kng-ic_alert status-indicator-icon"> </span> <span class="message" ng-bind="ineligibleReasonsVm.language.getLocale(\'section.ehh.shiftdetail.warning.ineligible\')"> </span> <span class="message" ng-bind="\'(\' + (ineligibleReasonsVm.reasons.length + (ineligibleReasonsVm.ineligibleTrainingDetails ? 1: 0)) + \')\'"> </span> </span> </div> <ul class="ineligible-list"> <li ng-repeat="reason in ineligibleReasonsVm.reasons"> <span ng-bind="reason.title" class="ineligible-reason"></span> </li> <li ng-if="ineligibleReasonsVm.ineligibleTrainingDetails"> <div ineligible-training training="ineligibleReasonsVm.ineligibleTrainingDetails" show-message="true"></div> </li> </ul> </div>'),a.put("app/features/ehh-search/partials/ineligible-training.html",'<div class="ineligible-training-section ineligible-reason"> <span ng-if="ineligibleTrainingVm.showMessage" ng-bind="ineligibleTrainingVm.language.getLocale(\'section.ehh.shiftdetail.ineligible.reason.training.title\')"></span> <div class="training-package-section" ng-repeat="trainingPackage in ineligibleTrainingVm.training"> <div ng-repeat="trainingGroup in trainingPackage.trainingGroups" class="training-group-section" ng-class="{ \'t-margin-0\': !ineligibleTrainingVm.showMessage }"> <div ng-repeat="trainingElement in trainingGroup.trainingElements" class="training-element-section"> <span ng-bind="trainingElement.trainingElementDescription"></span> <span class="training-qualification" ng-bind="\'(\' + trainingElement.trainingElementQualificationNumber + \')\'"></span> <span class="training-group-logicial-operator" ng-if="!$last" ng-bind="trainingGroup.logicalOperator | uppercase"></span> </div> <div ng-if="!$last" class="training-logical-operator"> <span class="caption" ng-bind="trainingPackage.logicalOperator | uppercase"></span> </div> </div> \x3c!-- Training Packages have "and" relationship to each other" --\x3e <div ng-if="!$last" class="training-package-logical-operator"> <span class="caption" ng-bind="\'AND\'"></span> </div> </div> </div>'),a.put("app/features/giveaway/confirm.html",'<div ng-if="giveawayVm.trading === true && giveawayVm.recipientValid === false && giveawayVm.finalErrorShiftsLoaded === true" class="userNotification warning"> <giveaway-error-list ng-if="giveawayVm.recipientErrorShifts.length > 0" leader-override="giveawayVm.leaderOverride" recipient-error-shifts="giveawayVm.recipientErrorShifts" recipient-name="giveawayVm.recipient.name" giver-name="\'You\'"> </giveaway-error-list> <giveaway-error-list ng-if="giveawayVm.giverErrorShifts.length > 0" leader-override="giveawayVm.leaderOverride" recipient-error-shifts="giveawayVm.giverErrorShifts" recipient-name="\'you\'" giver-name="giveawayVm.recipient.name"> </giveaway-error-list> <p>Please go back and search for another Cast Member in order to continue with your shift trade.</p> <div ng-if="giveawayVm.session.access.canLeaderOverride === true"> <br> <input type="checkbox" ng-model="giveawayVm.leaderOverride" ng-change="giveawayVm.finalTradeCheck(false)"> <label>Leader Override</label> <br> </div> </div> <div ng-if="giveawayVm.trading === false || (giveawayVm.recipientValid === true && giveawayVm.finalErrorShiftsLoaded === true)"> <div ng-if="giveawayVm.trading === true"> <p class="giveaway-label">My new shift<span ng-if="giveawayVm.receivingSelectedShifts.length > 1">s</span>: </p> <giveaway-selected-list selected-shifts="giveawayVm.receivingSelectedShifts"> </giveaway-selected-list> </div> <p class="giveaway-label">Shift<span ng-if="giveawayVm.selectedShifts.length > 1">s</span> given to <span ng-bind="giveawayVm.recipient.name"> </span>: </p> <giveaway-selected-list selected-shifts="giveawayVm.selectedShifts"> </giveaway-selected-list> <div ng-if="!giveawayVm.trading"> <label>My Pay Type for Shift</label> <p id="confirm-pay-type" ng-bind="giveawayVm.payType.label"></p> </div> <a ui-sref="{{giveawayConfirmVm.$state.params.editSelectionUiSref}}">Edit Selections</a> <div ng-if="giveawayVm.leaderOverride === true" class="perner-search"> <br> <label for="approvingLeader">Enter Approving Leader Name</label> <br> <input id="approvingLeader" type="text" size="140" style="width: 220px" class="form-control inline-block" ng-model="giveawayVm.approvingLeader"> </div> </div>'),a.put("app/features/giveaway/giveaway.html",'<div class="giveaway page container back"> <div class="page-header padding clearfix"> <h1 ng-bind="giveawayVm.title" class="page-title float-left"></h1> <div perner-search ng-if="giveawayVm.session.access.shiftTradeAccessLevel === giveawayVm.accessStates.onBehalfOf && giveawayVm.$state.$current.name.indexOf(\'schedule-list\') !== -1" class="perner-search float-right"> </div> </div> <div class="hpadding clearfix"> <h3 class="float-left"> <div ng-bind="giveawayVm.session.member.name" class="inline-block"></div> <div ng-bind="giveawayVm.session.member.perner" class="perner"></div> </h3> <div class="info-container"> <a ng-href="{{giveawayVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="giveawayVm.language.getLocale(\'section.help.label\')"></span> </a> </div> </div> <div class="panel-margin"> <div class="white-pane scroll-pane"> <div ng-if="giveawayVm.hasAccess() === true" class="giveaway-main" ng-show="giveawayVm.shiftsLoaded.state" ui-view="viewMain"> </div> <div ng-if="giveawayVm.session.access.shiftTradeAccessLevel === giveawayVm.accessStates.noAccess" unauthorized> </div> </div> </div> <footer ui-view="viewFooter" class="main-footer clearfix button-container padding order-3"> </footer> </div>'),
a.put("app/features/giveaway/partials/error-list.html",'<label for="name"><span ng-bind="giverName"> </span> may not give these shifts to <span ng-bind="recipientName"> </span> for the following reasons:</label> <div ng-if="recipientBlocked === true"> <label ng-bind="language.getLocale(\'section.trade.blocked.recipient\')"> </label> </div> <div ng-repeat="shift in recipientErrorShifts"> <ul class="schedule"> <li> <div class="shift-container"> <div class="date"> <span class="day" ng-bind="shift.day | dateTime : \'\': \'ddd\'"></span> <br> <span class="day-of-month" ng-bind="shift.day | dateTime : \'\': \'D\'"></span> </div> <div class="shift"> <p> <span ng-bind="shift.position"></span> <br><span ng-bind="shift.start | dateTime : \'\': \'HH:mm\'"></span> - <span ng-bind="shift.end | dateTime : \'\': \'HH:mm\'"></span> </p> </div> </div> </li> </ul> <div ng-if="shift.conflict === true"> <label>Shift Overlap</label> </div> <div ng-if="shift.positionIneligible === true && leaderOverride === false"> <label>Position ineligible for trading.</label> </div> <div ng-if="shift.doublebackConflict === true && leaderOverride === false"> <label>Shift Turnaround</label> </div> <div ng-if="shift.tooLate === true && leaderOverride === false"> <label>Shift Trade Cutoff Time:</label> <ul> <li> Starts too soon to trade. </li> </ul> </div> <div ng-if="shift.isOvertime === true && leaderOverride === false"> <label>Overtime Limit</label> </div> <div ng-if="shift.dailyMaxHoursExceeded === true && leaderOverride === false"> <label>Daily Maximum Hours Limit</label> </div> <div ng-if="shift.weeklyMaxHoursExceeded === true && leaderOverride === false"> <label>Weekly Maximum Hours / Days Limit</label> </div> <div ng-if="shift.ineligibleTrainingDetails && leaderOverride === false && shift.inDifferentPublicationRule !== true"> <label>Training</label> <div ineligible-training show-message="false" training="shift.ineligibleTrainingDetails"></div> </div> <div ng-if="shift.inDifferentPublicationRule === true"> <label>CM\'s schedule is not yet available.</label> </div> </div>'),a.put("app/features/giveaway/partials/footer.html",'<div class="float-right flex mobile-only"> <a class="btn btn-default cancel-btn order-2" ng-click="giveawayVm.handleCancelClick()"> Cancel </a> <a class="btn btn-success order-1 submit" ng-class="giveawayVm.$state.params.stateLoaded === true && giveawayVm.$state.params.canContinue(giveawayVm) ? \'continue\' : \'continue-inactive\'" id="continueButton" ng-click="giveawayVm.$state.params.handleContinueClick(giveawayVm)"> <span ng-bind="giveawayVm.$state.params.continueButtonText"> </span> </a> </div>'),a.put("app/features/giveaway/partials/selected-list.html",'<ul class="schedule"> <li ng-repeat="shift in selectedShifts" ng-class="{override: shift.override}"> <div class="shift-container"> <div class="date"> <span class="day" ng-bind="shift.day | dateTime : \'\': \'ddd\'"></span> <br> <span class="day-of-month" ng-bind="shift.day | dateTime : \'\': \'D\'"></span> </div> <div class="shift"> <p> <span ng-bind="shift.position"></span> <br><span ng-bind="shift.start | dateTime : \'\': \'HH:mm\'"></span> - <span ng-bind="shift.end | dateTime : \'\': \'HH:mm\'"></span> <div ng-if="shift.override === true"> <ul ng-if="shift.doublebackConflict === true"> <li class="info"> Shift Turnaround </li> </ul> <ul ng-if="shift.positionIneligible === true"> <li class="info"> Position ineligible for trading. </li> </ul> <ul ng-if="shift.tooLate === true"> <li class="info"> Starts too soon to trade. </li> </ul> <ul ng-if="shift.isOvertime === true"> <li class="info"> Overtime Limit </li> </ul> <ul ng-if="shift.dailyMaxHoursExceeded === true"> <li class="info"> Daily maximum hours limit. </li> </ul> <ul ng-if="shift.weeklyMaxHoursExceeded === true"> <li class="info"> Weekly maximum hours / days limit. </li> </ul> <div ng-if="shift.ineligibleTrainingDetails" class="info training-left-margin"> <span ng-click="shift.toggleShowTraining()"> <span class="kng-icon-font kng-ic_arrow_opened" ng-if="shift.showTraining === true"></span> <span class="kng-icon-font kng-ic_arrow_closed" ng-if="shift.showTraining === false"></span> Training</span> <br> <div ineligible-training ng-if="shift.showTraining === true" show-message="false" training="shift.ineligibleTrainingDetails"></div> </div> </div> </p> </div> </div> </li> </ul>'),a.put("app/features/giveaway/partials/selection-list.html",'<div ng-if="shifts.length===0 && !blocked" class="userNotification warning"> <p>No shifts were found for this date range.</p> </div> <div ng-if="blocked" class="userNotification warning"> <p ng-bind="language.getLocale(\'section.trade.blocked\')"> </p> </div> <ul class="schedule" ng-if="shifts.length>0 && !blocked"> <li ng-repeat="shift in shifts" ng-class="{ineligible: shift.ineligible, override: !shift.ineligible && shift.override}"> <div class="giveaway-checkbox"> <input type="checkbox" name="shift" id="{{shift.id}}" ng-click="toggle({shift:shift, shifts:shifts, selectedShifts:selectedShifts});" ng-checked="selected({shift:shift, selectedShifts:selectedShifts})" ng-disabled="shift.ineligible"> </div> <div class="shift-container"> <div class="date"> <span class="day" ng-bind="shift.day | dateTime : \'\': \'ddd\'"></span> <br> <span class="day-of-month" ng-bind="shift.day | dateTime : \'\': \'D\'"></span> </div> <div class="shift"> <p class="break-word"> <span ng-bind="shift.position"></span> <span ng-if="!shift.empty"> <br> <span ng-bind="shift.start | dateTime : \'\': \'HH:mm\'"></span> - <span ng-bind="shift.end | dateTime : \'\': \'HH:mm\'"></span> </span> <ul ng-if="shift.conflict === true"> <li class="info"> Shift Overlap </li> </ul> <ul ng-if="shift.doublebackConflict === true"> <li class="info"> Shift Turnaround </li> </ul> <ul ng-if="shift.positionIneligible === true"> <li class="info"> Position ineligible for trading. </li> </ul> <ul ng-if="shift.tooLate === true"> <li class="info"> Starts too soon to trade. </li> </ul> <ul ng-if="shift.dailyMaxHoursExceeded === true"> <li class="info"> Daily maximum hours limit. </li> </ul> <ul ng-if="shift.weeklyMaxHoursExceeded === true"> <li class="info"> Weekly maximum hours / days limit. </li> </ul> <div ng-if="shift.ineligibleTrainingDetails" class="info training-left-margin"> <span ng-click="shift.toggleShowTraining()"> <span class="kng-icon-font kng-ic_arrow_opened" ng-if="shift.showTraining === true"></span> <span class="kng-icon-font kng-ic_arrow_closed" ng-if="shift.showTraining === false"></span> Training</span> <br> <div ineligible-training ng-if="shift.showTraining === true" show-message="false" training="shift.ineligibleTrainingDetails"></div> </div> </p> </div> </div> </li> </ul>'),a.put("app/features/giveaway/schedule-list.html",'<p class="giveaway-label giveaway-schedule-list-instructions"> Select one or more shifts to trade. </p> <p class="info"> Shifts from <span ng-bind="giveawayVm.startDate | dateTime : \'\': \'M/D/YY\'"></span> - <span ng-bind="giveawayVm.endDate | dateTime : \'\': \'M/D/YY\'"></span> </p> <div ng-if="giveawayVm.session.access.canLeaderOverride === true"> <input type="checkbox" ng-model="giveawayVm.leaderOverride" ng-change="giveawayVm.reloadShifts()"> <label>Leader Override</label> <br> </div> <giveaway-selection-list shifts="giveawayVm.shifts" selected-shifts="giveawayVm.selectedShifts" selected="giveawayVm.shiftSelected(shift, selectedShifts)" toggle="giveawayVm.toggleShift(shift, shifts, selectedShifts)" blocked="giveawayVm.blocked" language="giveawayVm.language"> </giveaway-selection-list>'),a.put("app/features/giveaway/search.html",'<div ng-if="giveawayVm.session.access.canGiveShiftAway === true"> <p class="giveaway-label"> <label>How would you like to trade shifts?</label> </p> <label> <input type="radio" ng-model="giveawayVm.trading" ng-value="true" ng-click="giveawayVm.resetRecipient()"> Trade for a Shift </label> <br> <label> <input type="radio" ng-model="giveawayVm.trading" ng-value="false" ng-click="giveawayVm.resetRecipient()"> Trade for Off </label> <br> </div> <p class="giveaway-label"> <label for="perner">Enter the Perner or HUB ID of the Cast Member you would like to trade with:</label> </p> <div class="perner-search"> <input id="perner" type="text" size="9" class="form-control inline-block" ng-model="giveawayVm.recipientPerner"> <button type="button" class="btn btn-default btn-success" ng-click="giveawayVm.checkRecipient()"> Search </button> </div> <div ng-if="giveawayVm.session.access.canLeaderOverride === true"> <br> <input type="checkbox" ng-model="giveawayVm.leaderOverride" ng-change="giveawayVm.checkRecipient()"> <label>Leader Override</label> <br> </div> <div ng-if="!giveawayVm.recipientValid && giveawayVm.receivingShiftsLoaded" class="userNotification warning"> <giveaway-error-list leader-override="giveawayVm.leaderOverride" recipient-error-shifts="giveawayVm.recipientErrorShifts" recipient-name="giveawayVm.recipient.name" giver-name="\'You\'" language="giveawayVm.language" recipient-blocked="giveawayVm.recipientBlocked"> </giveaway-error-list> <p class="separator-top-margin">Please search for another Cast Member in order to continue with your shift trade.</p> </div> <div ng-if="giveawayVm.recipientValid && !giveawayVm.trading"> <hr> <label for="name">Give Shift to:</label> <p id="name" class="name" ng-bind="giveawayVm.recipient.name"></p> <div> <label for="pay-type">My Pay Type for Shift</label> <select id="pay-type" ng-model="giveawayVm.payType" ng-options="item as item.label for item in giveawayVm.payTypes track by item.id"> </select> </div> </div> <div ng-if="giveawayVm.recipientValid && giveawayVm.trading"> <hr> <p ng-if="giveawayVm.receivingShifts.length === 0">Recipient has no shifts to trade.</p> <div ng-if="giveawayVm.receivingShifts.length > 0"> <label for="name">Trade Shift with:</label> <p id="name" class="name" ng-bind="giveawayVm.recipient.name"></p> <p class="giveaway-label giveaway-schedule-list-instructions"> Select one or more shifts to pick up. </p> <p class="info"> Shifts from <span ng-bind="giveawayVm.recipientStartDate | dateTime : \'\': \'M/D/YY\'"></span> - <span ng-bind="giveawayVm.recipientEndDate | dateTime : \'\': \'M/D/YY\'"></span> </p> <giveaway-selection-list shifts="giveawayVm.receivingShifts" selected-shifts="giveawayVm.receivingSelectedShifts" selected="giveawayVm.shiftSelected(shift, selectedShifts)" toggle="giveawayVm.toggleShift(shift, shifts, selectedShifts)"> </giveaway-selection-list> </div> </div>'),a.put("app/features/help/help.html",'<div ng-show="helpVm.pageReady" class="help page container front padding"> <h2 ng-bind="helpVm.title"></h2> <div class="go-back-container"> <a ng-click="helpVm.navigateBack()"> <span class="glyphicon glyphicon-chevron-left"></span> <span class="go-back-text" ng-bind="helpVm.language.getLocale(\'section.help.goback\')"></span> </a> </div> <div ng-if="helpVm.helpStyle === helpVm.HelpStyle.BASIC"> <div ng-repeat="faqItem in helpVm.content.ContentSet.CollectionItems"> <div faq></div> </div> </div> <div ng-if="helpVm.helpStyle === helpVm.HelpStyle.COMPLEX"> <div class="legend table bmargin-20"> <div class="table-row"> <div class="table-col badge approved"></div> <div class="table-col description"><label ng-bind="helpVm.language.getLocale(\'section.help.legend.approved\')"><label></label></label></div> </div> <div class="table-row"> <div class="table-col badge waitlist"></div> <div class="table-col description"><label ng-bind="helpVm.language.getLocale(\'section.help.legend.waitlisted\')"><label></label></label></div> </div> <div class="table-row"> <div class="table-col badge pending"></div> <div class="table-col description"><label ng-bind="helpVm.language.getLocale(\'section.help.legend.pending\')"><label></label></label></div> </div> <div class="table-row"> <div class="table-col badge waitlist-count"></div> <div class="table-col description"><label ng-bind="helpVm.language.getLocale(\'section.help.legend.waitcount\')"><label></label></label></div> </div> <div class="table-row"> <div class="table-col badge rdo"></div> <div class="table-col description"><label ng-bind="helpVm.language.getLocale(\'section.help.legend.rdo\')"><label></label></label></div> </div> </div> <div class="faq"> <div ng-repeat="faqItem in helpVm.content.ContentSet.CollectionItems"> <div faq></div> </div> </div> </div> </div>'),a.put("app/features/help/partials/faq.html",'<p> <a href="#" class="faq-question" id="question_{{faqItem.name}}" ng-click="faqVm.toggleAnswer($event)"> <span ng-bind-html="faqItem.customProperties.Question"></span> </a> <div class="faq-answer" id="answer_{{faqItem.name}}" ng-show="faqVm.showAnswer" ng-bind-html="faqItem.customProperties.Answer"> </div> </p>'),a.put("app/features/late/late.html",'<div class="call-late page container back"> <div class="page-header padding clearfix"> <h1 ng-bind="lateVm.title" class="page-title float-left"></h1> <div ng-if="lateVm.session.access.callLateAccessLevel === lateVm.accessStates.onBehalfOf" perner-search class="perner-search float-right"></div> </div> <div class="hpadding"> <div class="row"> <div class="col-md-9"> <h3> <div ng-bind="lateVm.session.member.name" class="inline-block"></div> <div ng-bind="lateVm.session.member.perner" class="perner"></div> </h3> </div> <div class="col-md-3"> <div class="info-container help-container float-right"> <a ng-href="{{lateVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="lateVm.language.getLocale(\'section.calendar.info.help\')"></span> </a> </div> </div> </div> </div> <div ng-if="!lateVm.shifts && lateVm.hasAccess() === true" ng-show="lateVm.shiftsLoaded" class="hpadding bpadding"> <div class="userNotification warning fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="lateVm.language.getLocale(\'notifications.late.message.notime\')"></div> </div> </div> </div> <div ng-if="lateVm.hasAccess() === true" ng-show="lateVm.shiftsLoaded"> <form name="lateVm.lateForm" novalidate> <div class="form-inner-container" ng-show="lateVm.shifts"> <div class="late-container white-pane no-padding"> <div class="tpadding hpadding"> <div> <label for="date" ng-bind="lateVm.language.getLocale(\'section.late.label.date\')"> </label> <span ng-bind="lateVm.date | dateTime : \'\': \'dddd, MMMM DD, YYYY\'"></span> </div> <div> <label for="shiftStart" ng-bind="lateVm.language.getLocale(\'section.late.label.shift\')"> </label> <span id="shiftStart" ng-if="lateVm.shifts[0].shiftStartTime" ng-bind="lateVm.shifts[0].shiftStartTime | militaryTime"> </span> &nbsp;-&nbsp; <span id="shiftEnd" ng-if="lateVm.shifts[lateVm.shifts.length - 1].shiftEndTime" ng-bind="lateVm.shifts[lateVm.shifts.length - 1].shiftEndTime | militaryTime"> </span> </div> <div> <label ng-bind="lateVm.language.getLocale(\'section.late.label.location\')"> </label> <div class="inline-block"> <div ng-repeat="item in lateVm.shifts"> {{item.schedulingPositionDescription}} </div> </div> </div> </div> <div class="horizontal-partition"></div> <div class="tpadding hpadding"> <select name="lateType" class="form-control late-type inline-block" ng-options="item.name for item in lateVm.lateTypes track by item.id" ng-model="lateVm.currentType"> </select> <div> <div class="duration-container">I will be</div> <div class="duration-column"> <div class="duration-container hours"> <select name="hours" class="form-control duration-select" ng-options="item for item in lateVm.timeSpan.hours" ng-model="lateVm.select.hours" ng-change="lateVm.setEta()"> </select> <b>hours</b> and </div> <div class="duration-container minutes"> <select name="minutes" class="form-control duration-select" ng-options="item for item in lateVm.timeSpan.minutes" ng-model="lateVm.select.minutes" ng-change="lateVm.setEta()"> </select> <b>minutes</b> late. </div> </div> </div> <div ng-if="!lateVm.validTime" class="eta-error-container"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="lateVm.language.getLocale(\'notifications.late.message.invalidtime\')"></div> </div> </div> </div> <div ng-show="lateVm.lateForm.$submitted && lateVm.isZero()"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="lateVm.language.getLocale(\'notifications.late.message.defaulttime\')"></div> </div> </div> </div> <div ng-show="lateVm.validTime && lateVm.eta && !lateVm.isZero()" class="userNotification notice fill-container" role="alert" aria-live="assertive"> <div class="eta-container"> <span ng-bind="lateVm.language.getLocale(\'section.late.text.arrival\')"> </span> <span id="eta" ng-bind="lateVm.eta"> </span> </div> </div> </div> </div> </div> <div ng-controller="ModalController" class="clearfix button-container padding"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="cancelChanges()" ng-bind="lateVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-show="lateVm.shifts" ng-click="lateVm.saveChanges()" ng-bind="lateVm.language.getLocale(\'button.submit\')" ng-disabled="lateVm.lateForm.processing"> </button> </div> </div> </form> </div> <div ng-if="lateVm.session.access.callLateAccessLevel === lateVm.accessStates.noAccess" unauthorized> </div> </div>'),a.put("app/features/leader/leader.html",'<div class="container page call-back back"> <div class="page-header padding clearfix"> <h1 ng-bind="leaderVm.title" class="page-title float-left"></h1> <div ng-if="leaderVm.session.access.callBackAccessLevel === leaderVm.accessStates.onBehalfOf" perner-search class="perner-search float-right"></div> </div> <form name="leaderVm.callbackForm" class="flex mobile-only" ng-show="leaderVm.shiftsLoaded && leaderVm.hasAccess() === true" novalidate> <div class="cast-details hpadding inline-block order-0"> <h3> <div ng-bind="leaderVm.session.member.name" class="inline-block"></div> <div ng-bind="leaderVm.session.member.perner" class="perner"></div> </h3> <div class="info-container help-container float-right leader-help-container-header"> <a ng-href="{{leaderVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="leaderVm.language.getLocale(\'section.calendar.info.help\')"></span> </a> </div> </div> <div class="phone-container inline-block clearfix order-2"> <div class="float-left phone-label-container"> <label for="phone" class="phone" ng-bind="leaderVm.language.getLocale(\'section.callback.label.at\')"> </label> </div> <div class="float-left"> <input name="phone" id="phone" type="text" class="form-control" size="20" ng-model="leaderVm.phone" ng-pattern="leaderVm.phoneValidation" ng-change="leaderVm.phoneChanged()" placeholder="555-555-5555" required> <div class="panel panel-alert phone-panel" ng-show="leaderVm.callbackForm.$submitted && !leaderVm.utilities.isEmpty(leaderVm.callbackForm.phone.$error)"> <div ng-show="leaderVm.callbackForm.phone.$error.required" ng-bind="leaderVm.language.getLocale(\'validation.phone.empty\')"> </div> <div ng-show="leaderVm.callbackForm.phone.$error.pattern" ng-bind="leaderVm.language.getLocale(\'validation.phone.pattern\')"> </div> <div ng-show="leaderVm.callbackForm.phone.$error.minlength" ng-bind="leaderVm.language.getLocale(\'validation.phone.minlength\')"> </div> </div> </div> <div class="info-container help-container float-right leader-help-container-phone"> <a ng-href="{{leaderVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="leaderVm.language.getLocale(\'section.calendar.info.help\')"></span> </a> </div> </div> <div class="order-1"> <div class="form-inner-container"> <div class="callback-container white-pane"> <div class="clearfix"> <div class="float-left"> <div class="medium-label bold" ng-bind="leaderVm.language.getLocale(\'section.callback.text.from\')"> </div> <div class="indent" ng-if="leaderVm.session.access.callBackMyLeader === true"> <input type="radio" id="team-leader" name="leader" value="MyLeader" ng-model="leaderVm.teamLeader"> <label for="team-leader" class="unstyled" ng-bind="leaderVm.language.getLocale(\'section.callback.label.myleader\')"> </label> </div> <div class="indent"> <input type="radio" id="shift-leader" name="leader" value="ShiftLeader" ng-model="leaderVm.teamLeader"> <label for="shift-leader" class="unstyled" ng-bind="leaderVm.language.getLocale(\'section.callback.label.shiftleader\')"> </label> </div> </div> </div> <div ng-if="leaderVm.teamLeader === \'ShiftLeader\' && !leaderVm.shifts"> <div class="userNotification warning fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="leaderVm.language.getLocale(\'notifications.message.noshifts\')"></div> </div> </div> </div> <div id="shift-team-container" ng-if="leaderVm.teamLeader === \'ShiftLeader\' && leaderVm.shifts"> <label for="dateSelect" ng-bind="leaderVm.language.getLocale(\'section.callback.label.shiftdate\')"> </label> <select id="dateSelect" name="date" class="form-control" ng-model="leaderVm.currentDate" ng-change="leaderVm.dateChanged(leaderVm.currentDate)" ng-options="item for item in leaderVm.shiftDates"> <option ng-if="leaderVm.currentDate === null" ng-bind="leaderVm.language.getLocale(\'section.callback.select.shiftdate\')" value="" disabled="disabled" selected="selected">  </select> <div class="panel panel-alert phone-panel" ng-show="leaderVm.callbackForm.$submitted && !leaderVm.utilities.isEmpty(leaderVm.callbackForm.date.$error)"> <div ng-show="leaderVm.callbackForm.date.$error.required" ng-bind="leaderVm.language.getLocale(\'validation.date.required\')"> </div> </div> <br> <div ng-if="leaderVm.currentShifts.length > 0"> <label for="shiftSelect" ng-bind="leaderVm.language.getLocale(\'section.callback.label.shift\')"> </label> <select id="shiftSelect" name="shift" class="form-control" ng-model="leaderVm.selectedShift" ng-options="(item.shiftStartTime | militaryTime) + \' - \' + (item.shiftEndTime | militaryTime) + \' \' + item.schedulingPositionDescription for item in leaderVm.currentShifts | timeSort: \'shiftStartTime\' track by item.shiftId"> </select> </div> <div ng-if="leaderVm.datePicked && leaderVm.currentShifts.length === 0" class="userNotification notice fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="leaderVm.language.getLocale(\'notifications.message.noshifts\')"></div> </div> </div> </div> <hr class="desktop-only"> <div class="clearfix"> <div class="call-back reason"> <label for="reason" class="block" ng-bind="leaderVm.language.getLocale(\'section.callback.label.reason\')"> </label> <select name="reason" id="reason" class="form-control" ng-options="item.description for item in leaderVm.reasons track by item.id" ng-model="leaderVm.reason" required> </select> <div class="panel panel-alert reason-panel" ng-show="leaderVm.callbackForm.$submitted && !leaderVm.utilities.isEmpty(leaderVm.callbackForm.reason.$error)"> <div ng-show="leaderVm.callbackForm.reason.$error.required" ng-bind="leaderVm.language.getLocale(\'validation.reason.empty\')"> </div> <div ng-show="leaderVm.callbackForm.reason.$error.maxlength" ng-bind="leaderVm.language.getLocale(\'validation.reason.maxlength\')"> </div> </div> </div> </div> </div> </div> </div> <div ng-controller="ModalController" class="clearfix button-container padding order-3"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="cancelChanges()" ng-bind="leaderVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-click="leaderVm.saveChanges()" ng-bind="leaderVm.language.getLocale(\'button.submit\')" ng-disabled="leaderVm.callbackForm.processing"> </button> </div> </div> </form> <div ng-if="leaderVm.session.access.callBackAccessLevel === leaderVm.accessStates.noAccess" unauthorized> </div> </div>'),a.put("app/features/modal/modal.calendar.bidappt.html",'<div class="bid-appt-modal absolute-center"> <div class="modal-header"> <h4 class="modal-title"> <span ng-bind="language.getLocale(\'modal.timeoff.message.bidappt\')"> </span> </h4> </div> <div class="modal-body appt-choices"> <span class="yes-choice"> <input type="radio" name="choice" class="yes-choice" ng-model="data.choice" value="yes" ng-checked="data.appt.hasAppointment === true">Yes </span> <span class="yes-choice"> <input type="radio" name="choice" ng-model="data.choice" value="no" ng-checked="data.appt.hasAppointment === false">No </span> </div> <div class="modal-footer"> <div> <button type="button" class="btn btn-primary large-custom width-280 bmargin-20" ng-click="submit(data.submitBidAppt)" ng-disabled="data.processing" tabindex="0"> Submit </button> </div> <div ng-if="data.canCancel"> <button type="button" class="btn btn-default large-custom width-280" ng-click="cancel()" tabindex="1"> Cancel </button> </div> </div> </div>'),a.put("app/features/modal/modal.calendar.futurerequests.html",'<div> <div class="modal-header dialog-header-confirm"> <button type="button" class="close" ng-click="cancel()" tabindex="2">\xd7</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> <span ng-bind="language.getLocale(\'modal.calendar.futurerequests.title\')"></span> </h4> </div> \x3c!--<div class="modal-body">\n        <div ng-bind="language.getLocale(\'modal.threshold.comment.label\')"></div>\n        <input\n            name="comment"\n            class="form-control"\n            ng-model="data.comment"\n            placeholder="{{language.getLocale(\'modal.threshold.comment.placeholder\')}}"\n            maxlength="256"\n            required />\n    </div>--\x3e <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()" tabindex="1">Cancel</button> <button type="button" class="btn btn-primary" ng-click="submit()" tabindex="0" ng-disabled="!data.comment"> Submit </button> </div> </div>'),a.put("app/features/modal/modal.cancel.html",'<div> <div class="modal-header dialog-header-confirm"> <button type="button" class="close" ng-click="cancel()" tabindex="2">\xd7</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> <span ng-bind="language.getLocale(\'modal.title.cancel\')"></span> </h4> </div> <div class="modal-body" ng-bind="language.getLocale(\'modal.message.cancel\')"> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()" tabindex="1">No</button> <button type="button" class="btn btn-primary" ng-click="submit()" tabindex="0">Yes</button> </div> </div>'),a.put("app/features/modal/modal.confirm-delete.additionalHours.html",'<div> <div class="modal-header dialog-header-confirm"> <button type="button" class="close" ng-click="cancel()" tabindex="2">\xd7</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> <span ng-bind="language.getLocale(\'modal.ahsu.title.delete\')"></span> </h4> </div> <div class="modal-body" ng-bind="language.getLocale(\'modal.ahsu.message.delete\')"> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()" tabindex="1">No</button> <button type="button" class="btn btn-primary" ng-click="submit()" tabindex="0">Yes, Delete</button> </div> </div>'),a.put("app/features/modal/modal.confirm-delete.html",'<div> <div class="modal-header dialog-header-confirm"> <button type="button" class="close" ng-click="cancel()" tabindex="2">\xd7</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> <span ng-bind="initialData.title"></span> </h4> </div> <div class="modal-body" ng-bind="initialData.message"> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()" tabindex="1">No</button> <button type="button" class="btn btn-primary" ng-click="submit()" tabindex="0">Yes, Delete</button> </div> </div>'),a.put("app/features/modal/modal.confirm-leader-override.html",'<div> <div class="modal-header dialog-header-confirm"> <button type="button" class="close" ng-click="cancel()" tabindex="2">\xd7</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> <span ng-bind="language.getLocale(\'modal.timeoff.override.title\')"></span> </h4> </div> <div class="modal-body"> <div ng-bind="language.getLocale(\'modal.timeoff.override.list.header\')"></div> <ul class="bmargin-20"> <li ng-bind="language.getLocale(\'modal.timeoff.override.list.thresholds\')"></li> <li ng-if="!data.day.timeoff.isFirstOnWaitlist" ng-bind="language.getLocale(\'modal.timeoff.override.list.bypass\')"> </li> </ul> <div ng-bind="language.getLocale(\'modal.timeoff.override.leader.header\')"> </div> <input name="comment" class="form-control" ng-model="data.comment" placeholder="{{language.getLocale(\'modal.timeoff.override.leader.name\')}}"> </div> <div class="modal-footer"> <button type="button" class="btn btn-danger" ng-click="cancel()" tabindex="1">No</button> <button type="button" class="btn btn-success" ng-click="submit()" tabindex="0"> Yes </button> </div> </div>'),a.put("app/features/modal/modal.confirm-threshold.html",'<div> <div class="modal-header dialog-header-confirm"> <button type="button" class="close" ng-click="cancel()" tabindex="2">\xd7</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> <span ng-bind="language.getLocale(\'modal.threshold.comment.title\')"></span> </h4> </div> <div class="modal-body"> <div ng-bind="language.getLocale(\'modal.threshold.comment.label\')"></div> <input name="comment" class="form-control" ng-model="data.comment" placeholder="{{language.getLocale(\'modal.threshold.comment.placeholder\')}}" maxlength="256" required> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()" tabindex="1">Cancel</button> <button type="button" class="btn btn-primary" ng-click="submit()" tabindex="0" ng-disabled="!data.comment"> Submit </button> </div> </div>'),a.put("app/features/modal/modal.late-confirmation.html",'<div class="modal-body absolute-center"> <div class="call-late confirmation-dialog font-blue"> <div class="medium-label bold"> Your Call-Late request has been processed. </div><br> <div class="confirmation-details"> <div>Call-Late Details:</div> In late for <span ng-bind="data.date"></span><br> <span ng-bind="data.hours"></span> hour and <span ng-bind="data.minutes"></span> minutes late and will arrive near <span ng-bind="data.eta"></span> </div> <button type="button" class="btn btn-primary return" ng-click="redirectToOrigin()"> Return to Schedule View </button> </div> </div>'),a.put("app/features/modal/modal.leader-confirmation.html",'<div class="modal-body absolute-center"> <div class="call-out confirmation-dialog font-blue"> <div class="medium-label bold"> Your Call-Back request has been processed. </div><br> <div class="confirmation-details"> <div>Call-Back Details:</div> <span ng-bind="data.requestTo"></span>. </div> <button type="button" class="btn btn-primary return" ng-click="redirectToOrigin()"> Return to Schedule View </button> </div> </div>'),a.put("app/features/modal/modal.out-confirmation.html",'<div class="modal-body absolute-center"> <div class="call-out confirmation-dialog font-blue"> <div class="medium-label bold"> Your Call-Out request has been processed. </div><br> <div class="confirmation-details"> <div>Call-Out Details:</div> <b><span ng-bind="data.callOutSelected.name"></span></b> for <span ng-bind="data.date"></span> <br><br>For the following shifts: <br> <div ng-repeat="item in data.confirmation"> <span class="shift-description"> <b><span ng-bind="item.shiftDesc"></span></b> </span><br> </div> </div> <button type="button" class="btn btn-primary return" ng-click="redirectToOrigin()"> Return to Schedule View </button> </div> </div>'),
a.put("app/features/modal/modal.timeoff-confirmed.html",'<div class="modal-body absolute-center"> <div class="call-out confirmation-dialog font-blue"> <div class="large-label bold bmargin-40"> <span ng-if="data.timeOffDayState === \'BidPeriod\' && data.requestType === \'add\'"> Your request is pending. </span> <span ng-if="data.timeOffDayState === \'BidPeriod\' && data.requestType === \'delete\'"> Your request has been canceled. </span> <span ng-if="data.timeOffDayState !== \'BidPeriod\'"> Your request has been processed. </span> <div ng-if="data.showReminder === true" class="reminder"> <br> <span ng-bind="data.reminder"> </span> </div> </div> <div> <button type="button" class="btn btn-primary large-custom width-280 bmargin-20" ng-click="redirectToOrigin()"> Return to Schedule View </button> </div> <div> <button type="button" class="btn btn-primary large-custom width-280" ng-click="submit()"> View My Requests </button> </div> </div> </div>'),a.put("app/features/out/out.html",'<div class="call-out page container back flex"> <div class="page-header order-0 padding clearfix"> <h1 ng-bind="outVm.title" class="page-title float-left"></h1> <div perner-search ng-if="outVm.session.access.callOutAccessLevel === outVm.accessStates.onBehalfOf" class="perner-search float-right"> </div> </div> <div class="cast-details order-1 hpadding inline-block"> <h3> <div ng-bind="outVm.session.member.name" class="inline-block"></div> <div ng-bind="outVm.session.member.perner" class="perner"></div> </h3> </div> <div class="timeoff-container order-2 hpadding inline-block"> <a ng-href="{{outVm.portalUrl}}" target="_blank" class="font-navy"> <img src="/assets/images/open.2b3a6ace.png" alt="open" class="timeoff icon"> <span ng-bind="outVm.language.getLocale(\'section.out.text.timeoff\')" class="timeoff text"> </span> </a> <div class="info-container help-container float-right"> <a ng-href="{{outVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="outVm.language.getLocale(\'section.calendar.info.help\')"></span> </a> </div> </div> <div ng-if="!outVm.shifts && outVm.access === true" ng-show="outVm.shiftsLoaded" class="hpadding bpadding order-2"> <div class="userNotification warning fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="outVm.language.getLocale(\'notifications.message.noshifts\')"></div> </div> </div> </div> <div class="order-2" ng-if="outVm.access === true" ng-show="outVm.shiftsLoaded"> <form name="outVm.outForm" novalidate> <div class="form-inner-container" ng-if="outVm.shifts"> <div class="white-pane no-padding no-tmargin"> <div ng-if="outVm.shifts" class="clearfix"> <div class="hpadding tpadding"> <div class="short-date-container"> <span class="date" ng-bind="outVm.date | dateTime : \'\': \'dddd, MMMM DD, YYYY\'"> </span> </div> <label for="type-selector" class="inline-block unstyled" ng-bind="outVm.language.getLocale(\'section.out.label.type\')"> </label> <div class="type-selector-container"> <select ng-options="item as item.name for item in outVm.callOutTypes track by item.id" id="type-selector" class="form-control" ng-model="outVm.callOutSelected" ng-change="outVm.callTypeChanged(outVm.callOutSelected)" tabindex="3"> <option ng-if="outVm.callOutSelected === null" ng-bind="outVm.language.getLocale(\'section.out.select.type\')" value="" disabled="disabled" selected="selected">  </select> <div class="panel panel-alert call-type" ng-show="outVm.outForm.$submitted && !outVm.callTypeSelected"> <div ng-bind="outVm.language.getLocale(\'validation.out.calltype.empty\')"> </div> </div> </div> <div class="long-date-container"> <span ng-bind="outVm.language.getLocale(\'section.out.text.for\')"> </span> <span class="date" ng-bind="outVm.date | dateTime : \'\': \'dddd, MMMM DD, YYYY\'"> </span> </div> </div> <div class="horizontal-partition"></div> </div> <div ng-if="outVm.shifts" class="hpadding bpadding"> <ol class="steps clearfix"> <li>Select Call-Out Shift(s)</li> <li> Select Pay Type </li> </ol> <div class="shifts-container"> <div ng-repeat="shiftGroup in outVm.shifts" ng-init="shiftTabStart = 4 + $index" class="shiftGroup"> <div class="shift-item clearfix"> <div class="shift-container"> <div class="float-left shift-checkbox"> <input name="groupChecked[{{$index}}]" type="checkbox" ng-model="outVm.groupChecked[$index]" ng-change="outVm.groupCheckChanged({{$index}})" checked="checked" tabindex="{{shiftTabStart + $index}}" ng-disabled="outVm.shifts.length < 2"> </div> <div class="float-left"> <div ng-repeat="shift in shiftGroup.shifts | timeSort : \'shiftStartTime\'"> <div> <span ng-bind="shift.shiftStartTime | militaryTime"></span> - <span ng-bind="shift.shiftEndTime | militaryTime"></span> </div> <div ng-bind="shift.schedulingPositionDescription" class="shift-description"></div> </div> </div> </div> <div pay-type data-types="outVm.payType.data" data-row="$index" class="pay-type" data-tabindex="{{shiftTabStart + $index + 1}}"> </div> </div> </div> </div> <div ng-if="outVm.selectedNone"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="outVm.language.getLocale(\'validation.out.selectshift\')"></div> </div> </div> </div> </div> </div> </div> </form> </div> <div ng-if="outVm.session.access.callOutAccessLevel === outVm.accessStates.noAccess" unauthorized> </div> <div ng-controller="ModalController" class="clearfix button-container padding order-4"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="cancelChanges()" ng-bind="outVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-if="outVm.shifts" ng-click="outVm.submitForm()" ng-bind="outVm.language.getLocale(\'button.submit\')" ng-disabled="outVm.outForm.processing"> </button> </div> </div> </div>'),a.put("app/features/pool/partials/jobkey.html",'<div class="bmargin-20"> <div class="inline-block"> <input type="text" name="jobKey_{{parentId}}_{{jobKeyVm.$index}}" class="form-control" minlength="8" maxlength="8" ng-minlength="8" ng-maxlength="8" ng-pattern="jobKeyVm.validation.onlyNumbers" ng-model="jobKeyVm.jobId" ng-change="jobKeyVm.jobChanged()" ng-init="jobIndex = [\'jobKey_\' + parentId + \'_\']" ng-disabled="jobKeyVm.isUneditable" required> <div class="panel panel-alert" ng-show="jobKeyVm.jobForm.$submitted && (!jobKeyVm.utilities.isEmpty(jobKeyVm.jobForm[jobIndex +  jobKeyVm.$index].$error) || jobKeyVm.jobLookupNoResults)"> <div ng-bind="jobKeyVm.language.getLocale(\'validation.jobkey.required\')" ng-show="jobKeyVm.jobForm[jobIndex + jobKeyVm.$index].$error.required"> </div> <div ng-bind="jobKeyVm.language.getLocale(\'validation.jobkey.pattern\')" ng-show="jobKeyVm.jobForm[jobIndex + jobKeyVm.$index].$error.pattern"> </div> <div ng-bind="jobKeyVm.language.getLocale(\'validation.jobkey.minlength\')" ng-show="jobKeyVm.jobForm[jobIndex + jobKeyVm.$index].$error.minlength"> </div> <div ng-bind="jobKeyVm.language.getLocale(\'section.pool.lookup.job.noresults\')" ng-show="jobKeyVm.jobLookupNoResults"> </div> </div> <div ng-bind="jobKeyVm.jobLookup.jobKeyName" ng-show="jobKeyVm.jobLookup"> </div> </div> <div class="inline-block"> <a href="#" ng-click="jobKeyVm.removeJobKey()"> <span class="glyphter custom-icon-close remove-job-key"></span> </a> </div> </div>'),a.put("app/features/pool/partials/orgunit.html",'<div class="org-unit-container clearfix"> <div class="col-sm-6 col-no-padding"> <div class="width-270 inline-block bmargin-20"> <label ng-bind="orgUnitVm.language.getLocale(\'section.pool.label.orgunit\')"> </label> <input type="text" name="orgUnit_{{parentId}}" class="form-control" minlength="8" maxlength="8" ng-minlength="8" ng-maxlength="8" ng-pattern="orgUnitVm.validation.onlyNumbers" ng-model="orgUnitVm.orgId" ng-change="orgUnitVm.orgChanged()" ng-disabled="orgUnitVm.isUneditable" required> <div class="panel panel-alert" ng-show="orgUnitVm.orgForm.$submitted && (!orgUnitVm.utilities.isEmpty(orgUnitVm.orgForm[\'orgUnit_\' + parentId].$error) || orgUnitVm.orgLookupNoResults)"> <div ng-bind="orgUnitVm.language.getLocale(\'validation.orgunit.required\')" ng-show="orgUnitVm.orgForm[\'orgUnit_\' + parentId].$error.required"> </div> <div ng-bind="orgUnitVm.language.getLocale(\'validation.orgunit.pattern\')" ng-show="orgUnitVm.orgForm[\'orgUnit_\' + parentId].$error.pattern"> </div> <div ng-bind="orgUnitVm.language.getLocale(\'validation.orgunit.minlength\')" ng-show="orgUnitVm.orgForm[\'orgUnit_\' + parentId].$error.minlength"> </div> <div ng-bind="orgUnitVm.language.getLocale(\'section.pool.lookup.org.noresults\')" ng-show="orgUnitVm.orgLookupNoResults"> </div> </div> <div ng-bind="orgUnitVm.orgLookup.orgUnitName" ng-show="orgUnitVm.orgLookup"> </div> </div> </div> <div class="inline-block"> <div id="job-key-container-{{orgUnitVm.parentId}}"> <div ng-if="orgUnitVm.jobKeys.length > 0 || orgUnitVm.jobCounter" ng-bind="orgUnitVm.language.getLocale(\'section.pool.title.jobkeys\')"> </div> <div ng-repeat="item in orgUnitVm.jobKeys"> <div job-key job-id="item.jobKeyCode" job-name="item.jobKeyName" parent-id="parentId" index="$index" is-uneditable="item.jobKeyCode"> </div> </div> </div> <div> <a href="#" ng-click="orgUnitVm.isUneditable ? \'\' : orgUnitVm.addJobKey()" ng-class="{\'unstyled\': !orgUnitVm.isUneditable, \'disabled\': orgUnitVm.isUneditable}"> <span class="glyphter custom-icon-add"></span> <span ng-bind="orgUnitVm.language.getLocale(\'section.pool.label.addjobkey\')"></span> </a> </div> </div> <div class="remove-org-container" ng-if="!orgUnitVm.isUneditable"> <a href="#" ng-click="orgUnitVm.removeOrgUnit()" ng-bind="orgUnitVm.language.getLocale(\'label.remove\')"></a> </div> </div>'),a.put("app/features/pool/pool.html",'<div class="pool page container back flex outer-modal-container"> <div class="page-header order-0 padding clearfix"> <h1 ng-bind="poolVm.title" class="page-title"></h1> </div> <div class="order-2"> <div ng-if="!poolVm.events.length && poolVm.userMsgType === \'noSchedulePool\'" class="hpadding bpadding"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="poolVm.language.getLocale(\'notifications.calendar.message.noschedulepool\')"></div> </div> </div> </div> <div class="white-pane search-form-container"> <div class="flex"> <div class="order-1 clearfix"> <form name="poolVm.searchForm" novalidate> <div class="clearfix"> <div class="float-left"> <div class="typeahead-selector"> <input type="text" name="pool" class="form-control" uib-typeahead="item as item.name for item in poolVm.pools | filter:{name:$viewValue} | limitTo:100" typeahead-min-length="0" typeahead-show-hint="true" typeahead-no-results="noPoolResults" ng-model="poolVm.searchPool" typeahead-on-select="poolVm.getPoolAssignment()" placeholder="{{ ::poolVm.language.getLocale(\'placeholder.threshold.poolname\')}}" ng-disabled="!poolVm.calendarsReady" required> <span auto-close="disabled" is-open="true" uib-dropdown uib-dropdown-toggle> <ul class="uib-dropdown-menu" ng-show="noPoolResults"> <li>No Results Found</li> </ul> </span> <div class="panel panel-alert" ng-show="poolVm.searchForm.$submitted && !poolVm.isObject(poolVm.searchPool)" ng-bind="poolVm.language.getLocale(\'validation.poolname.required\')"> </div> </div> <div class="inline-block"> <input type="checkbox" name="inactive" ng-model="poolVm.showInactive" ng-change="poolVm.toggleActivePools()"> <span ng-bind="::poolVm.language.getLocale(\'section.pool.check.inactive\')"></span> </div> </div> <div class="float-right"> <button type="button" class="btn btn-primary create-pool" ng-click="poolVm.reset()" ng-disabled="!poolVm.editMode" ng-bind="poolVm.language.getLocale(\'section.pool.button.createpool\')"> </button> <div class="info-container"> <a ng-href="{{poolVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="poolVm.language.getLocale(\'section.help.label\')"></span> </a> </div> </div> </div> </form> </div> </div> </div> <div class="white-pane" ng-if="poolVm.currentPool.ready"> <form name="poolVm.poolForm" novalidate> <div class="clearfix"> <div class="col-sm-6 col-no-padding"> <div class="width-270 bmargin-20"> <input type="hidden" name="poolId" ng-model="poolVm.currentPool.poolId"> <label for="poolName" ng-bind="poolVm.language.getLocale(\'section.pool.label.poolname\')"> </label> <input type="text" name="poolName" id="poolName" class="form-control" ng-model="poolVm.currentPool.poolName" ng-maxlength="50" maxlength="50" ng-disabled="!poolVm.editMode" required> <div class="panel panel-alert" ng-show="poolVm.poolForm.$submitted && !poolVm.utilities.isEmpty(poolVm.poolForm.poolName.$error)"> <div ng-show="poolVm.poolForm.poolName.$error.required" ng-bind="poolVm.language.getLocale(\'validation.poolname.required\')"> </div> <div ng-show="poolVm.poolForm.poolName.$error.pattern" ng-bind="poolVm.language.getLocale(\'validation.poolname.maxlength\')"> </div> </div> <div ng-bind="poolVm.language.getLocale(\'section.pool.label.example\')"> </div> </div> <div class="width-270 bmargin-20"> <label for="postDay" ng-bind="poolVm.language.getLocale(\'section.pool.label.postday\')"> </label> <select name="postDay" class="form-control" ng-options="item.name for item in poolVm.weekdays" ng-model="poolVm.currentPool.postDay" ng-disabled="!poolVm.editMode" required> </select> </div> </div> <div class="col-sm-6 col-no-padding"> <div class="bmargin-20"> <div class="inline-block"> <label ng-bind="poolVm.language.getLocale(\'section.pool.label.effectstart\')"> </label> <div class="date-selector"> <input type="text" name="startDate" class="form-control" uib-datepicker-popup="{{ ::poolVm.dateFormat}}" datepicker-options="poolVm.dateOptions" ng-model="poolVm.currentPool.effectiveStartDate" is-open="poolVm.status.start.open" ng-required="true" ng-change="poolVm.startDateChanged()" placeholder="{{ ::poolVm.datePlaceholder}}" close-text="Close" required ng-disabled="poolVm.isUneditable || !poolVm.editMode"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="poolVm.openDatePicker($event, \'start\')" ng-disabled="poolVm.isUneditable || !poolVm.editMode"> <i class="glyphter custom-icon-calendar"></i> </button> </span> <div class="panel panel-alert" ng-show="poolVm.poolForm.$submitted && !poolVm.utilities.isEmpty(poolVm.poolForm.effectiveStartDate.$error)" ng-bind="poolVm.language.getLocale(\'validation.startdate.required\')"> </div> </div> </div> <div class="inline-block"> <label ng-bind="poolVm.language.getLocale(\'section.pool.label.effectend\')"> </label> <div class="date-selector"> <input type="text" name="endDate" class="form-control" uib-datepicker-popup="{{ ::poolVm.dateFormat}}" datepicker-options="poolVm.dateOptions" ng-model="poolVm.currentPool.effectiveEndDate" min-date="poolVm.currentPool.effectiveStartDate" is-open="poolVm.status.end.open" ng-required="true" ng-change="poolVm.endDateChanged()" placeholder="{{ ::poolVm.datePlaceholder}}" close-text="Close" ng-disabled="!poolVm.editMode" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-disabled="!poolVm.editMode" ng-click="poolVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> <div class="panel panel-alert" ng-show="poolVm.poolForm.$submitted && !poolVm.utilities.isEmpty(poolVm.poolForm.effectiveEndDate.$error)" ng-bind="poolVm.language.getLocale(\'validation.enddate.required\')"> </div> </div> </div> </div> <div class="width-130 bmargin-20"> <label for="blockDays" ng-bind="poolVm.language.getLocale(\'section.pool.label.blockdays\')"> </label> <input type="number" name="blockDays" id="blockDays" class="form-control" ng-model="poolVm.currentPool.blockDays" ng-pattern="poolVm.validation.onlyNaturalNumbers" min="1" max="42" ng-disabled="!poolVm.editMode" required> <div class="panel panel-alert" ng-show="poolVm.poolForm.$submitted && !poolVm.utilities.isEmpty(poolVm.poolForm.blockDays.$error)"> <div ng-show="poolVm.poolForm.$submitted && poolVm.poolForm.blockDays.$error.required" ng-bind="poolVm.language.getLocale(\'validation.blockdays.required\')"> </div> <div ng-bind="poolVm.language.getLocale(\'validation.blockdays.pattern\')" ng-show="poolVm.poolForm.blockDays.$error.pattern"> </div> </div> </div> <div class="width-270 bmargin-10"> <label for="calendar" ng-bind="poolVm.language.getLocale(\'section.pool.label.calendar\')"> </label> <select name="calendar" class="form-control" ng-options="item.name for item in poolVm.calendars" ng-model="poolVm.currentPool.calendar" ng-disabled="!poolVm.editMode" required> </select> </div> </div> </div> <h3 class="subtitle title-border" ng-bind="poolVm.language.getLocale(\'section.pool.title.orgunit\')"> </h3> <div class="bmargin-20"> <div ng-repeat="item in poolVm.currentPool.detailAssignments"> <div pool-org-unit parent-id="$index" org-id="item.orgId" is-uneditable="item.isUneditable || !poolVm.editMode" job-keys="item.jobs"> </div> </div> </div> <div> <a href="#" ng-click="!poolVm.editMode ? \'\': poolVm.addOrgUnit()" ng-disabled="!poolVm.editMode" ng-class="{\'unstyled\': poolVm.editMode, \'disabled\': !poolVm.editMode}" class="unstyled"> <span class="glyphter custom-icon-add"></span> <span ng-bind="poolVm.language.getLocale(\'section.pool.label.addorgunit\')"></span> </a> </div> </form> </div> <div ng-controller="ModalController" class="clearfix button-container padding"> <div class="float-left flex mobile-only"> <button type="button" class="btn btn-success" ng-if="poolVm.editMode && poolVm.currentPool.ready" ng-bind="poolVm.language.getLocale(\'button.refresh\')" ng-click="poolVm.refreshPool()" ng-disabled="poolVm.poolForm.processing || poolVm.poolForm.$dirty"> </button> </div> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="cancelChanges()" ng-disabled="!poolVm.editMode" ng-bind="poolVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-if="poolVm.editMode && poolVm.currentPool.ready" ng-bind="poolVm.language.getLocale(\'button.save\')" ng-click="poolVm.submitPool()" ng-disabled="poolVm.poolForm.processing"> </button> </div> </div> </div> </div>'),a.put("app/features/printable-schedule/printable-schedule.html",'<div class="printable-schedule"> <div class="printable-schedule-current"> <span ng-bind="printableScheduleVm.language.getLocale(\'section.printable-schedule.schedule-current\')"> </span> <span ng-bind="printableScheduleVm.currentDateTime"> </span> <span ng-bind="printableScheduleVm.language.getLocale(\'section.out.text.for\')"> </span> <span ng-bind="printableScheduleVm.userSearch.firstName"> </span> <span ng-bind="printableScheduleVm.userSearch.lastName"> </span> <span ng-bind="printableScheduleVm.userSearch.perner"> </span> </div> <div class="printable-schedule-week" ng-repeat="week in printableScheduleVm.schedule.weeks track by $index"> <div ng-repeat="day in printableScheduleVm.schedule | filter : {week: $index + 1}" class="printable-schedule-day"> <div class="printable-schedule-day-label" ng-bind="day.dayLabel"></div> <div class="printable-schedule-day-label-desktop" ng-bind="day.dayLabelDesktop"></div> <div ng-if="day.hasShifts === false" class="printable-schedule-empty" ng-class="{\'printable-schedule-shift-uncovered\': day.uncovered}" ng-bind="printableScheduleVm.language.getLocale(\'section.calendar.week.emptyday\')"></div> <div ng-if="day.hasShifts === true"> <div ng-repeat="shift in day.shifts" class="printable-schedule-shift" ng-class="{\'printable-schedule-shift-uncovered\': shift.uncovered}"> <span ng-bind="shift.startLabel" class="printable-shift-time"> </span> - <span ng-bind="shift.endLabel" class="printable-shift-time"> </span> <span class="printable-schedule-shift-time-separator">&nbsp;&nbsp;</span> <span ng-bind="shift.positionDescription" class="printable-schedule-position"> </span> </div> </div> </div> </div> </div>'),a.put("app/features/shift-maintenance/partials/shift-maintenance-edit.html",'<div id="edit-shifts-content-drawer-content" class="content-drawer-content kng-button-tray"> <div id="edit-shifts-content-drawer-header" class="content-drawer-header pocket-panel-title" ng-bind="shiftMaintenanceEditVm.language.getLocale(\'button.edit-shifts\')"> </div> <div id="edit-shifts-form" class="content-drawer-body"> <p class="shift-maintenance-edit-message"> <span ng-bind="shiftMaintenanceEditVm.numberOfShiftsMessages[0]"> </span> <span class="emphasized" ng-bind="shiftMaintenanceEditVm.shiftCount"> </span> <span ng-bind="shiftMaintenanceEditVm.numberOfShiftsMessages[1]"> </span> </p> <span ng-class="{\'error-message\': shiftMaintenanceEditVm.dateRange.startDateHasError}" ng-if="shiftMaintenanceEditVm.singleDaySelected" ng-bind="shiftMaintenanceEditVm.language.getLocale(\'label.date\')"> </span> <br> <div class="shift-maintenance-date-row" ng-if="shiftMaintenanceEditVm.singleDaySelected"> <div class="date-selector ahsu-date-container"> <input type="text" name="startDate" class="form-control" ng-class="{\'error-indicator\': shiftMaintenanceEditVm.dateRange.startDateHasError}" uib-datepicker-popup="{{shiftMaintenanceEditVm.dateFormat}}" datepicker-options="shiftMaintenanceEditVm.dateOptions" ng-model="shiftMaintenanceEditVm.startDate" min-date="shiftMaintenanceEditVm.minDate" is-open="shiftMaintenanceEditVm.status.start.open" ng-change="shiftMaintenanceEditVm.dateRange.startDateChange()" ng-required="false" ng-disabled="false" placeholder="{{shiftMaintenanceEditVm.datePlaceholder}}" close-text="Close"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" tabindex="-1" ng-disabled="false" ng-click="shiftMaintenanceEditVm.openDatePicker($event, \'start\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div class="shift-maintenance-time-row" ng-if="shiftMaintenanceEditVm.singleDaySelected"> <div> <span ng-class="{\'error-message\': shiftMaintenanceEditVm.timeRange.startTimeHasError}" ng-bind="shiftMaintenanceEditVm.language.getLocale(\'label.startTime\')"> </span> <input class="form-control" type="text" maxlength="5" ng-model="shiftMaintenanceEditVm.startTime" placeholder="HH:MM" ng-change="shiftMaintenanceEditVm.timeRange.startTimeChange()"> </div> <div> <span ng-class="{\'error-message\': shiftMaintenanceEditVm.timeRange.endTimeHasError}" ng-bind="shiftMaintenanceEditVm.language.getLocale(\'label.endTime\')"> </span> <input class="form-control" type="text" placeholder="HH:MM" maxlength="5" ng-model="shiftMaintenanceEditVm.endTime" ng-change="shiftMaintenanceEditVm.timeRange.endTimeChange()"> </div> </div> <div class="error-message time-error-message" ng-if="shiftMaintenanceEditVm.timeRange.startTimeHasError || shiftMaintenanceEditVm.timeRange.endTimeHasError"> <span ng-bind="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.error.time.same\')" ng-if="shiftMaintenanceEditVm.sameTimes"> </span> <span ng-bind="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.error.time.format\')" ng-if="!shiftMaintenanceEditVm.sameTimes"> </span> </div> <div type-ahead id="shift-maintenance-edit-position-type-ahead" class="type-ahead" label="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.position.label\')" get-option-list="shiftMaintenanceEditVm.getPositions(searchString)" get-is-required="shiftMaintenanceEditVm.getPositionRequired()" get-option-summary="shiftMaintenanceEditVm.getPositionSummary()" disable-updating="false" placeholder="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.position.placeholder\')" clear="shiftMaintenanceEditVm.clearPosition()"></div> <div drop-down id="shift-maintenance-edit-shift-status-drop-down" class="drop-down panel-drop-down" label="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.shift-status.label\')" options="shiftMaintenanceEditVm.shiftStatuses" required="false" multiple="false" get-option-summary="shiftMaintenanceEditVm.getShiftStatusSummary()" disabled="false"></div> <div type-ahead id="shift-maintenance-edit-rule-set-type-ahead" class="type-ahead" label="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.rule-set.label\')" get-option-list="shiftMaintenanceEditVm.getRuleSets(searchString)" get-is-required="shiftMaintenanceEditVm.getRuleSetRequired()" get-option-summary="shiftMaintenanceEditVm.getRuleSetSummary()" disable-updating="false" placeholder="shiftMaintenanceEditVm.language.getLocale(\'section.shift-maintenance.rule-set.placeholder\')" clear="shiftMaintenanceEditVm.clearRuleSet()"></div> </div> </div> <div class="content-drawer-footer kng-button-bar"> <a class="kng-button kng-button-secondary" ng-click="shiftMaintenanceEditVm.cancel()" ng-bind="shiftMaintenanceEditVm.language.getLocale(\'button.cancel\')"> </a> <a class="kng-button kng-button-primary" ng-bind="shiftMaintenanceEditVm.language.getLocale(\'button.save\')" ng-click="shiftMaintenanceEditVm.submit()"> </a> </div>'),a.put("app/features/shift-maintenance/partials/shift-maintenance-shift.html",'<div class="kng-icon-font"> <span ng-class="{\n      \'kng-check_off\': !shiftMaintenanceShiftVm.shift.selected,\n      \'kng-check_on\': shiftMaintenanceShiftVm.shift.selected,\n      \'shift-locked\': shiftMaintenanceShiftVm.shift.locked\n      }" ng-if="!shiftMaintenanceShiftVm.shift.locked" ng-click="shiftMaintenanceShiftVm.toggleSelected()"> </span> <div class="shift-maintenance-locked-checkbox" ng-if="shiftMaintenanceShiftVm.shift.locked"> </div> </div> <div class="shift-maintenance-shift-details"> <div> <div class="position-description emphasized" ng-bind="shiftMaintenanceShiftVm.shift.positionName"> </div> <p class="time-range"> <span class="emphasized" ng-bind="shiftMaintenanceShiftVm.shiftDayLabel"> </span>, <span ng-bind="shiftMaintenanceShiftVm.shiftDate"> </span> <br> <span ng-bind="shiftMaintenanceShiftVm.timeFrame"> </span> (<span ng-bind="shiftMaintenanceShiftVm.shiftLength"> </span>) </p> <div> <span ng-bind="shiftMaintenanceShiftVm.language.getLocale(\'section.shiftdetails.shift.id\')"> </span>&nbsp;&nbsp; <span class="emphasized" ng-bind="shiftMaintenanceShiftVm.shift.shiftId"> </span> </div> <div> <span ng-bind="shiftMaintenanceShiftVm.language.getLocale(\'section.shift-maintenance.rule-set.label\')"> </span>&nbsp;&nbsp; <span class="emphasized" ng-bind="shiftMaintenanceShiftVm.shift.eligibilityRuleName"> </span> </div> </div> <div class="shift-maintenance-shift-personal-details"> <p ng-if="shiftMaintenanceShiftVm.shiftStatusFilled === false" ng-class="{\'open-status\': shiftMaintenanceShiftVm.shiftStatusOpen,\n                    \'pending-status\': shiftMaintenanceShiftVm.shiftStatusPending,\n                    \'shift-locked\': shiftMaintenanceShiftVm.shift.locked}"> <span> <span ng-if="shiftMaintenanceShiftVm.shift.locked === true" class="workforce-icon-font wm-Icon_Lock"> </span> <span ng-bind="shiftMaintenanceShiftVm.shiftStatusName | uppercase" ng-class="{\'open-locked\': shiftMaintenanceShiftVm.shift.locked}"> </span> </span> <div ng-if="shiftMaintenanceShiftVm.assignToCast.show"> <a ng-bind="shiftMaintenanceShiftVm.assignToCast.title" ng-click="shiftMaintenanceShiftVm.assignToCast.selectedAssignToCast()"></a> <div ng-if="shiftMaintenanceShiftVm.assignToCast.showPopup" class="shift-maintenance-assign-to-cast-container"> <form> <div class="shift-maintenance-assign-to-cast"> <div class="box-container"> <div class="box-1"></div> <div class="box-2"></div> </div> <span ng-bind="shiftMaintenanceShiftVm.language.getLocale(\'label.perner\')" class="pull-left"></span><br> <input type="text" class="form-control" placeholder="{{shiftMaintenanceShiftVm.language.getLocale(\'label.perner\')}}" ng-model="shiftMaintenanceShiftVm.assignToCast.selectedPerner" autofocus tabindex="1" required ng-pattern="/^[0-9]{8,8}$/"> <button class="btn btn-success" ng-bind="shiftMaintenanceShiftVm.language.getLocale(\'section.shift-maintenance.assign-to-cast.button.title\')" ng-click="shiftMaintenanceShiftVm.assignToCast.submit()" ng-disabled="shiftMaintenanceShiftVm.assignToCast.selectedPerner.length != 8"> </button> </div> </form> </div> </div> </p> <p ng-if="shiftMaintenanceShiftVm.shift.locked === true" class="shift-maintenance-lock-message"> <span ng-bind="shiftMaintenanceShiftVm.language.getLocale(\'section.shift-maintenance.time-remaining.label\')"> </span> <span ng-bind="shiftMaintenanceShiftVm.formattedTimeToLockExpiration"> </span> </p> <p class="shift-maintenance-filled-shift-info" ng-if="shiftMaintenanceShiftVm.shiftStatusFilled === true"> <span ng-bind="shiftMaintenanceShiftVm.shift.lastName"> </span>, <span ng-bind="shiftMaintenanceShiftVm.shift.firstName"> </span> <br> <span class="shift-maintenance-filled-shift-info-minor"> <span ng-bind="shiftMaintenanceShiftVm.shift.perner"> </span> <span ng-bind="shiftMaintenanceShiftVm.shift.workStatus"> </span> </span> <br> <span class="shift-maintenance-filled-shift-info-minor"> <span ng-bind="shiftMaintenanceShiftVm.filledDayLabel"> </span>, <span ng-bind="shiftMaintenanceShiftVm.filledDate"> </span> </span> </p> </div> </div>'),
a.put("app/features/shift-maintenance/shift-maintenance.html",'<div class="shift-maintenance"> <div class="shift-maintenance-controls" ng-class="{\'hide-panel\': shiftMaintenanceVm.querySubmitted}"> <div class="shift-maintenance-header"> <div drop-down id="shift-maintenance-header-drop-down" class="drop-down panel-drop-down drop-down-header" options="shiftMaintenanceVm.headers" required="false" multiple="false" header="true" disabled="shiftMaintenanceVm.cloneShiftId" get-option-summary="shiftMaintenanceVm.getHeaderSummary()"></div> </div> <div class="shift-maintenance-body"> <span ng-class="{\'error-message\': shiftMaintenanceVm.dateRange.startDateHasError}"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'label.date\')" ng-if="shiftMaintenanceVm.createMode === true"> </span> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'label.startDate\')" ng-if="shiftMaintenanceVm.createMode !== true"> </span> * </span> <br> <div class="shift-maintenance-date-row"> <div class="date-selector ahsu-date-container"> <input type="text" name="startDate" class="form-control" ng-class="{\'error-indicator\': shiftMaintenanceVm.dateRange.startDateHasError}" uib-datepicker-popup="{{shiftMaintenanceVm.dateFormat}}" datepicker-options="shiftMaintenanceVm.dateOptions" ng-model="shiftMaintenanceVm.startDate" min-date="shiftMaintenanceVm.minDate" is-open="shiftMaintenanceVm.status.start.open" ng-change="shiftMaintenanceVm.dateRange.startDateChange()" ng-required="true" ng-disabled="shiftMaintenanceVm.isOneTimeCreateRequest" placeholder="{{shiftMaintenanceVm.datePlaceholder}}" close-text="Close"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" tabindex="-1" ng-disabled="shiftMaintenanceVm.isOneTimeCreateRequest" ng-click="shiftMaintenanceVm.openDatePicker($event, \'start\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> <div class="shift-maintenance-overnight-message" ng-bind="shiftMaintenanceVm.overnightMessage" ng-if="shiftMaintenanceVm.showOvernightMessage() && shiftMaintenanceVm.createMode === true"></div> </div> <span ng-class="{\'error-message\': shiftMaintenanceVm.dateRange.endDateHasError}" ng-if="shiftMaintenanceVm.createMode !== true"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'label.endDate\')"> </span> </span> <br ng-if="shiftMaintenanceVm.createMode !== true"> <div ng-if="shiftMaintenanceVm.createMode !== true" class="shift-maintenance-date-row"> <div class="date-selector ahsu-date-container" ng-if="shiftMaintenanceVm.createMode !== true"> <input type="text" name="endDate" class="form-control" ng-class="{\'error-indicator\': shiftMaintenanceVm.dateRange.endDateHasError}" uib-datepicker-popup="{{shiftMaintenanceVm.dateFormat}}" datepicker-options="shiftMaintenanceVm.dateOptions" ng-model="shiftMaintenanceVm.endDate" min-date="shiftMaintenanceVm.minDate" is-open="shiftMaintenanceVm.status.end.open" ng-change="shiftMaintenanceVm.dateRange.endDateChange()" ng-required="false" placeholder="{{shiftMaintenanceVm.datePlaceholder}}" close-text="Close"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" tabindex="-1" ng-click="shiftMaintenanceVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> </div> </div> <div ng-class="{\'error-message\': shiftMaintenanceVm.timeRange.startTimeHasError || shiftMaintenanceVm.timeRange.endTimeHasError}" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.time-range.label\')" ng-if="shiftMaintenanceVm.createMode !== true"> </div> <div class="shift-maintenance-time-row"> <div> <span ng-class="{\'error-message\': shiftMaintenanceVm.timeRange.startTimeHasError}" ng-if="shiftMaintenanceVm.createMode === true"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'label.startTime\')"> </span> * </span> <input class="form-control" type="text" maxlength="5" ng-class="{\'error-input\': shiftMaintenanceVm.timeRange.startTimeHasError}" ng-model="shiftMaintenanceVm.startTime" placeholder="HH:MM" ng-change="shiftMaintenanceVm.timeRange.startTimeChange()"> </div> <div ng-if="shiftMaintenanceVm.createMode !== true" class="shift-maintenance-time-row-range-separator">-</div> <div> <span ng-class="{\'error-message\': shiftMaintenanceVm.timeRange.endTimeHasError}" ng-if="shiftMaintenanceVm.createMode === true"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'label.endTime\')"> </span> * </span> <input class="form-control" type="text" placeholder="HH:MM" maxlength="5" ng-class="{\'error-input\': shiftMaintenanceVm.timeRange.endTimeHasError}" ng-model="shiftMaintenanceVm.endTime" ng-change="shiftMaintenanceVm.timeRange.endTimeChange()"> </div> </div> <div class="error-message time-error-message" ng-if="shiftMaintenanceVm.timeRange.startTimeHasError || shiftMaintenanceVm.timeRange.endTimeHasError"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.error.time.same\')" ng-if="shiftMaintenanceVm.sameTimes"> </span> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.error.time.format\')" ng-if="!shiftMaintenanceVm.sameTimes"> </span> </div> <div drop-down id="shift-maintenance-shift-status-drop-down" class="drop-down panel-drop-down" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.shift-status.label\')" options="shiftMaintenanceVm.shiftStatuses" required="true" multiple="false" get-option-summary="shiftMaintenanceVm.getShiftStatusSummary()" disabled="shiftMaintenanceVm.isOneTimeCreateRequest"></div> <div type-ahead id="shift-maintenance-position-type-ahead" ng-if="shiftMaintenanceVm.lookupDataLoaded" class="type-ahead panel-type-ahead" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.position.label\')" get-option-list="shiftMaintenanceVm.getPositions(searchString)" get-is-required="shiftMaintenanceVm.getPositionRequired()" get-option-summary="shiftMaintenanceVm.getPositionSummary()" disable-updating="shiftMaintenanceVm.isOneTimeCreateRequest" clear="shiftMaintenanceVm.clearPosition()" placeholder="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.position.placeholder\')"></div> <div type-ahead id="shift-maintenance-rule-set-type-ahead" ng-if="shiftMaintenanceVm.lookupDataLoaded && shiftMaintenanceVm.createMode" class="type-ahead panel-type-ahead" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.rule-set.label\')" get-option-list="shiftMaintenanceVm.getRuleSets(searchString)" get-is-required="shiftMaintenanceVm.getRuleSetRequired()" get-option-summary="shiftMaintenanceVm.getRuleSetSummary()" disable-updating="shiftMaintenanceVm.isOneTimeCreateRequest" clear="shiftMaintenanceVm.clearRuleSet()" placeholder="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.rule-set.placeholder\')"></div> <div ng-if="shiftMaintenanceVm.createMode"> <span ng-class="{\'error-message\': shiftMaintenanceVm.numberOfShiftsHasError}"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.number-of-shifts.label\')"> </span> * </span> <input class="form-control shift-maintenance-shift-number" type="text" maxlength="3" ng-model="shiftMaintenanceVm.numberOfShifts" ng-class="{\'error-input\': shiftMaintenanceVm.numberOfShiftsHasError}" ng-change="shiftMaintenanceVm.numberOfShiftsChange()"> <span class="error-message" ng-if="shiftMaintenanceVm.numberOfShiftsHasError" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.error.number-of-shifts.format\') + (shiftMaintenanceVm.maxNofOfShifts - 1)"> </span> </div> <div type-ahead id="shift-maintenance-lob-type-ahead" ng-if="shiftMaintenanceVm.lookupDataLoaded && !shiftMaintenanceVm.createMode" class="type-ahead panel-type-ahead" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.lob.label\')" get-option-list="shiftMaintenanceVm.getLinesOfBusiness(searchString)" get-is-required="shiftMaintenanceVm.getLineOfBusinessRequired()" get-option-summary="shiftMaintenanceVm.getLineOfBusinessSummary()" clear="shiftMaintenanceVm.clearLineOfBusiness()" placeholder="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.lob.placeholder\')"></div> <div type-ahead id="shift-maintenance-property-type-ahead" ng-if="shiftMaintenanceVm.lookupDataLoaded && !shiftMaintenanceVm.createMode" class="type-ahead panel-type-ahead" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.property.label\')" get-option-list="shiftMaintenanceVm.getProperties(searchString)" get-is-required="shiftMaintenanceVm.getLineOfBusinessRequired()" get-option-summary="shiftMaintenanceVm.getPropertySummary()" clear="shiftMaintenanceVm.clearProperty()" placeholder="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.property.placeholder\')"></div> <div type-ahead id="shift-maintenance-area-type-ahead" ng-if="shiftMaintenanceVm.areaDataLoaded && !shiftMaintenanceVm.createMode && shiftMaintenanceVm.property" class="type-ahead panel-type-ahead" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.area.label\')" get-option-list="shiftMaintenanceVm.getAreas(searchString)" get-is-required="shiftMaintenanceVm.getLineOfBusinessRequired()" get-option-summary="shiftMaintenanceVm.getAreaSummary()" clear="shiftMaintenanceVm.clearArea()" placeholder="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.area.placeholder\')"></div> <div type-ahead id="shift-maintenance-location-type-ahead" ng-if="shiftMaintenanceVm.locationDataLoaded && !shiftMaintenanceVm.createMode && shiftMaintenanceVm.area" class="type-ahead panel-type-ahead" label="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.location.label\')" get-option-list="shiftMaintenanceVm.getLocations(searchString)" get-is-required="shiftMaintenanceVm.getLineOfBusinessRequired()" get-option-summary="shiftMaintenanceVm.getLocationSummary()" clear="shiftMaintenanceVm.clearLocation()" placeholder="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.location.placeholder\')"></div> </div> <div class="shift-maintenance-footer-background"></div> <div class="shift-maintenance-footer kng-button-bar"> <a class="clear-button" ng-if="shiftMaintenanceVm.createMode !== true" ng-bind="shiftMaintenanceVm.language.getLocale(\'button.clear\')" ng-click="shiftMaintenanceVm.initSearch()"> </a> <a class="kng-button" ng-class="{\'kng-button-disabled\': shiftMaintenanceVm.fieldsIncomplete() || shiftMaintenanceVm.hasCreatedCloneShift,\n                     \'kng-button-primary\': !(shiftMaintenanceVm.fieldsIncomplete() || shiftMaintenanceVm.hasCreatedCloneShift),\n                     \'find-button\': !shiftMaintenanceVm.createMode,\n                     \'shift-maintenance-create-button\': shiftMaintenanceVm.createMode}" ng-click="shiftMaintenanceVm.submit()"> <span ng-if="shiftMaintenanceVm.createMode === true" ng-bind="shiftMaintenanceVm.language.getLocale(\'button.create\')"> </span> <span ng-if="shiftMaintenanceVm.createMode !== true" ng-bind="shiftMaintenanceVm.language.getLocale(\'button.find\')"> </span> </a> </div> </div> <div class="shift-maintenance-search-results" ng-class="{\'hide-panel\': !shiftMaintenanceVm.querySubmitted}"> <div class="shift-maintenance-search-results-title-bar-background"> </div> <div class="shift-maintenance-search-results-title-bar"> <div class="shift-maintenance-search-results-title" ng-if="shiftMaintenanceVm.querySubmitted"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.shift-results.create.title\')" ng-if="shiftMaintenanceVm.createMode === true"> </span> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.shift-results.search.title\')" ng-if="shiftMaintenanceVm.createMode !== true"> </span> (<span ng-bind="shiftMaintenanceVm.shifts.length"> </span>) </div> <div class="shift-maintenance-sort" ng-if="shiftMaintenanceVm.querySubmitted"> <span ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.sort.label\')"> </span>&nbsp;&nbsp; <select ng-model="shiftMaintenanceVm.sortType" ng-change="shiftMaintenanceVm.sort()"> <option value="" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.sort.all\')"> <option value="StartTime" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.sort.start-time\')">  <option value="EndTime" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.sort.end-time\')">  <option value="Status" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.sort.status\')">  <option value="FilledTime" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.sort.filled\')">  </select> </div> </div> <div class="shift-maintenance-shifts-container"> <a ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.select-all\')" ng-if="shiftMaintenanceVm.shifts && shiftMaintenanceVm.shifts.length > 1 && !shiftMaintenanceVm.allShiftsSelected()" ng-click="shiftMaintenanceVm.selectAll()" class="shift-maintenance-select-all-link"> </a> <a ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.unselect-all\')" ng-if="shiftMaintenanceVm.shifts && shiftMaintenanceVm.shifts.length > 1 && shiftMaintenanceVm.allShiftsSelected()" ng-click="shiftMaintenanceVm.unselectAll()" class="shift-maintenance-select-all-link"> </a> <p class="shift-maintenance-search-no-results" ng-if="shiftMaintenanceVm.querySubmitted && shiftMaintenanceVm.shifts && shiftMaintenanceVm.shifts.length === 0" ng-bind="shiftMaintenanceVm.language.getLocale(\'section.shift-maintenance.search.no-results\')"> </p> <div shift-maintenance-shift ng-repeat="shift in shiftMaintenanceVm.shifts" shift="shift" update-shift="shiftMaintenanceVm.updateShift" assign-to-cast-selected="shiftMaintenanceVm.assignToCastSelected" is-assign-to-cast-request="shiftMaintenanceVm.isAssignToCastRequest" class="shift-maintenance-shift" ng-class="{\'shift-locked\': shift.locked}"> </div> </div> <div class="shift-maintenance-footer-background" ng-if="shiftMaintenanceVm.querySubmitted"></div> <div class="shift-maintenance-footer kng-button-bar" ng-if="shiftMaintenanceVm.querySubmitted"> <a class="kng-button" ng-class="{\'kng-button-disabled\': !shiftMaintenanceVm.shiftsSelected(),\n                     \'kng-button-secondary\': shiftMaintenanceVm.shiftsSelected()}" ng-bind="shiftMaintenanceVm.language.getLocale(\'button.close-shifts\')" ng-click="shiftMaintenanceVm.confirmCloseShifts()"> </a> <a class="kng-button" ng-class="{\'kng-button-disabled\': !shiftMaintenanceVm.shiftsSelected(),\n                     \'kng-button-secondary\': shiftMaintenanceVm.shiftsSelected()}" ng-bind="shiftMaintenanceVm.language.getLocale(\'button.edit-shifts\')" ng-click="shiftMaintenanceVm.editShifts()"> </a> </div> </div> </div>'),a.put("app/features/shift/shift-details-form.html",'<div class="side-modal-body white-container shift-details-container"> <div class="modal-header clearfix"> <div class="title float-left" ng-bind="shiftDetailsVm.language.getLocale(\'section.shiftdetails.title\')"> </div> <button type="button" class="float-right close-modal unstyled close-action" ng-click="shiftDetailsVm.cancelModal(\'#shift-details-modal\', false)"> X </button> </div> <div class="padding future-requests-view-container"> <form name="shiftDetailsVm.shiftDetailsForm" novalidate> \x3c!-- Display date and time frame --\x3e <p> <span ng-bind="shiftDetailsVm.shift.shiftDate"></span><br> <span ng-bind="shiftDetailsVm.shift.timeFrame"></span><br> <span id="shift-detail-description" ng-bind="shiftDetailsVm.shift.positionDescription"></span> </p> <p> <div class="row"> <label for="shift-detail-shiftId" class="col-md-4 col-sm-5 col-xs-4">Shift Id</label> <span id="shift-detail-shiftId" class="col-md-8 col-sm-7 col-xs-8" ng-bind="shiftDetailsVm.shift.id"></span> </div> <div class="row"> <label for="shift-detail-shiftLength" class="col-md-4 col-sm-5 col-xs-4">Duration</label> <span id="shift-detail-shiftLength" class="col-md-8 col-sm-7 col-xs-8" ng-bind="shiftDetailsVm.shift.shiftLength"></span> </div> <div class="row" ng-if="shiftDetailsVm.shift.ehhPositionDescription"> <label for="shift-detail-description" class="col-md-4 col-sm-5 col-xs-4">Position</label> <span id="shift-detail-description" class="col-md-8 col-sm-7 col-xs-8" ng-bind="shiftDetailsVm.shift.ehhPositionDescription"></span> </div> <div class="row" ng-if="shiftDetailsVm.shift.propertyName"> <label for="shift-detail-property" class="col-md-4 col-sm-5 col-xs-4" ng-show="shiftDetailsVm.shift.propertyName">Property</label> <span id="shift-detail-property" class="col-md-8 col-sm-5 col-xs-8" ng-bind="shiftDetailsVm.shift.propertyName"></span> </div> <div class="row" ng-if="shiftDetailsVm.shift.extraHoursPositionMeetingPlace"> <label for="shift-detail-meetingPlace" class="col-md-4 col-sm-5 col-xs-4" ng-show="shiftDetailsVm.shift.extraHoursPositionMeetingPlace">Meeting Place</label> <span id="shift-detail-meetingPlace" class="col-md-8 col-sm-7 col-xs-4" ng-bind="shiftDetailsVm.shift.extraHoursPositionMeetingPlace"></span> </div> </p> <p ng-hide="shiftDetailsVm.shift.extraHoursPositionCostume.textBody == null"> <label for="shift-detail-costume">Costume</label> <div id="shift-detail-costume"> <div> <div ng-show="shiftDetailsVm.shift.extraHoursPositionCostume.hasHyperlink"> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionCostume.textBody"></span> <a ng-href="{{shiftDetailsVm.shift.extraHoursPositionCostume.textHyperlink}}" target="_blank"> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionCostume.textHyperlinkName" class="shift-detail-hyperlink"> </span> </a> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionCostume.textBodyEnd"></span> </div> <div ng-hide="shiftDetailsVm.shift.extraHoursPositionCostume.hasHyperlink"> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionCostume.textBody"></span> </div> </div> </div> </p> <p ng-init="showComments = true"> <table ng-hide="shiftDetailsVm.shift.extraHoursPositionComments.textBody == null"> <tr> <td> <span class="glyphicon glyphicon-play" aria-hidden="true" ng-class="{\'expand\': showComments}" ng-click="showComments = !showComments"></span>  <td><label for="shift-detail-comments" class="col-md-4">Comments</label>  <tr> <td> <td> <div ng-show="showComments"> <div ng-show="shiftDetailsVm.shift.extraHoursPositionComments.hasHyperlink"> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionComments.textBody"></span> <a ng-href="{{shiftDetailsVm.shift.extraHoursPositionComments.textHyperlink}}" target="_blank"> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionComments.textHyperlinkName" class="shift-detail-hyperlink"> </span> </a> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionComments.textBodyEnd"></span> </div> <div ng-hide="shiftDetailsVm.shift.extraHoursPositionComments.hasHyperlink"> <span ng-bind="shiftDetailsVm.shift.extraHoursPositionComments.textBody"></span> </div> </div>   <table> </table></table></p> <p ng-init="showNotes = true"> <table ng-hide="shiftDetailsVm.shift.shiftNoteText == null"> <tr> <td> <span class="glyphicon glyphicon-play" aria-hidden="true" ng-class="{\'expand\': showNotes}" ng-click="showNotes = !showNotes"></span>  <td><label for="shift-detail-notes" class="col-md-4">Notes</label>  <tr> <td> <td> <div ng-show="showNotes"> <span id="shift-detail-notes" ng-bind="shiftDetailsVm.shift.shiftNoteText"></span> </div>   <table> </table></table></p> <p> \x3c!-- Actions --\x3e </p> <div class="bpadding"></div><div class="bmargin-40"></div> <div class="button-container"> <button type="button" class="btn btn-success" ng-click="shiftDetailsVm.cancelModal(\'#shift-details-modal\', shiftDetailsVm.editModal)" ng-bind="shiftDetailsVm.language.getLocale(\'button.close\')"> </button> </div> </form> </div> </div>'),a.put("app/features/threshold/partials/approved.html",'<div class="side-modal-body white-container"> <div class="modal-header clearfix"> <div class="title float-left" ng-bind="approvedVm.language.getLocale(\'section.threshold.approvedtime\')"> </div> <button type="button" class="float-right close-modal unstyled" ng-click="approvedVm.cancelModal(\'{{approvedVm.modalId}}\')" ng-bind="approvedVm.language.getLocale(\'modal.close.x\')"> </button> </div> <div class="padding"> <div ng-bind="approvedVm.language.getLocale(\'section.threshold.text.approvedfrom\')"></div> <div class="bmargin-20"> <span ng-bind="approvedVm.data.start | dateTime : \'\': \'MM/DD/YY\'"></span> <span ng-bind="approvedVm.language.getLocale(\'text.to\')"></span> <span ng-bind="approvedVm.data.end | dateTime : \'\': \'MM/DD/YY\'"></span> </div> <div class="scroll-content"> <div ng-repeat="group in approvedVm.approved"> <div class="day-label"> <span ng-bind="group[0].date | dateTime : \'\': \'dddd\'"></span> ({{ group[0].perner ? group.length : 0}}) </div> <ol ng-if="group[0].perner"> <li ng-repeat="cm in group track by $index"> <div ng-bind="cm.name"></div> <div> <span ng-bind="cm.workStatus"></span> <span ng-if="cm.workStatus">, </span> <span ng-bind="cm.perner"></span> </div> </li> </ol> </div> </div> <div class="button-container"> <button type="button" class="btn btn-default cancel-btn" ng-click="approvedVm.cancelModal(\'{{approvedVm.modalId}}\')" ng-bind="approvedVm.language.getLocale(\'button.close\')"> </button> </div> </div> </div>'),a.put("app/features/threshold/partials/threshold-virtual-list.html",'<div class="threshold-table"> <div> <div class="weekday-header" ng-repeat="id in thresholdVm.weekdayHeaders"> <div ng-bind="thresholdVm.language.getLocale(\'calendar.weekday.label.{{id}}\')"></div> </div> </div> <div ng-style="canvasHeight"> <div class="week rendered-item" ng-repeat="rowItem in visibleProvider track by $index" ng-style="rowItem.styles"> <div class="date-range-container"> <div class="date-range"> <span ng-bind="thresholdVm.thresholds[rowItem.rowOffset].date | dateTime : \'\': \'MM/DD/YY\'"></span> <span> - </span> <span ng-bind="thresholdVm.thresholds[rowItem.rowOffset + 6].date | dateTime : \'\': \'MM/DD/YY\'"></span> </div> <div class="link-container"> <a href="#" ng-if="thresholdVm.weekHasApproved(thresholdVm.thresholds, rowItem.rowOffset)" ng-click="thresholdVm.launchPanel({modalId: \'modal-\' + $index, name: \'threshold-approved\', poolId: thresholdVm.currentPool.id, start: thresholdVm.thresholds[rowItem.rowOffset].date, end: thresholdVm.thresholds[rowItem.rowOffset + 6].date})" ng-bind="thresholdVm.language.getLocale(\'section.threshold.approved\')"> </a> <span ng-if="thresholdVm.weekHasApproved(thresholdVm.thresholds, rowItem.rowOffset) && thresholdVm.weekHasWaitlisted(thresholdVm.thresholds, rowItem.rowOffset)" class="separator"> </span> <a href="#" ng-if="thresholdVm.weekHasWaitlisted(thresholdVm.thresholds, rowItem.rowOffset)" ng-click="thresholdVm.launchPanel({modalId: \'modal-\' + $index, name: \'threshold-waitlist\', poolId: thresholdVm.currentPool.id, start: thresholdVm.thresholds[rowItem.rowOffset].date, end: thresholdVm.thresholds[rowItem.rowOffset + 6].date})" ng-bind="thresholdVm.language.getLocale(\'section.threshold.waitlist\')"> </a> </div> </div> <div class="weekday-container"> <div class="threshold-cell" ng-repeat="item in thresholdVm.thresholds | limitRange:7:rowItem.rowOffset"> <div class="top-row"> <span class="previous-year" ng-bind="item.previousYearThreshold"></span> <span class="balance" ng-bind="item.balance"></span> </div> <input threshold-input type="number" name="currentThreshold[$index]" class="current-year" min="0" max="999" ng-class="{\'edited\': item.edited}" ng-model="item.currentYearThreshold" ng-blur="thresholdVm.thresholdChanged(this.item)" ng-disabled="!thresholdVm.editMode"> <div class="edit-triangle" ng-if="item.edited"></div> </div> </div> </div> </div> </div>'),a.put("app/features/threshold/partials/waitlist.html",'<div class="side-modal-body white-container"> <div class="modal-header clearfix"> <div class="title float-left" ng-bind="waitlistVm.language.getLocale(\'section.threshold.waitlists\')"> </div> <button type="button" class="float-right close-modal unstyled" ng-click="waitlistVm.cancelModal(\'{{waitlistVm.modalId}}\')" ng-bind="waitlistVm.language.getLocale(\'modal.close.x\')"> </button> </div> <div class="padding"> <div ng-bind="waitlistVm.language.getLocale(\'section.threshold.text.waitlistfrom\')"></div> <div class="bmargin-20"> <span ng-bind="waitlistVm.data.start | dateTime : \'\': \'MM/DD/YY\'"></span> <span ng-bind="waitlistVm.language.getLocale(\'text.to\')"></span> <span ng-bind="waitlistVm.data.end | dateTime : \'\': \'MM/DD/YY\'"></span> </div> <div class="scroll-content"> <div ng-repeat="group in waitlistVm.waitlists"> <div class="day-label"> <span ng-bind="group[0].date | dateTime : \'\': \'dddd\'"></span> ({{ group[0].perner ? group.length : 0}}) </div> <ol ng-if="group[0].perner"> <li ng-repeat="cm in group track by $index"> <div ng-bind="cm.name"></div> <div> <span ng-bind="cm.workStatus"></span> <span ng-if="cm.workStatus">, </span> <span ng-bind="cm.perner"></span> </div> </li> </ol> </div> </div> <div class="button-container"> <button type="button" class="btn btn-default cancel-btn" ng-click="waitlistVm.cancelModal(\'{{waitlistVm.modalId}}\')" ng-bind="waitlistVm.language.getLocale(\'button.close\')"> </button> </div> </div> </div>'),a.put("app/features/threshold/threshold.html",'<div class="threshold page container back flex outer-modal-container"> <div class="page-header order-0 padding clearfix"> <h1 ng-bind="thresholdVm.title" class="page-title"></h1> </div> <div class="order-2"> <div ng-if="!thresholdVm.events.length && thresholdVm.userMsgType === \'noSchedulePool\'" class="hpadding bpadding"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="thresholdVm.language.getLocale(\'notifications.calendar.message.noschedulepool\')"></div> </div> </div> </div> <div class="white-pane search-form-container"> <div class="flex"> <div class="order-1 clearfix"> <div ng-if="thresholdVm.prevState" class="go-back-container"> <a ng-click="thresholdVm.navigateBack()"> <span class="glyphicon glyphicon-chevron-left"></span> <span class="go-back-text" ng-bind="thresholdVm.prevStateMessage"></span> </a> </div> <form name="thresholdVm.searchForm" novalidate> <div class="clearfix"> <div class="info-container"> <a ng-href="{{thresholdVm.helpUrl}}" class="link" style="margin-right: 15px" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="thresholdVm.language.getLocale(\'section.calendar.info.help\')"></span> </a> </div> </div> <div class="search-bar"> <div class="typeahead-selector"> <input type="text" name="pool" class="form-control" uib-typeahead="item as item.name for item in thresholdVm.pools | filter:{name:$viewValue} | limitTo:100" typeahead-min-length="0" typeahead-show-hint="true" typeahead-no-results="noPoolResults" ng-model="thresholdVm.currentPool" placeholder="{{ ::thresholdVm.language.getLocale(\'placeholder.threshold.poolname\')}}" required> <span auto-close="disabled" is-open="true" uib-dropdown uib-dropdown-toggle> <ul class="uib-dropdown-menu" ng-show="noPoolResults"> <li>No Results Found</li> </ul> </span> <div class="panel panel-alert" ng-show="thresholdVm.searchForm.$submitted && !thresholdVm.isObject(thresholdVm.currentPool)" ng-bind="thresholdVm.language.getLocale(\'validation.poolname.required\')"> </div> <input type="checkbox" name="includeInActivePools" ng-model="thresholdVm.includeInactiveBidPools" ng-change="thresholdVm.setPools()"> <label for="includeInActivePools" ng-bind="thresholdVm.language.getLocale(\'section.pool.check.inactive\')"> </label> </div> <div class="date-selector inline-block"> <input type="text" name="startDate" class="form-control" uib-datepicker-popup="{{ ::thresholdVm.dateFormat}}" datepicker-options="thresholdVm.dateOptions" ng-model="thresholdVm.startDate" is-open="thresholdVm.status.start.open" ng-required="true" ng-change="thresholdVm.startDateChanged()" placeholder="{{ ::thresholdVm.datePlaceholder}}" close-text="Close" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="thresholdVm.openDatePicker($event, \'start\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> <div class="panel panel-alert" ng-show="thresholdVm.searchForm.$submitted && !thresholdVm.startDate" ng-bind="thresholdVm.language.getLocale(\'validation.startdate.required\')"> </div> </div> <div class="date-range-to" ng-bind="thresholdVm.language.getLocale(\'text.to\')"> </div> <div class="date-selector inline-block"> <input type="text" name="endDate" class="form-control" uib-datepicker-popup="{{ ::thresholdVm.dateFormat}}" datepicker-options="thresholdVm.dateOptions" ng-model="thresholdVm.endDate" min-date="thresholdVm.startDate" is-open="thresholdVm.status.end.open" ng-required="true" ng-change="thresholdVm.endDateChanged()" placeholder="{{ ::thresholdVm.datePlaceholder}}" close-text="Close" required> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-click="thresholdVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> <div class="panel panel-alert" ng-show="thresholdVm.searchForm.$submitted && !thresholdVm.endDate" ng-bind="thresholdVm.language.getLocale(\'validation.enddate.required\')"> </div> </div> <div class="inline-block search-button-container"> <button type="submit" class="btn btn-primary search-button" ng-click="thresholdVm.search()" ng-bind="thresholdVm.language.getLocale(\'button.search\')" ng-disabled="thresholdVm.searchForm.processing"> </button> </div> </div> </form> </div> </div> </div> <div id="thresholds-container"> <div class="white-pane thresholds-pane" id="thresholds-pane" ng-show="thresholdVm.thresholds && !thresholdVm.daysProcessing"> <div> <h2 class="month-range"> <span ng-bind="thresholdVm.monthStart | dateTime : \'\': \'MMMM YYYY\'"></span> <span> - </span> <span ng-bind="thresholdVm.monthEnd | dateTime : \'\': \'MMMM YYYY\'"></span> </h2> <div id="threshold-virtual-list" class="virtual-list" virtual-list container="threshold-virtual-list" row-height="84" height="450" parent-vm="thresholdVm" ui-data-provider="thresholdVm.currentRows" template-url="app/features/threshold/partials/threshold-virtual-list.html"> </div> </div> </div> </div> <div ng-controller="ModalController" class="clearfix button-container padding"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="cancelChanges()" ng-bind="thresholdVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-if="thresholdVm.editMode" ng-bind="thresholdVm.language.getLocale(\'button.save\')" ng-click="thresholdVm.submitThreshold()" ng-disabled="thresholdVm.thresholdForm.processing || !thresholdVm.thresholdForm.submitReady"> </button> </div> </div> <div threshold-modal></div> </div> </div>'),
a.put("app/features/transfer/partials/transfer-modal.html",'<div class="side-modal-body white-container" ng-if="modalVm.modalId"> <div class="modal-header clearfix"> <div class="title float-left" ng-bind="modalVm.language.getLocale(\'section.transfer.title.add\')" ng-if="!modalVm.editMode"> </div> <div class="title float-left" ng-bind="modalVm.language.getLocale(\'section.transfer.title.edit\')" ng-if="modalVm.editMode"> </div> <button type="button" class="float-right close-modal unstyled" ng-click="modalVm.cancelModal(\'{{modalVm.modalId}}\')" ng-bind="modalVm.language.getLocale(\'modal.close.x\')"> </button> </div> <div class="padding"> <div class="scroll-content"> <form name="modalVm.addForm" novalidate> <div class="width-fill bmargin-20" ng-if="!modalVm.editMode"> <label for="search-type" class="unstyled" ng-bind="modalVm.language.getLocale(\'label.type\')"> </label> <select id="search-type" name="searchType" class="form-control" ng-options="item.name for item in modalVm.searchTypes" ng-model="modalVm.searchType"> </select> </div> <div ng-if="modalVm.searchType.id === 0" class="width-fill bmargin-20"> <label for="perners" class="unstyled" ng-bind="modalVm.language.getLocale(\'label.perners\')"> </label> <textarea id="perners" name="perners" class="form-control no-resize perners" placeholder="{{ ::modalVm.language.getLocale(\'placeholder.transfer.perners\')}}" ng-model="modalVm.perners" ng-required="modalVm.searchType.id === 0" ng-disabled="modalVm.editMode">\n                    </textarea> <div class="panel panel-alert" ng-show="modalVm.addForm.$submitted && modalVm.utilities.isEmpty(modalVm.addForm.perners.$error) === false"> <div ng-bind="modalVm.language.getLocale(\'validation.perners.required\')" ng-show="modalVm.addForm.perners.$error.required"> </div> </div> </div> <div class="width-fill bmargin-20"> <label for="old-org" class="unstyled" ng-bind="modalVm.language.getLocale(\'section.transfer.label.oldorg\')"> </label> <input id="old-org" type="text" name="oldOrg" class="form-control" placeholder="{{ ::modalVm.placeholder.oldOrgUnit}}" ng-model="modalVm.oldOrg.id" ng-change="modalVm.getOrgName(modalVm.oldOrg.id, \'oldOrg\')" minlength="8" maxlength="8" ng-minlength="8" ng-maxlength="8" ng-pattern="modalVm.validation.onlyNumbers" ng-disabled="modalVm.editMode && modalVm.searchType.id === 1" ng-required="(modalVm.searchType.id === 0 && modalVm.oldOrg !== false) || (modalVm.searchType.id === 1 && modalVm.oldOrg !== false && !modalVm.addForm.newOrg.$viewValue)"> <div ng-bind="modalVm.oldOrg.name" ng-show="modalVm.oldOrg.name"> </div> <div class="panel panel-alert" ng-show="modalVm.addForm.$submitted && modalVm.utilities.isEmpty(modalVm.addForm.oldOrg.$error) === false"> <div ng-bind="modalVm.language.getLocale(\'validation.orgunit.required\')" ng-show="modalVm.addForm.oldOrg.$error.required"> </div> <div ng-bind="modalVm.language.getLocale(\'validation.orgunit.pattern\')" ng-show="modalVm.addForm.oldOrg.$error.pattern"> </div> <div ng-bind="modalVm.language.getLocale(\'validation.orgunit.minlength\')" ng-show="modalVm.addForm.oldOrg.$error.minlength"> </div> </div> <div class="panel panel-alert" ng-bind="modalVm.language.getLocale(\'section.pool.lookup.org.noresults\')" ng-show="modalVm.oldOrg.name === false"> </div> </div> <div class="width-fill bmargin-20"> <label for="new-org" class="unstyled" ng-bind="modalVm.language.getLocale(\'section.transfer.label.neworg\')"> </label> <input id="new-org" type="text" name="newOrg" class="form-control" placeholder="{{ ::modalVm.placeholder.newOrgUnit}}" ng-model="modalVm.newOrg.id" ng-change="modalVm.getOrgName(modalVm.newOrg.id, \'newOrg\')" minlength="8" maxlength="8" ng-minlength="8" ng-maxlength="8" ng-pattern="modalVm.validation.onlyNumbers" ng-disabled="modalVm.editMode && modalVm.searchType.id === 1" ng-required="(modalVm.searchType.id === 0 && modalVm.newOrg !== false) || (modalVm.searchType.id === 1 && modalVm.newOrg !== false && !modalVm.addForm.oldOrg.$viewValue)"> <div ng-bind="modalVm.newOrg.name" ng-show="modalVm.newOrg.name"> </div> <div class="panel panel-alert" ng-show="modalVm.addForm.$submitted && modalVm.utilities.isEmpty(modalVm.addForm.newOrg.$error) === false"> <div ng-bind="modalVm.language.getLocale(\'validation.orgunit.required\')" ng-show="modalVm.addForm.newOrg.$error.required"> </div> <div ng-bind="modalVm.language.getLocale(\'validation.orgunit.pattern\')" ng-show="modalVm.addForm.newOrg.$error.pattern"> </div> <div ng-bind="modalVm.language.getLocale(\'validation.orgunit.minlength\')" ng-show="modalVm.addForm.newOrg.$error.minlength"> </div> </div> <div class="panel panel-alert" ng-bind="modalVm.language.getLocale(\'section.pool.lookup.org.noresults\')" ng-show="modalVm.newOrg.name === false"> </div> </div> <div class="width-fill bmargin-20"> <label class="unstyled" ng-bind="modalVm.language.getLocale(\'section.transfer.modal.enddate\')"> </label> <div class="date-selector width-fill"> <input type="text" name="endDate" class="form-control" placeholder="{{ ::modalVm.placeholder.endDate}}" uib-datepicker-popup="{{ ::modalVm.dateFormat}}" datepicker-options="modalVm.dateOptions" min-date="modalVm.minDate" close-text="Close" is-open="modalVm.status.end.open" ng-model="modalVm.endDate" ng-change="modalVm.endDateChanged()" ng-disabled="modalVm.editMode && modalVm.searchType.id === 1" ng-required="modalVm.searchType.id === 1 && !modalVm.editMode"> <span class="input-group-btn cal-icon bottom-align"> <button type="button" class="btn btn-default" ng-disabled="modalVm.editMode && modalVm.searchType.id === 1" ng-click="modalVm.openDatePicker($event, \'end\')"> <i class="glyphter custom-icon-calendar"></i> </button> </span> <div class="panel panel-alert" ng-show="modalVm.addForm.$submitted && modalVm.utilities.isEmpty(modalVm.addForm.endDate.$error) === false && !modalVm.editMode" ng-bind="modalVm.language.getLocale(\'validation.enddate.required\')"> </div> </div> </div> <div class="width-fill bmargin-20"> <label for="reason" class="unstyled" ng-bind="modalVm.language.getLocale(\'section.transfer.label.reason\')"> </label> <input id="reason" type="text" name="reason" class="form-control" placeholder="{{modalVm.language.getLocale(\'section.transfer.label.reason.placeholder\')}}" ng-model="modalVm.reason"> </div> </form> </div> <div class="button-container"> <button type="submit" class="btn btn-success submit bmargin-20" ng-bind="modalVm.language.getLocale(\'button.submit\')" ng-click="modalVm.submitTransfer()" ng-disabled="modalVm.addForm.processing"> </button> <button type="button" class="btn btn-default cancel-btn bmargin-20" ng-click="modalVm.cancelModal(\'{{modalVm.modalId}}\')" ng-bind="modalVm.language.getLocale(\'button.cancel\')"> </button> <button type="button" class="btn btn-danger" ng-if="modalVm.editMode" ng-bind="modalVm.language.getLocale(\'button.delete\')" ng-click="modalVm.removeTransfer()" ng-disabled="modalVm.addForm.processing"> </button> </div> </div> </div>'),a.put("app/features/transfer/transfer.html",'<div class="transfer page container back flex outer-modal-container"> <div class="page-header order-0 padding clearfix"> <h1 ng-bind="transferVm.title" class="page-title"></h1> </div> <div class="order-2"> <div ng-if="!transferVm.events.length && transferVm.userMsgType === \'noScheduletransfer\'" class="hpadding bpadding"> <div class="userNotification error fill-container" role="alert" aria-live="assertive"> <div class="inline-block"> <div ng-bind="transferVm.language.getLocale(\'notifications.calendar.message.noscheduletransfer\')"></div> </div> </div> </div> <div class="white-pane search-form-container"> <div class="flex"> <div class="order-1 clearfix"> <form name="transferVm.searchForm" novalidate> <div class="info-container"> <a ng-href="{{transferVm.helpUrl}}" class="link" target="_blank"> <span class="glyphicon glyphicon-info-sign light-bg"></span> <span ng-bind="transferVm.language.getLocale(\'section.calendar.info.help\')"></span> </a> </div> <div class="clearfix"> <div class="float-left"> <div class="inline-block width-130 mobile-fill bmargin-20"> <label for="search-type" class="unstyled" ng-bind="transferVm.language.getLocale(\'label.type\')"> </label> <select id="search-type" name="searchType" class="form-control" ng-options="item.name for item in transferVm.searchTypes" ng-change="transferVm.reset()" ng-model="transferVm.searchType"> </select> </div> <div class="rborder-divider desktop-only"></div> <div class="inline-block"> <div ng-if="transferVm.searchType.id === 0" class="inline-block width-100 mobile-fill bmargin-20"> <label for="search-perner" class="unstyled" ng-bind="transferVm.language.getLocale(\'label.perner\')"> </label> <input id="search-perner" type="text" name="perner" class="form-control" ng-model="transferVm.perner" minlength="8" maxlength="8" ng-minlength="8" ng-maxlength="8" ng-pattern="transferVm.validation.onlyNumbers"> <div class="panel panel-alert" ng-show="transferVm.searchForm.$submitted && transferVm.utilities.isEmpty(transferVm.searchForm.perner.$error) === false"> <div ng-bind="transferVm.language.getLocale(\'validation.perner.pattern\')" ng-show="transferVm.searchForm.perner.$error.pattern"> </div> <div ng-bind="transferVm.language.getLocale(\'validation.perner.minlength\')" ng-show="transferVm.searchForm.perner.$error.minlength"> </div> </div> </div> <div class="inline-block width-160 mobile-fill bmargin-20"> <label for="old-org" class="unstyled" ng-bind="transferVm.language.getLocale(\'section.transfer.label.oldorg\')"> </label> <div class="typeahead-selector"> <input type="text" id="old-org" name="oldOrg" class="form-control transfer-typeahead-selector" uib-typeahead="item as item.orgUnitCode for item in transferVm.orgUnits | filter:{orgUnitCode:$viewValue} | limitTo:100" typeahead-min-length="2" typeahead-show-hint="true" typeahead-no-results="noOrgUnitResults" ng-model="transferVm.oldOrg" ng-change="transferVm.orgChanged(transferVm.oldOrg, \'oldOrgUnitName\')" typeahead-on-select="transferVm.orgChanged(transferVm.oldOrg.orgUnitCode, \'oldOrgUnitName\')" placeholder="{{ ::transferVm.language.getLocale(\'placeholder.threshold.transfername\')}}"> <span auto-close="disabled" is-open="true" uib-dropdown uib-dropdown-toggle> <ul class="uib-dropdown-menu" ng-show="noOrgUnitResults"> <li>No Results Found</li> </ul> </span> </div> <div ng-bind="transferVm.oldOrg.orgUnitName" ng-show="transferVm.oldOrg"> </div> <div class="panel panel-alert" ng-show="transferVm.searchForm.$submitted && transferVm.utilities.isEmpty(transferVm.searchForm.oldOrg.$error) === false"> <div ng-bind="transferVm.language.getLocale(\'validation.orgunit.pattern\')" ng-show="transferVm.searchForm.oldOrg.$error.pattern"> </div> <div ng-bind="transferVm.language.getLocale(\'validation.orgunit.minlength\')" ng-show="transferVm.searchForm.oldOrg.$error.minlength"> </div> </div> <div class="panel panel-alert" ng-bind="transferVm.language.getLocale(\'section.pool.lookup.org.noresults\')" ng-show="transferVm.oldOrgUnitName === false && transferVm.utilities.isEmpty(transferVm.searchForm.oldOrg.$error)"> </div> </div> <div class="inline-block width-160 mobile-fill bmargin-20"> <label for="new-org" class="unstyled" ng-bind="transferVm.language.getLocale(\'section.transfer.label.neworg\')"> </label> <div class="typeahead-selector"> <input type="text" id="new-org" name="newOrg" class="form-control transfer-typeahead-selector" uib-typeahead="item as item.orgUnitCode for item in transferVm.orgUnits | filter:{orgUnitCode:$viewValue} | limitTo:100" typeahead-min-length="2" typeahead-show-hint="true" typeahead-no-results="noOrgUnitResults" ng-model="transferVm.newOrg" ng-change="transferVm.orgChanged(transferVm.newOrg, \'newOrgUnitName\')" typeahead-on-select="transferVm.orgChanged(transferVm.newOrg.orgUnitCode, \'newOrgUnitName\')" placeholder="{{ ::transferVm.language.getLocale(\'placeholder.threshold.transfername\')}}"> </div> <span auto-close="disabled" is-open="true" uib-dropdown uib-dropdown-toggle> <ul class="uib-dropdown-menu" ng-show="noOrgUnitResults"> <li>No Results Found</li> </ul> </span> <div ng-bind="transferVm.newOrg.orgUnitName" ng-show="transferVm.newOrg"> </div> <div class="panel panel-alert" ng-show="transferVm.searchForm.$submitted && transferVm.utilities.isEmpty(transferVm.searchForm.newOrg.$error) === false"> <div ng-bind="transferVm.language.getLocale(\'validation.orgunit.pattern\')" ng-show="transferVm.searchForm.newOrg.$error.pattern"> </div> <div ng-bind="transferVm.language.getLocale(\'validation.orgunit.minlength\')" ng-show="transferVm.searchForm.newOrg.$error.minlength"> </div> </div> <div class="panel panel-alert" ng-bind="transferVm.language.getLocale(\'section.pool.lookup.org.noresults\')" ng-show="transferVm.newOrgUnitName === false && transferVm.utilities.isEmpty(transferVm.searchForm.newOrg.$error)"> </div> </div> <div class="inline-block width-160 mobile-fill bmargin-20"> <label for="reason" class="unstyled" ng-bind="transferVm.language.getLocale(\'section.transfer.label.reason\')"> </label> <input type="text" id="reason" name="reason" class="form-control transfer-typeahead-selector" ng-model="transferVm.reason"> </div> <div> <div class="panel panel-alert fields-empty" ng-show="transferVm.searchForm.$submitted && !transferVm.searchForm.perner.$viewValue && !transferVm.searchForm.oldOrg.$viewValue && !transferVm.searchForm.newOrg.$viewValue && !transferVm.searchForm.reason.$viewValue"> <div ng-bind="transferVm.language.getLocale(\'validation.transfer.search\')"> </div> </div> </div> </div> <button type="submit" class="btn btn-primary inline-block search-button mobile-fill bmargin-20" ng-click="transferVm.submitSearch()" ng-bind="transferVm.language.getLocale(\'button.search\')" ng-disabled="!transferVm.canSearch && !transferVm.perner && !transferVm.reason"> </button> </div> </div> </form> </div> </div> </div> <div ng-show="transferVm.searchResults" class="white-pane"> <form name="transferVm.transferForm" novalidate> <div ng-if="transferVm.searchResults"> <table class="transfer-table bmargin-40"> <thead> <tr> <th> <th class="tperner" ng-hide="transferVm.searchResultsType.id === 1"> <div ng-bind="transferVm.language.getLocale(\'section.transfer.table.header.perner\')"> </div>  <th class="fullname" ng-hide="transferVm.searchResultsType.id === 1"> <div ng-bind="transferVm.language.getLocale(\'section.transfer.table.header.fullname\')"> </div>  <th class="old-org"> <div ng-bind="transferVm.language.getLocale(\'section.transfer.table.header.oldorg\')"></div>  <th class="new-org"> <div ng-bind="transferVm.language.getLocale(\'section.transfer.table.header.neworg\')"></div>  <th class="end-date"> <div ng-bind="transferVm.language.getLocale(\'section.transfer.table.header.enddate\')"></div>  <th class="reason"> <div ng-bind="transferVm.language.getLocale(\'section.transfer.label.reason\')"></div>    <tbody> <tr ng-repeat="item in transferVm.searchResults"> <td class="checkbox-cell" ng-if="transferVm.searchResultsType.id === 0"> <input type="checkbox" name="resultRow[{{$index}}]" ng-model="transferVm.resultRow[$index]">  <td class="checkbox-cell" ng-if="transferVm.searchResultsType.id === 1"> <input type="radio" name="resultRow" ng-model="transferVm.resultRow[$index]" ng-change="transferVm.setRadio($index)" ng-value="true">  <td ng-hide="transferVm.searchResultsType.id === 1"> <div ng-bind="item.perner"></div>  <td ng-hide="transferVm.searchResultsType.id === 1"> <div ng-bind="item.name"></div>  <td> <div ng-bind="item.oldOrgUnit.name"></div>  <td> <div ng-bind="item.newOrgUnit.name"></div>  <td> <div ng-bind="item.endDate | dateTime : \'\': \'MM/DD/YY\'"></div>  <td> <div ng-bind="item.reason"></div>    </table> <button type="button" class="btn btn-default" ng-click="transferVm.editSelected()" ng-bind="transferVm.language.getLocale(\'section.transfer.button.edit\')"> </button> </div> </form> </div> <div ng-controller="ModalController" class="clearfix button-container padding"> <div class="float-right flex mobile-only"> <button type="button" class="btn btn-default cancel-btn order-2" ng-click="cancelChanges()" ng-bind="transferVm.language.getLocale(\'button.cancel\')"> </button> <button type="submit" class="btn btn-success order-1 submit" ng-if="transferVm.editMode" ng-bind="transferVm.language.getLocale(\'section.transfer.button.addtransfer\')" ng-click="transferVm.launchPanel({id: \'transfer-modal-0\', name: \'transfer-modal\'})"> </button> </div> </div> <div transfer-modal-parent></div> </div> </div>'),a.put("app/features/unauth/unauth.html",'<div class="call-out page container front"> <div class="hpadding bpadding"> <div ng-if="unauthVm.status === 401"> <h3 ng-bind="unauthVm.language.getLocale(\'section.error.title.unauthorized\')"> </h3> <div class="userNotification error fill-container" ng-bind="unauthVm.language.getLocale(\'section.error.message.unauthorized\')"> </div> </div> <div ng-if="unauthVm.status === 404"> <h3 ng-bind="unauthVm.language.getLocale(\'section.error.title.notfound\')"> </h3> <div class="userNotification error fill-container" ng-bind="unauthVm.language.getLocale(\'section.error.message.notfound\')"> </div> </div> <div ng-if="unauthVm.status === 498"> <h3 ng-bind="unauthVm.language.getLocale(\'section.error.title.invalidcast\')"> </h3> <div class="userNotification error fill-container" ng-bind="unauthVm.language.getLocale(\'section.error.message.invalidcast\')"> </div> </div> </div> </div>'),a.put("mwl/templates/calendar.html",'<div ng-switch="vm.view" ng-class="{\'cal-context\': !vm.calendarVm.inWeeklyView}"> <div class="alert alert-danger" ng-switch-default>The value passed to the view attribute of the calendar is not set</div> <div class="alert alert-danger" ng-hide="vm.viewDate">The value passed to view-date attribute of the calendar is not set</div> <mwl-calendar-year events="vm.events" view-date="vm.viewDate" on-event-click="vm.onEventClick" on-event-times-changed="vm.onEventTimesChanged" on-edit-event-click="vm.onEditEventClick" on-delete-event-click="vm.onDeleteEventClick" on-timespan-click="vm.onTimespanClick" edit-event-html="vm.editEventHtml" delete-event-html="vm.deleteEventHtml" cell-is-open="vm.cellIsOpen" cell-modifier="vm.cellModifier" ng-switch-when="year"></mwl-calendar-year> <mwl-calendar-month calendar-vm="vm.calendarVm" events="vm.events" view-date="vm.viewDate" on-event-click="vm.onEventClick" on-event-times-changed="vm.onEventTimesChanged" on-edit-event-click="vm.onEditEventClick" on-delete-event-click="vm.onDeleteEventClick" on-timespan-click="vm.onTimespanClick" edit-event-html="vm.editEventHtml" delete-event-html="vm.deleteEventHtml" cell-is-open="vm.cellIsOpen" cell-modifier="vm.cellModifier" ng-switch-when="month"></mwl-calendar-month> <mwl-calendar-week calendar-vm="vm.calendarVm" events="vm.events" view-date="vm.viewDate" on-event-click="vm.onEventClick" on-event-times-changed="vm.onEventTimesChanged" day-view-start="vm.dayViewStart" day-view-end="vm.dayViewEnd" day-view-split="vm.dayViewSplit" on-timespan-click="vm.onTimespanClick" ng-switch-when="week"></mwl-calendar-week> <mwl-calendar-day events="vm.events" view-date="vm.viewDate" on-event-click="vm.onEventClick" on-event-times-changed="vm.onEventTimesChanged" on-timespan-click="vm.onTimespanClick" day-view-start="vm.dayViewStart" day-view-end="vm.dayViewEnd" day-view-split="vm.dayViewSplit" ng-switch-when="day"></mwl-calendar-day> </div>'),a.put("mwl/templates/calendarDayView.html",'<div class="cal-day-box"> <div class="row-fluid clearfix cal-row-head"> <div class="span1 col-xs-1 cal-cell" ng-bind="vm.calendarConfig.i18nStrings.timeLabel"></div> <div class="span11 col-xs-11 cal-cell" ng-bind="vm.calendarConfig.i18nStrings.eventsLabel"></div> </div> <div class="cal-day-panel clearfix" ng-style="{height: vm.dayViewHeight + \'px\'}"> <mwl-calendar-hour-list day-view-start="vm.dayViewStart" day-view-end="vm.dayViewEnd" day-view-split="vm.dayViewSplit" on-timespan-click="vm.onTimespanClick" view-date="vm.viewDate"> </mwl-calendar-hour-list> <div class="pull-left day-event day-highlight" ng-repeat="event in vm.view track by event.$id" ng-class="\'dh-event-\' + event.type + \' \' + event.cssClass" ng-style="{top: event.top + \'px\', left: event.left + 60 + \'px\', height: event.height + \'px\'}" mwl-draggable="event.draggable === true" axis="\'xy\'" snap-grid="{y: 30, x: 50}" on-drag="vm.eventDragged(event, y)" on-drag-end="vm.eventDragComplete(event, y)" mwl-resizable="event.resizable === true && event.endsAt" resize-edges="{top: true, bottom: true}" on-resize="vm.eventResized(event, edge, y)" on-resize-end="vm.eventResizeComplete(event, edge, y)"> <span class="cal-hours"> <span ng-show="event.top == 0"><span ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'day\':true"></span>, </span> <span ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'time\':true"></span> </span> <a href="#" class="event-item" ng-click="vm.onEventClick({calendarEvent: event})"> <span ng-bind-html="vm.$sce.trustAsHtml(event.title) | calendarTruncateEventTitle:20:event.height"></span> </a> </div> </div> </div>'),a.put("mwl/templates/calendarHourList.html",'<div class="cal-day-panel-hour"> <div class="cal-day-hour" ng-repeat="hour in vm.hours track by $index"> <div class="row-fluid cal-day-hour-part" ng-click="vm.onTimespanClick({calendarDate: hour.date.toDate()})"> <div class="span1 col-xs-1"><strong ng-bind="hour.label"></strong></div> <div class="span11 col-xs-11"></div> </div> <div class="row-fluid cal-day-hour-part" ng-click="vm.onTimespanClick({calendarDate: hour.date.clone().add(vm.dayViewSplit, \'minutes\').toDate()})"> <div class="span1 col-xs-1"></div> <div class="span11 col-xs-11"></div> </div> <div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 30" ng-click="vm.onTimespanClick({calendarDate: hour.date.clone().add(vm.dayViewSplit * 2, \'minutes\').toDate()})"> <div class="span1 col-xs-1"></div> <div class="span11 col-xs-11"></div> </div> <div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 30" ng-click="vm.onTimespanClick({calendarDate: hour.date.clone().add(vm.dayViewSplit * 3, \'minutes\').toDate()})"> <div class="span1 col-xs-1"></div> <div class="span11 col-xs-11"></div> </div> <div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 15" ng-click="vm.onTimespanClick({calendarDate: hour.date.clone().add(vm.dayViewSplit * 4, \'minutes\').toDate()})"> <div class="span1 col-xs-1"></div> <div class="span11 col-xs-11"></div> </div> <div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 15" ng-click="vm.onTimespanClick({calendarDate: hour.date.clone().add(vm.dayViewSplit * 5, \'minutes\').toDate()})"> <div class="span1 col-xs-1"></div> <div class="span11 col-xs-11"></div> </div> </div> </div>'),a.put("mwl/templates/calendarMonthCell.html","<div> <div class=\"cal-month-day {{ day.cssClass }}\" ng-click=\"vm.dayClicked(day, false, $event, true)\" ng-class=\"{\n            'cal-month-day-selected': day.events[0].userSelectedDay === true,\n            'cal-day-outmonth': !day.inMonth,\n            'cal-day-inmonth': day.inMonth,\n            'cal-day-weekend': day.isWeekend,\n            'cal-day-past': day.isPast,\n            'cal-day-future': day.isFuture,\n            'approved': day.events[0].timeoff.isApproved === true && day.events[0].timeOffDayState !== vm.dayStates.past,\n            'available': day.events[0].timeoff.isAvailable === true && day.events[0].timeOffDayState !== vm.dayStates.past,\n            'unavailable': day.events[0].timeoff.isAvailable === false && day.events[0].timeOffDayState !== vm.dayStates.past,\n            'vacation': day.events[0].isVacation === true && day.events[0].timeOffDayState !== vm.dayStates.past,\n            'rdo': day.events[0].isRdo === true,\n            'lrdo': day.events[0].timeoff.isLrdo === true,\n            'waitlist': (day.events[0].timeoff.isWaitlisted === true || day.events[0].timeoff.isPending === true || day.events[0].additionalHours) && day.events[0].timeOffDayState !== vm.dayStates.past,\n            'past': day.events[0].timeOffDayState === vm.dayStates.past && day.events[0].additionalHoursDayState === vm.dayStates.past,\n"+'            \'blockout\': (day.events[0].timeOffDayState === vm.dayStates.blocked || day.events[0].timeOffDayState === vm.dayStates.past) && (day.events[0].additionalHoursDayState === vm.dayStates.blocked || day.events[0].additionalHoursDayState === vm.dayStates.past)}"> <div class="cal-events-num badge" ng-show="day.events[0].badge"> </div> <div> <div class="waitlist-count" ng-show="!(day.events[0].timeoff.hasTimeoff || day.events[0].timeoff.isAvailable) && !day.events[0].additionalHours && !day.events[0].isRdo"> </div> </div> <span class="day-number" data-cal-date ng-bind="day.label" ng-class="{\'cal-day-today\': day.isToday}"> </span> <ng-include src="vm.calendarConfig.templates.calendarMonthCellEvents"> </ng-include> </div> </div>'),a.put("mwl/templates/calendarMonthCellEvents.html",'<div class="events-list" ng-show="day.events.length > 0"> <a ng-repeat="event in day.events | orderBy:\'startsAt\' track by event.$id" href="#" ng-click="vm.onEventClick({calendarEvent: event})" class="pull-left event" ng-class="\'event-\' + event.type + \' \' + event.cssClass" ng-mouseenter="vm.highlightEvent(event, true)" ng-mouseleave="vm.highlightEvent(event, false)" tooltip-append-to-body="false" mwl-draggable="event.draggable === true" drop-data="{event: event, draggedFromDate: day.date.toDate()}" ng-if="event.isEvent === true"> </a> </div>'),a.put("mwl/templates/calendarMonthView.html",'<div class="cal-row-fluid cal-row-head"> <div class="cal-cell1 weekday-header" ng-repeat="day in vm.weekDays track by $index" ng-bind="day"> </div> </div> <div class="cal-month-box"> <div ng-repeat="rowOffset in vm.monthOffsets track by rowOffset" ng-mouseenter="rowHovered = true" ng-mouseleave="rowHovered = false"> <div class="cal-row-fluid cal-before-eventlist"> <div ng-repeat="day in vm.view | calendarLimitTo:7:rowOffset track by $index" ng-init="dayIndex = vm.view.indexOf(day)" class="cal-cell1 cal-cell {{ day.highlightClass }}" ng-class="{\'uneditable\': day.events[0].isUneditable === true}"> <ng-include src="vm.calendarConfig.templates.calendarMonthCell"></ng-include> </div> </div> <mwl-calendar-slide-box is-open="vm.openRowIndex === $index && vm.view[vm.openDayIndex].events.length > 0" events="vm.view[vm.openDayIndex].events" on-event-click="vm.onEventClick" edit-event-html="vm.editEventHtml" on-edit-event-click="vm.onEditEventClick" delete-event-html="vm.deleteEventHtml" on-delete-event-click="vm.onDeleteEventClick"> </mwl-calendar-slide-box> </div> </div> <div ahsu-container></div> <div calendar-day-detail calendar-date="vm.viewDay"></div>'),a.put("mwl/templates/calendarSlideBox.html",'<div class="cal-slide-box" uib-collapse="vm.isCollapsed" mwl-collapse-fallback="vm.isCollapsed"> <div class="cal-slide-content cal-event-list"> <ul class="unstyled list-unstyled"> <li ng-repeat="event in vm.events | orderBy:\'startsAt\' track by event.$id" class="clearfix" ng-class="{\'rdo\': event.isRdo && !event.pay.name && event.timeOffDayState !== vm.dayStates.past}"> <a class="review-time" ng-if="event.timeOffDayState === vm.dayStates.past" href="https://wb5timerecording.disney.com/etm/time/timesheet/dsnyEtmTnsDetail.jsp?date={{event.date | dateTime : \'\': \'MM.DD.YYYY\'}}"> <div class="float-left"> <div class="event-title">Past Date</div> <div>View past schedule</div> </div> <div class="glyphicon glyphicon-menu-right float-right"></div> </a> <a href="#" ng-if="event.timeOffDayState !== vm.dayStates.past && !(vm.allotmentBalance <= 0 && event.timeOffDayState === vm.dayStates.bid && event.isPending === false)" ng-click="vm.onEditEventClick({calendarEvent: event})"> <div class="float-left"> <div class="badge" ng-class="{\n                                \'approved\': event.isApproved,\n                                \'waitlist\': event.isWaitlist,\n                                \'waitlist-count\': event.waitListCount >= 0,\n                                \'pending\': event.isPending\n                            }"> </div> </div> <div class="float-left"> <div ng-if="event.isApproved" class="event-title"> Approved Time Off </div> <div ng-if="event.isWaitlist" class="event-title"> Waitlisted </div> <div ng-if="event.waitListCount >= 0 && !event.isPending"> <div class="event-title" ng-if="event.timeOffDayState !== vm.dayStates.bid"> Waitlist: <span ng-bind="event.waitListCount"></span> </div> <div class="event-title" ng-if="event.timeOffDayState === vm.dayStates.bid && vm.allotmentBalance > 0"> Waitlist </div> <div ng-if="event.timeOffDayState !== vm.dayStates.bid || (event.timeOffDayState === vm.dayStates.bid && vm.allotmentBalance > 0)"> Get added to the waitlist </div> </div> <div ng-if="event.isAvailable && event.isPending"> <div class="event-title"> Pending Time Off </div><br> </div> <div ng-if="!event.isAvailable && event.isPending"> <div class="event-title"> Pending Waitlist </div><br> </div> <div ng-if="event.isRdo && !event.pay.name && event.timeOffDayState !== vm.dayStates.blocked && !event.isApproved"> Regular Day Off (RDO) <div> &nbsp; </div> </div> <div ng-if="event.isAvailable && event.timeOffDayState !== vm.dayStates.blocked && !event.pay.name && !event.isRdo && !event.isPending"> <div class="event-title" ng-if="event.isAvailable && event.timeOffDayState !== vm.dayStates.bid && !event.isApproved"> Available </div> <div ng-if="event.timeOffDayState !== vm.dayStates.bid || (event.timeOffDayState === vm.dayStates.bid && vm.allotmentBalance > 0)" ng-hide="event.isApproved"> Add Time Off Request </div> <div ng-if="event.isAvailable && event.timeOffDayState === vm.dayStates.bid"> <br> </div> </div> <div ng-if="event.timeOffDayState === vm.dayStates.blocked && !event.pay.name && !event.isApproved && !event.isWaitlist"> <div class="event-title blockout"> Blockout Date </div> <div> &nbsp; </div> </div> <div class="event-item" ng-click="vm.onEventClick({calendarEvent: event})"> <span ng-bind-html="vm.$sce.trustAsHtml(event.title)"></span> <span ng-if="event.isEvent === true"> (<span ng-bind="event.startsAt | calendarDate:(isMonthView ? \'time\' : \'datetime\'):true"></span> <span ng-if="vm.calendarConfig.displayEventEndTimes && event.endsAt"> - <span ng-bind="event.endsAt | calendarDate:(isMonthView ? \'time\' : \'datetime\'):true"></span></span>) </span> </div> </div> <div ng-if="event.isApproved || event.isPending || event.timeOffDayState === vm.dayStates.past || event.isWaitlist" class="glyphicon glyphicon-menu-right float-right"> </div> <div ng-if="event.timeOffDayState === vm.dayStates.bid && !event.isApproved && !event.isPending && vm.allotmentBalance > 0 \n                        && event.isRdo === false && (event.isAvailable || event.waitListCount >= 0)" class="glyphicon glyphicon-plus-sign float-right"> </div> <div ng-if="event.timeOffDayState !== vm.dayStates.bid && event.timeOffDayState !== vm.dayStates.blocked && !event.isApproved \n                        && event.isRdo === false && !event.isPending && (event.isAvailable || event.waitListCount >= 0)" class="glyphicon glyphicon-plus-sign float-right"> </div> </a> <div ng-if="vm.allotmentBalance <= 0 && event.timeOffDayState === vm.dayStates.bid && event.isPending === false"> <br> <i ng-bind="vm.language.getLocale(\'section.calendar.message.zeroallocation\')"></i> <br> </div> </li> </ul> </div> </div>'),
a.put("mwl/templates/calendarWeekView.html",'<div class="cal-week-box" ng-class="{\'cal-day-box\': vm.showTimes}"> <div class="cal-week"> <div ng-repeat="day in vm.view.days track by $index" class="weekday-row-container clearfix" ng-attr-id="{{ \'schedule-day-\' + day.date.format(\'YYYYMMDD\') }}"> <dis-sticky-header ng-if="day.showHeader === true"> <div class="cal-week-header"> <div class="cal-week-header-date" ng-bind="day.weekLabel"></div> <a class="workforce-icon-font wm-Icon_Related_Items printable-schedule-icon" target="_blank" href="{{vm.printableScheduleHref}}"></a> </div> </dis-sticky-header> <div class="cal-row-fluid cal-row-head"> <div ng-if="$last" wfm-ng-repeat-complete after-ng-repeat="vm.afterScheduleDayFocus()"></div> <div class="cal-week-body"> <div class="cal-day-panel"> <p class="weekday-title"> <span ng-bind="day.weekDayLabel" class="weekday-label"> </span>, <span ng-bind="day.dayLabel" class="weekday-label-data"> </span> </p> <div class="week-events-container"> <p class="cal-week-empty-day" ng-if="day.event.schedule.isEmpty" ng-bind="vm.language.getLocale(\'section.calendar.week.emptyday\')"> </p> <div ng-repeat="shift in day.event.schedule.shifts" class="cal-week-schedule-item" ng-click="vm.shiftSelected(shift, false)"> <p class="cal-week-shift-position"> {{ shift.start.format("HH:mm") + \' - \' + shift.end.format("HH:mm") }} </p> <p ng-bind="shift.positionDescription"> </p> </div> <div ng-repeat="availabilityException in day.event.schedule.availabilityExceptions" class="cal-week-schedule-item"> <p class="cal-week-shift-position"> <span ng-bind="availabilityException.reasonDescription"> </p> </div> <div ng-if="day.event.schedule.isEmpty === true && day.event.schedule.openShift" ng-click="vm.shiftSelected(day.event.schedule.openShift, true)" class="ehh-recommendation"> <div class="ehh-description"> <p ng-bind="vm.language.getLocale(\'section.ehh.recommendation.prompt\')"> </p> <p class="ehh-shift-info"> {{ day.event.schedule.openShift.start.format("HH:mm") + \' - \' + day.event.schedule.openShift.end.format("HH:mm") }} <br> {{ day.event.schedule.openShift.positionDescription }} </p> </div> <div class="kng-icon-font kng-ic_next ehh-icon-next"> </div> </div> <div ng-if="vm.canEhh === true && (day.event.schedule.isEmpty === false || (day.event.schedule.isEmpty === true && !day.event.schedule.openShift))" ng-class="{\'add-ehh-shift-link\': !day.event.schedule.isEmpty}"> <a href="#" ng-click="vm.launchEhhSearch(day.date)"> <span class="centered-line"> <i class="kng-icon-font kng-ic_add calendar-future-requests-icon"> </i> <span class="calendar-future-requests-label" ng-bind="vm.language.getLocale(\'section.ehh.search.add-shift\')"> </span> </span> </a> </div> <div ng-if="vm.canEhh === true && day.event.schedule.isEmpty === true && day.event.schedule.openShift"> <span ng-bind="vm.language.getLocale(\'section.ehh.search.view-more-shifts\')" href="#" ng-click="vm.launchEhhSearch(day.date)" class="actionable-link"> </span> </div> <div class="action-options" style="float:right" ng-if="vm.view.events[$index].schedule.showActions === true"> <a href ng-click="vm.calendarCtrl.toggleActionOptions(vm.view.events[$index].schedule)"> <span class="glyphicon glyphicon-chevron-right"> </span> </a> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("mwl/templates/calendarYearView.html",'<div class="cal-year-box"> <div ng-repeat="rowOffset in [0, 4, 8] track by rowOffset"> <div class="row cal-before-eventlist"> <div class="span3 col-md-3 col-xs-6 cal-cell {{ day.cssClass }}" ng-repeat="month in vm.view | calendarLimitTo:4:rowOffset track by $index" ng-init="monthIndex = vm.view.indexOf(month)" ng-click="vm.calendarCtrl.dateClicked(month.date)" ng-class="{pointer: month.events.length > 0, \'cal-day-today\': month.isToday}" mwl-droppable on-drop="vm.handleEventDrop(dropData.event, month.date)"> <span class="pull-right" data-cal-date ng-bind="month.label"> </span> </div> </div> </div> </div>'),a.put("mwl/templates/reopenEhhShift.html",'<div id="reopen-ehh-shift-content-drawer-content" class="content-drawer-content"> <div id="reopen-ehh-shift-content-drawer-header" class="content-drawer-header clearfix"> <div class="pocket-panel-title"> <span ng-bind="reopenEhhShiftVm.language.getLocale(\'section.reopen.title\')"> </span> </div> </div> <div class="content-drawer-body"> <p id="reopen-ehh-shift-instructions" ng-bind="reopenEhhShiftVm.language.getLocale(\'section.reopen.instructions\')"> </p> <p class="shift-position-description" ng-bind="reopenEhhShiftVm.shift.positionDescription"> </p> <p> <span class="shift-detail-day-label" ng-bind="reopenEhhShiftVm.shift.shiftDayLabel"> </span>, <span ng-bind="reopenEhhShiftVm.shift.shiftDate"> </span> <br> <span ng-bind="reopenEhhShiftVm.shift.timeFrame"> </span> (<span id="shift-detail-shiftLength" ng-bind="reopenEhhShiftVm.shift.shiftLength"> </span>) </p> </div> </div> <div class="content-drawer-footer"> <button type="button" class="btn btn-default" ng-click="reopenEhhShiftVm.cancelReopenEhhShift()" ng-bind="reopenEhhShiftVm.language.getLocale(\'button.reopen.no\')"> </button> <button type="button" class="btn btn-default btn-success" ng-click="reopenEhhShiftVm.reopen()" ng-bind="reopenEhhShiftVm.language.getLocale(\'button.reopen.yes\')"> </button> </div>'),a.put("mwl/templates/shiftDetail.html",'<div class="pocket-panel-content"> <div class="pocket-panel-header clearfix"> <div class="pocket-panel-title"> <span ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.title\')"> </span> <button type="button" class="float-right unstyled" ng-click="shiftDetailVm.cancelModal(\'#shift-detail-pocket-panel\', true)"> <span class="kng-icon-font kng-ic_close"> </span> </button> </div> <div class="warning-message warning-message-lock" ng-if="shiftDetailVm.openShift && shiftDetailVm.isIneligible === false"> <span class="workforce-icon-font wm-Icon_Lock warning-message-icon"> </span> <p> <span ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.lockcountdown\')"> </span> <span class="shift-lock-countdown-timer" ng-bind="shiftDetailVm.formattedTimeToLockExpiration"> </span> <span ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.lockcountdown.units\')"> </span> </p> </div> </div> <div class="pocket-panel-body"> <div class="warning-message warning-message-stretch" ng-if="shiftDetailVm.showReopenMessage"> <span class="kng-icon-font kng-ic_alert warning-message-icon"> </span> <span ng-bind="shiftDetailVm.reopenMessage"> </span> </div> <p class="shift-position-description"> <span ng-if="shiftDetailVm.shift.ehhPositionDescription" ng-bind="shiftDetailVm.shift.ehhPositionDescription"> </span> <span ng-if="!shiftDetailVm.shift.ehhPositionDescription" ng-bind="shiftDetailVm.shift.positionDescription"> </span> </p> <p> <span class="shift-detail-day-label" ng-bind="shiftDetailVm.shift.shiftDayLabel"> </span>, <span ng-bind="shiftDetailVm.shift.shiftDate"> </span> <br> <span ng-bind="shiftDetailVm.shift.timeFrame"> </span> (<span id="shift-detail-shiftLength" ng-bind="shiftDetailVm.shift.shiftLength"> </span>) </p> <p> <div class="shift-detail-data"> <label for="shift-detail-shiftId" ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.shift.id\')"> </label> <span id="shift-detail-shiftId" ng-bind="shiftDetailVm.shift.id"> </span> </div> <div class="shift-detail-data" ng-if="shiftDetailVm.shift.propertyName"> <label for="shift-detail-property" ng-show="shiftDetailVm.shift.propertyName" ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.shift.property\')"> </label> <span id="shift-detail-property" ng-bind="shiftDetailVm.shift.propertyName"> </span> </div> <div class="shift-detail-data" ng-if="shiftDetailVm.isIneligible !== true && shiftDetailVm.shift.extraHoursPositionMeetingPlace"> <label for="shift-detail-meetingPlace" ng-show="shiftDetailVm.shift.extraHoursPositionMeetingPlace" ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.shift.meetingplace\')"> </label> <span id="shift-detail-meetingPlace" ng-bind="shiftDetailVm.shift.extraHoursPositionMeetingPlace"> </span> </div> <div class="shift-detail-data" ng-if="shiftDetailVm.isIneligible !== true && shiftDetailVm.shift.extraHoursPositionCostume.textBody !== null"> <label for="shift-detail-costume" ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.shift.costume\')"> </label> <span id="shift-detail-costume" ng-if="shiftDetailVm.shift.extraHoursPositionCostume.hasHyperlink === true"> <span ng-bind="shiftDetailVm.shift.extraHoursPositionCostume.textBody"> </span> <a ng-href="{{shiftDetailVm.shift.extraHoursPositionCostume.textHyperlink}}" target="_blank"> <span ng-bind="shiftDetailVm.shift.extraHoursPositionCostume.textHyperlinkName" class="shift-detail-hyperlink"> </span> </a> <span ng-bind="shiftDetailVm.shift.extraHoursPositionCostume.textBodyEnd"> </span> </span> <span id="shift-detail-costume" ng-if="shiftDetailVm.shift.extraHoursPositionCostume.hasHyperlink === false" ng-bind="shiftDetailVm.shift.extraHoursPositionCostume.textBody"> </span> </div> </p> <div ng-if="shiftDetailVm.isIneligible !== true" class="shift-details-container"> <table ng-hide="shiftDetailVm.shift.extraHoursPositionComments.textBody === null"> <tr> <td> <span class="kng-icon-font kng-ic_arrow_opened" ng-if="shiftDetailVm.shift.showComments === true" ng-click="shiftDetailVm.toggleShowComments(shiftDetailVm.shift)"></span> <span class="kng-icon-font kng-ic_arrow_closed" ng-if="shiftDetailVm.shift.showComments === false" ng-click="shiftDetailVm.toggleShowComments(shiftDetailVm.shift)"></span>  <td><label for="shift-detail-comments" ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.shift.comments\')"> </label>  <tr> <td> <td> <div ng-show="shiftDetailVm.shift.showComments"> <div ng-show="shiftDetailVm.shift.extraHoursPositionComments.hasHyperlink"> <span ng-bind="shiftDetailVm.shift.extraHoursPositionComments.textBody"></span> <a ng-href="{{shiftDetailVm.shift.extraHoursPositionComments.textHyperlink}}" target="_blank"> <span ng-bind="shiftDetailVm.shift.extraHoursPositionComments.textHyperlinkName" class="shift-detail-hyperlink"> </span> </a> <span ng-bind="shiftDetailVm.shift.extraHoursPositionComments.textBodyEnd"></span> </div> <div ng-hide="shiftDetailVm.shift.extraHoursPositionComments.hasHyperlink"> <span ng-bind="shiftDetailVm.shift.extraHoursPositionComments.textBody"></span> </div> </div>   </table> </div> <div ng-if="shiftDetailVm.isIneligible !== true" class="shift-details-container"> <table ng-hide="shiftDetailVm.shift.shiftNoteText == null"> <tr> <td> <span class="kng-icon-font kng-ic_arrow_opened" ng-if="shiftDetailVm.shift.showNotes === true" ng-click="shiftDetailVm.toggleShowNotes(shiftDetailVm.shift)"></span> <span class="kng-icon-font kng-ic_arrow_closed" ng-if="shiftDetailVm.shift.showNotes === false" ng-click="shiftDetailVm.toggleShowNotes(shiftDetailVm.shift)"></span>  <td><label for="shift-detail-notes" ng-bind="shiftDetailVm.language.getLocale(\'section.shiftdetails.shift.notes\')"> </label>  <tr> <td> <td> <div ng-show="shiftDetailVm.shift.showNotes"> <span id="shift-detail-notes" ng-bind="shiftDetailVm.shift.shiftNoteText"> </span> </div>   </table> </div> <div ng-if="shiftDetailVm.isIneligible === true" ineligible-reasons class="ineligible-reasons" reasons="shiftDetailVm.ineligibleReasons" ineligible-training-details="shiftDetailVm.ineligibleTrainingDetails"></div> </div> <div class="pocket-panel-footer-background" ng-class="{\'pocket-panel-footer-background-tall\': shiftDetailVm.showSwapBackButton}"></div> <div class="pocket-panel-footer"> <button type="button" ng-if="shiftDetailVm.showCloseButton" class="btn btn-default" ng-click="shiftDetailVm.cancelModal(\'#shift-detail-pocket-panel\', true)" ng-bind="shiftDetailVm.language.getLocale(\'button.close\')"> </button> <button type="button" ng-if="shiftDetailVm.showSignUpButton" class="btn btn-default btn-success" ng-click="shiftDetailVm.signUp()" ng-bind="shiftDetailVm.language.getLocale(\'button.shift.signup\')"> </button> <button type="button" ng-if="shiftDetailVm.showSwapBackButton" class="btn btn-default" ng-click="shiftDetailVm.swapBack()" ng-bind="shiftDetailVm.language.getLocale(\'button.shift.swapback\')"> </button> <button type="button" class="btn btn-default btn-success" ng-if="shiftDetailVm.showReopen" ng-disabled="shiftDetailVm.reopenDisabled" ng-click="shiftDetailVm.reopen()" ng-bind="shiftDetailVm.language.getLocale(\'button.shift.reopen\')"> </button> </div> </div>'),a.put("mwl/templates/signUp.html",'<div id="sign-up-content-drawer-content" class="content-drawer-content"> <div id="sign-up-content-drawer-header" class="content-drawer-header clearfix"> <div class="pocket-panel-title"> <span ng-if="signUpVm.isSwapBack !== true" ng-bind="signUpVm.language.getLocale(\'section.signup.title\')"> </span> <span ng-if="signUpVm.isSwapBack === true" ng-bind="signUpVm.language.getLocale(\'section.signup.swapback.title\')"> </span> <button type="button" class="float-right unstyled" ng-click="signUpVm.cancelSignUp()"> <span class="kng-icon-font kng-ic_close"> </span> </button> </div> <div class="warning-message warning-message-lock"> <span class="workforce-icon-font wm-Icon_Lock warning-message-icon"> </span> <p> <span ng-bind="signUpVm.language.getLocale(\'section.shiftdetails.lockcountdown\')"> </span> <span class="shift-lock-countdown-timer" ng-bind="signUpVm.formattedTimeToLockExpiration"> </span> <span ng-bind="signUpVm.language.getLocale(\'section.shiftdetails.lockcountdown.units\')"> </span> </p> </div> </div> <div id="sign-up-instructions" class="content-drawer-body"> <div class="sign-up-shift-container"> <div ng-if="signUpVm.isSwapBack" class="sign-up-shift swap-back-old-shift"> <div> <p class="shift-position-description"> <span class="swap-back-old-shift-label" ng-bind="signUpVm.language.getLocale(\'section.signup.swapback.old\')"> </span> <br> <span ng-bind="signUpVm.swapBackShift.positionDescription"> </span> </p> <p> <span class="shift-detail-day-label" ng-bind="signUpVm.swapBackShift.shiftDayLabel"> </span>, <span ng-bind="signUpVm.swapBackShift.shiftDate"> </span> <br> <span ng-bind="signUpVm.swapBackShift.timeFrame"> </span> (<span id="shift-detail-shiftLength" ng-bind="signUpVm.swapBackShift.shiftLength"> </span>) </p> </div> <hr class="hr-smaller-margin-bottom"> <div class="workforce-icon-font wm-Icon_Arrow_Right"> </div> </div> <div class="sign-up-shift"> <p class="shift-position-description" ng-class="{\'second-shift\': signUpVm.isSwapBack}"> <span ng-if="signUpVm.isSwapBack" class="swap-back-new-shift-label" ng-bind="signUpVm.language.getLocale(\'section.signup.swapback.new\')"> </span> <br ng-if="signUpVm.isSwapBack"> <span ng-bind="signUpVm.shift.positionDescription"> </span> </p> <p> <span class="shift-detail-day-label" ng-bind="signUpVm.shift.shiftDayLabel"> </span>, <span ng-bind="signUpVm.shift.shiftDate"> </span> <br> <span ng-bind="signUpVm.shift.timeFrame"> </span> (<span id="shift-detail-shiftLength" ng-bind="signUpVm.shift.shiftLength"> </span>) </p> </div> </div> <hr ng-if="signUpVm.isSwapBack"> <p> <span class="kng-icon-font" ng-class="{\n          \'kng-check_off\': !signUpVm.acknowledgeCertification,\n          \'kng-check_on\': signUpVm.acknowledgeCertification\n          }" ng-click="signUpVm.toggleCertification()"> </span> <span ng-bind="signUpVm.certification"> </span> </p> <p> <span class="kng-icon-font" ng-class="{\n          \'kng-check_off\': !signUpVm.acknowledgeTerms,\n          \'kng-check_on\': signUpVm.acknowledgeTerms\n          }" ng-click="signUpVm.toggleTerms()"> </span> <span ng-bind="signUpVm.language.getLocale(\'section.signup.acknowledge.terms\')"> </span> </p> <a href="{{signUpVm.termsUrl}}" target="_blank" ng-bind="signUpVm.language.getLocale(\'section.signup.link.terms\')"> </a> </div> </div> <div class="content-drawer-footer"> <button type="button" class="btn btn-default" ng-click="signUpVm.cancelSignUp()" ng-bind="signUpVm.language.getLocale(\'button.cancel\')"> </button> <button type="button" class="btn btn-default" ng-class="{\n          \'btn-success\': signUpVm.acknowledgeComplete,\n          \'continue-inactive\': !signUpVm.acknowledgeComplete\n          }" ng-click="signUpVm.signUp()"> <span ng-if="signUpVm.isSwapBack" ng-bind="signUpVm.language.getLocale(\'button.swap.confirm\')"> </span> <span ng-if="!signUpVm.isSwapBack" ng-bind="signUpVm.language.getLocale(\'button.signup\')"> </span> </button> </div>'),a.put("mwl/templates/swapBackSelect.html",'<div id="swap-back-select-content-drawer-content" class="content-drawer-content"> <div id="swap-back-select-content-drawer-header" class="content-drawer-header clearfix"> <div class="pocket-panel-title"> <span ng-bind="swapBackSelectVm.language.getLocale(\'section.signup.swapback.title\')"> </span> <button type="button" class="float-right unstyled" ng-click="swapBackSelectVm.cancelSwapBackSelect()"> <span class="kng-icon-font kng-ic_close"> </span> </button> </div> <div class="warning-message warning-message-lock"> <span class="workforce-icon-font wm-Icon_Lock warning-message-icon"> </span> <p> <span ng-bind="swapBackSelectVm.language.getLocale(\'section.shiftdetails.lockcountdown\')"> </span> <span class="shift-lock-countdown-timer" ng-bind="swapBackSelectVm.formattedTimeToLockExpiration"> </span> <span ng-bind="swapBackSelectVm.language.getLocale(\'section.shiftdetails.lockcountdown.units\')"> </span> </p> </div> </div> <div id="swap-back-select-instructions" class="content-drawer-body"> <p class="shift-position-description"> <span class="swap-back-old-shift-label" ng-bind="swapBackSelectVm.language.getLocale(\'section.signup.swapback.pending\')"> </span> <br> <span ng-bind="swapBackSelectVm.shift.positionDescription"> </span> </p> <p> <span class="shift-detail-day-label" ng-bind="swapBackSelectVm.shift.shiftDayLabel"> </span>, <span ng-bind="swapBackSelectVm.shift.shiftDate"> </span> <br> <span ng-bind="swapBackSelectVm.shift.timeFrame"> </span> (<span id="shift-detail-shiftLength" ng-bind="swapBackSelectVm.shift.shiftLength"> </span>) </p> <hr> <p> <span ng-bind="swapBackSelectVm.language.getLocale(\'section.signup.swapback.instructions\')"> </span> <span class="shift-detail-day-label" ng-bind="swapBackSelectVm.shift.shiftDayLabel"> </span>, <span ng-bind="swapBackSelectVm.swapDate"> </span> </p> <div ng-repeat="shift in swapBackSelectVm.swapBackShifts" ng-click="swapBackSelectVm.shiftSelected(shift)" class="swap-back-shift"> <div class="kng-radio-button"> <span class="kng-icon-font kng-radio_off"> </span> <span class="kng-icon-font kng-radio_on" ng-if="shift.selected"> </span> </div> <div class="ehh-search-result-shift" ng-class="{\'swap-back-shift-selected\': shift.selected}"> <p class="ehh-search-result-shift-times"> {{ shift.start.format("HH:mm") + \' - \' + shift.end.format("HH:mm") }} </p> <p class="ehh-search-result-shift-position" ng-bind="shift.positionDescription"> </p> </div> </div> </div> </div> <div class="content-drawer-footer"> <button type="button" class="btn btn-default" ng-click="swapBackSelectVm.cancelSwapBackSelect()" ng-bind="swapBackSelectVm.language.getLocale(\'button.cancel\')"> </button> <button type="button" class="btn btn-default" ng-class="{\n          \'btn-success\': swapBackSelectVm.selectionComplete,\n          \'continue-inactive\': !swapBackSelectVm.selectionComplete\n          }" ng-click="swapBackSelectVm.signUp()" ng-bind="swapBackSelectVm.language.getLocale(\'button.swap\')"> </button> </div>')}]);
//# sourceMappingURL=ScheduleView.min.ef16ebcd.js.map